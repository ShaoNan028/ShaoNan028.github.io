(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"003d":function(t,e,a){"use strict";a.r(e);var i=a("cf14"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"00a3":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,downloadExcel:a("c0d7").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("uni-stat-breadcrumb",{attrs:{_i:3}})],1),a("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[a("button",{staticClass:t._$s(5,"sc","uni-button"),attrs:{_i:5},on:{click:t.search}}),a("download-excel",{staticClass:t._$s(6,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:6}},[a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}})])],1)]),a("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex p-1015"),attrs:{_i:9}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:10},model:{value:t._$s(10,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(11,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:11},model:{value:t._$s(11,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.platformChange},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"channel_code as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_code),callback:function(e){t.$set(t.query,"channel_code",e)},expression:"query.channel_code"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","flex"),attrs:{_i:15}},[a("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:16},on:{change:t.dateTabsChange}}),a("uni-datetime-picker",{staticClass:t._$s(17,"sc","uni-stat-datetime-picker"),attrs:{type:"datetimerange",end:Date.now(),"return-type":"timestamp","clear-icon":!0,_i:17},on:{change:function(e){t.dateTabs.index=null}},model:{value:t._$s(17,"v-model",t.query.pay_date),callback:function(e){t.$set(t.query,"pay_date",e)},expression:"query.pay_date"}})],1),a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"user_id,nickname,uni_platform,status,total_fee,refund_fee,appid,pay_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,groupby:"user_id","group-field":"sum(total_fee) as total_fee,sum(refund_fee) as refund_fee, sum(subtract(total_fee,refund_fee)) as reality_fee, sum(1) as count,last(nickname) as nickname",options:t.options,loadtime:"manual",_i:18},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",staticStyle:{"min-height":"900px"},attrs:{loading:o,emptyText:u.message||o?"\u8bf7\u6c42\u4e2d...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"",_i:"19-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"20-"+n}},[a("uni-th",{attrs:{align:"center",_i:"21-"+n}},[t._v("\u6392\u540d")]),a("uni-th",{attrs:{align:"center",sortable:!0,_i:"22-"+n},on:{"sort-change":function(e){return t.sortChange(e,"user_id")}}},[t._v("\u7528\u6237")]),a("uni-th",{attrs:{align:"center",sortable:!0,_i:"23-"+n},on:{"sort-change":function(e){return t.sortChange(e,"reality_fee")}}},[t._v("\u652f\u4ed8\u91d1\u989d\uff08\u4e0d\u542b\u9000\u6b3e\uff09")]),a("uni-th",{attrs:{align:"center",sortable:!0,_i:"24-"+n},on:{"sort-change":function(e){return t.sortChange(e,"count")}}},[t._v("\u8ba2\u5355\u6570\u91cf")])],1),t._l(i._$s("25-"+n,"f",{forItems:r}),(function(e,r,o,u){return a("uni-tr",{key:i._$s("25-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"25-"+n+u}},[a("uni-td",{attrs:{align:"center",_i:"26-"+n+u}},[t._v(i._$s("26-"+n+u,"t0-0",t._s(parseInt(r+1+(s.current-1)*s.size))))]),a("uni-td",{attrs:{align:"center",_i:"27-"+n+u}},[a("text",{staticClass:i._$s("28-"+n+u,"sc","text-btn"),attrs:{_i:"28-"+n+u},on:{click:function(a){return t.pageToUser(e)}}},[t._v(i._$s("28-"+n+u,"t0-0",t._s(t.nameFormat(e))))])]),a("uni-td",{attrs:{align:"center",_i:"29-"+n+u}},[t._v(i._$s("29-"+n+u,"t0-0",t._s((e.reality_fee/100).toFixed(2))))]),a("uni-td",{attrs:{align:"center",_i:"30-"+n+u}},[a("text",{staticClass:i._$s("31-"+n+u,"sc","text-btn"),attrs:{_i:"31-"+n+u},on:{click:function(a){return t.pageToOrder(e)}}},[t._v(i._$s("31-"+n+u,"t0-0",t._s(e.count)))])])],1)}))],2),a("view",{staticClass:i._$s("32-"+n,"sc","uni-pagination-box"),attrs:{_i:"32-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"33-"+n},on:{change:t.onPageChanged},model:{value:t._$s("33-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)])},r=[]},"00b9":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("c973")),s=i(a("9523")),o=i(a("750c")),u=a("c293"),c=i(a("8bbf"));c.default.prototype.binddata=function(e,a,i){if(i)this.$refs[i].setValue(e,a);else{var n;for(var r in this.$refs){var s=this.$refs[r];if(s&&s.$options&&"uniForms"===s.$options.name){n=s;break}}if(!n)return t("error","\u5f53\u524d uni-froms \u7ec4\u4ef6\u7f3a\u5c11 ref \u5c5e\u6027"," at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:38");n.setValue(e,a)}};var l={name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:function(){return null}},modelValue:{type:Object,default:function(){return null}},model:{type:Object,default:function(){return null}},rules:{type:Object,default:function(){return{}}},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide:function(){return{uniForm:this}},data:function(){return{formData:{},formRules:{}}},computed:{localData:function(){var t=this.model||this.modelValue||this.value;return t?(0,u.deepCopy)(t):{}}},watch:{rules:{handler:function(t,e){this.setRules(t)},deep:!0,immediate:!0}},created:function(){this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules:function(t){this.formRules=Object.assign({},this.formRules,t),this.validator=new o.default(t)},setValue:function(t,e){var a=this.childrens.find((function(e){return e.name===t}));return a?(this.formData[t]=(0,u.getValue)(t,e,this.formRules[t]&&this.formRules[t].rules||[]),a.onFieldChange(this.formData[t])):null},validate:function(t,e){return this.checkAll(this.formData,t,e)},validateField:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;e=[].concat(e);var i={};return this.childrens.forEach((function(a){var n=(0,u.realName)(a.name);-1!==e.indexOf(n)&&(i=Object.assign({},i,(0,s.default)({},n,t.formData[n])))})),this.checkAll(i,[],a)},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=[].concat(t),this.childrens.forEach((function(e){if(0===t.length)e.errMsg="";else{var a=(0,u.realName)(e.name);-1!==t.indexOf(a)&&(e.errMsg="")}}))},submit:function(t,e,a){var i=this,n=function(t){var e=i.childrens.find((function(e){return e.name===t}));e&&void 0===i.formData[t]&&(i.formData[t]=i._getValue(t,i.dataValue[t]))};for(var r in this.dataValue)n(r);return this.checkAll(this.formData,t,e,"submit")},checkAll:function(t,e,a,i){var s=this;return(0,r.default)(n.default.mark((function r(){var o,c,l,d,f,p,h,m,_,g,v;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s.validator){r.next=2;break}return r.abrupt("return");case 2:for(l in o=[],c=function(t){var e=s.childrens.find((function(e){return(0,u.realName)(e.name)===t}));e&&o.push(e)},t)c(l);a||"function"!==typeof e||(a=e),!a&&"function"!==typeof a&&Promise&&(d=new Promise((function(t,e){a=function(a,i){a?e(a):t(i)}}))),f=[],p=JSON.parse(JSON.stringify(t)),r.t0=n.default.keys(o);case 10:if((r.t1=r.t0()).done){r.next=23;break}return h=r.t1.value,m=o[h],_=(0,u.realName)(m.name),r.next=16,m.onFieldChange(p[_]);case 16:if(g=r.sent,!g){r.next=21;break}if(f.push(g),"toast"!==s.errShowType&&"modal"!==s.errShowType){r.next=21;break}return r.abrupt("break",23);case 21:r.next=10;break;case 23:if(Array.isArray(f)&&0===f.length&&(f=null),Array.isArray(e)&&e.forEach((function(t){var e=(0,u.realName)(t),a=(0,u.getDataValue)(t,s.localData);void 0!==a&&(p[e]=a)})),"submit"===i?s.$emit("submit",{detail:{value:p,errors:f}}):s.$emit("validate",f),{},v=(0,u.rawData)(p,s.name),a&&"function"===typeof a&&a(f,v),!d||!a){r.next=33;break}return r.abrupt("return",d);case 33:return r.abrupt("return",null);case 34:case"end":return r.stop()}}),r)})))()},validateCheck:function(t){this.$emit("validate",t)},_getValue:u.getValue,_isRequiredField:u.isRequiredField,_setDataValue:u.setDataValue,_getDataValue:u.getDataValue,_realName:u.realName,_isRealName:u.isRealName,_isEqual:u.isEqual}};e.default=l}).call(this,a("0de9")["default"])},"00de":function(t,e,a){"use strict";a.r(e);var i=a("0aa2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"010f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"TableCheckbox",emits:["checkboxSelected"],props:{indeterminate:{type:Boolean,default:!1},checked:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1},index:{type:Number,default:-1},cellData:{type:Object,default:function(){return{}}}},watch:{checked:function(t){"boolean"===typeof this.checked?this.isChecked=t:this.isChecked=!0},indeterminate:function(t){this.isIndeterminate=t}},data:function(){return{isChecked:!1,isDisabled:!1,isIndeterminate:!1}},created:function(){"boolean"===typeof this.checked&&(this.isChecked=this.checked),this.isDisabled=this.disabled},methods:{selected:function(){this.isDisabled||(this.isIndeterminate=!1,this.isChecked=!this.isChecked,this.$emit("checkboxSelected",{checked:this.isChecked,data:this.cellData}))}}};e.default=i},"0179":function(t,e,a){"use strict";a.r(e);var i=a("8001"),n=a("b5be");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"01a3":function(t,e,a){"use strict";a.r(e);var i=a("ac97"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"01e6":function(t,e,a){"use strict";a.r(e);var i=a("86f6"),n=a("7f86");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"020c":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1233")),r={data:function(){return{icons:n.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var a="uni-icons-"+e;this.tag&&"tag"===t&&(a='<view class="'+a+'"></view>'),uni.setClipboardData({data:a,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+a+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+a+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},"028b":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("7037")),s=i(a("c973")),o={props:{localdata:{type:[Array,Object],default:function(){return[]}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:500},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},modelValue:{type:[Array,String,Number],default:function(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},data:function(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocalData:function(){return!this.collection.length},isCloudData:function(){return this.collection.length>0},isCloudDataList:function(){return this.isCloudData&&!this.parentField&&!this.selfField},isCloudDataTree:function(){return this.isCloudData&&this.parentField&&this.selfField},dataValue:function(){var t=Array.isArray(this.modelValue)?this.modelValue.length>0:null!==this.modelValue||void 0!==this.modelValue;return t?this.modelValue:this.value},hasValue:function(){return"number"===typeof this.dataValue||null!=this.dataValue&&this.dataValue.length>0}},created:function(){var t=this;this.$watch((function(){var e=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach((function(a){e.push(t[a])})),e}),(function(e,a){for(var i=2;i<e.length;i++)if(e[i]!=a[i]){!0;break}e[0]!=a[0]&&(t.page.current=t.pageCurrent),t.page.size=t.pageSize,t.onPropsChange()})),this._treeData=[]},methods:{onPropsChange:function(){this._treeData=[]},loadData:function(){var t=this;return(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isLocalData?t.loadLocalData():t.isCloudDataList?t.loadCloudDataList():t.isCloudDataTree&&t.loadCloudDataTree();case 1:case"end":return e.stop()}}),e)})))()},loadLocalData:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var a;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t._treeData=[],t._extractTree(t.localdata,t._treeData),a=t.dataValue,void 0!==a){e.next=5;break}return e.abrupt("return");case 5:Array.isArray(a)&&(a=a[a.length-1],"object"===(0,r.default)(a)&&a[t.map.value]&&(a=a[t.map.value])),t.selected=t._findNodePath(a,t.localdata);case 7:case"end":return e.stop()}}),e)})))()},loadCloudDataList:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var a,i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.getCommand();case 6:a=e.sent,i=a.result.data,t._treeData=i,t._updateBindData(),t._updateSelected(),t.onDataChange(),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),t.errorMessage=e.t0;case 17:return e.prev=17,t.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})))()},loadCloudDataTree:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var a,i,r;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,a={field:t._cloudDataPostField(),where:t._cloudDataTreeWhere()},t.gettree&&(a.startwith="".concat(t.selfField,"=='").concat(t.dataValue,"'")),e.next=8,t.getCommand(a);case 8:i=e.sent,r=i.result.data,t._treeData=r,t._updateBindData(),t._updateSelected(),t.onDataChange(),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](3),t.errorMessage=e.t0;case 19:return e.prev=19,t.loading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))()},loadCloudDataNode:function(t){var e=this;return(0,s.default)(n.default.mark((function a(){var i,r,s;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.loading){a.next=2;break}return a.abrupt("return");case 2:return e.loading=!0,a.prev=3,i={field:e._cloudDataPostField(),where:e._cloudDataNodeWhere()},a.next=7,e.getCommand(i);case 7:r=a.sent,s=r.result.data,t(s),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](3),e.errorMessage=a.t0;case 15:return a.prev=15,e.loading=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,12,15,18]])})))()},getCloudDataValue:function(){return this.isCloudDataList?this.getCloudDataListValue():this.isCloudDataTree?this.getCloudDataTreeValue():void 0},getCloudDataListValue:function(){var t=this,e=[],a=this._getForeignKeyByField();return a&&e.push("".concat(a," == '").concat(this.dataValue,"'")),e=e.join(" || "),this.where&&(e="(".concat(this.where,") && (").concat(e,")")),this.getCommand({field:this._cloudDataPostField(),where:e}).then((function(e){return t.selected=e.result.data,e.result.data}))},getCloudDataTreeValue:function(){var t=this;return this.getCommand({field:this._cloudDataPostField(),getTreePath:{startWith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}}).then((function(e){var a=[];return t._extractTreePath(e.result.data,a),t.selected=a,a}))},getCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.database(this.spaceInfo),i=e.action||this.action;i&&(a=a.action(i));var n=e.collection||this.collection;a=a.collection(n);var r=e.where||this.where;r&&Object.keys(r).length&&(a=a.where(r));var s=e.field||this.field;s&&(a=a.field(s));var o=e.orderby||this.orderby;o&&(a=a.orderBy(o));var u=void 0!==e.pageCurrent?e.pageCurrent:this.page.current,c=void 0!==e.pageSize?e.pageSize:this.page.size,l=void 0!==e.getcount?e.getcount:this.getcount,d=void 0!==e.gettree?e.gettree:this.gettree,f={getCount:l,getTree:d};return e.getTreePath&&(f.getTreePath=e.getTreePath),a=a.skip(c*(u-1)).limit(c).get(f),a},_cloudDataPostField:function(){var t=[this.field];return this.parentField&&t.push("".concat(this.parentField," as parent_value")),t.join(",")},_cloudDataTreeWhere:function(){var t=[],e=this.selected,a=this.parentField;if(a&&t.push("".concat(a," == null || ").concat(a,' == ""')),e.length)for(var i=0;i<e.length-1;i++)t.push("".concat(a," == '").concat(e[i].value,"'"));var n=[];return this.where&&n.push("(".concat(this.where,")")),t.length&&n.push("(".concat(t.join(" || "),")")),n.join(" && ")},_cloudDataNodeWhere:function(){var t=[],e=this.selected;return e.length&&t.push("".concat(this.parentField," == '").concat(e[e.length-1].value,"'")),t=t.join(" || "),this.where?"(".concat(this.where,") && (").concat(t,")"):t},_getWhereByForeignKey:function(){var t=[],e=this._getForeignKeyByField();return e&&t.push("".concat(e," == '").concat(this.dataValue,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_getForeignKeyByField:function(){for(var t=this.field.split(","),e=null,a=0;a<t.length;a++){var i=t[a].split("as");if(!(i.length<2)&&"value"===i[1].trim()){e=i[0].trim();break}}return e},_updateBindData:function(t){var e=this._filterData(this._treeData,this.selected),a=e.dataList,i=e.hasNodes,n=!1===this._stepSearh&&!i;return t&&(t.isleaf=n),this.dataList=a,this.selectedIndex=a.length-1,!n&&this.selected.length<a.length&&this.selected.push({value:null,text:"\u8bf7\u9009\u62e9"}),{isleaf:n,hasNodes:i}},_updateSelected:function(){for(var t=this.dataList,e=this.selected,a=this.map.text,i=this.map.value,n=0;n<e.length;n++)for(var r=e[n].value,s=t[n],o=0;o<s.length;o++){var u=s[o];if(u[i]===r){e[n].text=u[a];break}}},_filterData:function(t,e){var a=[],i=!0;a.push(t.filter((function(t){return null===t.parent_value||void 0===t.parent_value||""===t.parent_value})));for(var n=function(n){var r=e[n].value,s=t.filter((function(t){return t.parent_value===r}));s.length?a.push(s):i=!1},r=0;r<e.length;r++)n(r);return{dataList:a,hasNodes:i}},_extractTree:function(t,e,a){for(var i=this.map.value,n=0;n<t.length;n++){var r=t[n],s={};for(var o in r)"children"!==o&&(s[o]=r[o]);null!==a&&void 0!==a&&""!==a&&(s.parent_value=a),e.push(s);var u=r.children;u&&this._extractTree(u,e,r[i])}},_extractTreePath:function(t,e){for(var a=0;a<t.length;a++){var i=t[a],n={};for(var r in i)"children"!==r&&(n[r]=i[r]);e.push(n);var s=i.children;s&&this._extractTreePath(s,e)}},_findNodePath:function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.map.text,n=this.map.value,r=0;r<e.length;r++){var s=e[r],o=s.children,u=s[i],c=s[n];if(a.push({value:c,text:u}),c===t)return a;if(o){var l=this._findNodePath(t,o,a);if(l.length)return l}a.pop()}return[]}}};e.default=o}).call(this,a("a9ff")["default"])},"029c":function(t,e,a){"use strict";a.r(e);var i=a("22cf"),n=a("a540");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"02e8":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniBadge:a("0c79").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),a("view",{staticClass:t._$s(3,"sc","uni-tabs__header"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-tabs__nav-wrap"),attrs:{_i:4}},[a("view",{staticClass:t._$s(5,"sc","uni-tabs__nav-scroll"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-tabs__nav"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","uni-tabs__item"),class:t._$s(7,"c",{"is-active":"menus"===t.currentTab}),attrs:{_i:7},on:{click:function(e){return t.switchTab("menus")}}},[t._v(t._$s(7,"t0-0",t._s(t.$t("menu.text.menuManager"))))]),t._$s(8,"i",t.pluginMenus.length)?a("view",{staticClass:t._$s(8,"sc","uni-tabs__item"),class:t._$s(8,"c",{"is-active":"pluginMenus"===t.currentTab}),attrs:{_i:8},on:{click:function(e){return t.switchTab("pluginMenus")}}},[t._v(t._$s(8,"t0-0",t._s(t.$t("menu.text.additiveMenu")))),a("uni-badge",{staticClass:t._$s(9,"sc","menu-badge"),attrs:{text:t.pluginMenus.length,type:"error",_i:9}})],1):t._e()])])])]),a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show","menus"===t.currentTab),expression:"_$s(10,'v-show',currentTab==='menus')"}],attrs:{_i:10}},[a("view",{staticClass:t._$s(11,"sc","uni-header"),attrs:{_i:11}},[a("view",{staticClass:t._$s(12,"sc","uni-group"),attrs:{_i:12}},[a("button",{attrs:{_i:13},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(13,"t0-0",t._s(t.$t("menu.button.addFirstLevelMenu"))))]),a("button",{attrs:{_i:14},on:{click:t.updateBuiltInMenu}},[t._v(t._$s(14,"t0-0",t._s(t.$t("menu.button.updateBuiltInMenu"))))])]),a("view",{staticClass:t._$s(15,"sc","uni-group"),attrs:{_i:15}})]),a("view",{staticClass:t._$s(16,"sc","uni-container"),attrs:{_i:16}},[a("unicloud-db",{ref:"udb",attrs:{collection:"opendb-admin-menus",options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:17},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=(e.pagination,e.loading);e.error;return[a("uni-table",{staticClass:i._$s("18-"+n,"sc","table-pc"),attrs:{loading:s,emptyText:t.errMsg||t.$t("common.empty"),border:!0,stripe:!0,_i:"18-"+n}},[a("uni-tr",{attrs:{_i:"19-"+n}},[a("uni-th",{attrs:{align:"center",_i:"20-"+n}},[t._v("\u6392\u5e8f")]),a("uni-th",{attrs:{width:"200",align:"center",_i:"21-"+n}},[t._v("\u540d\u79f0")]),a("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("\u6807\u8bc6")]),a("uni-th",{attrs:{align:"center",_i:"23-"+n}},[t._v("URL")]),a("uni-th",{attrs:{width:"100",align:"center",_i:"24-"+n}},[t._v("\u662f\u5426\u542f\u7528")]),a("uni-th",{attrs:{align:"center",_i:"25-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("26-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("26-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"26-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[t._v(i._$s("27-"+n+o,"t0-0",t._s(e.sort)))]),a("uni-td",{attrs:{_i:"28-"+n+o}},[t._v(i._$s("28-"+n+o,"t0-0",t._s(e.name)))]),a("uni-td",{attrs:{_i:"29-"+n+o}},[t._v(i._$s("29-"+n+o,"t0-0",t._s(e.menu_id)))]),a("uni-td",{attrs:{_i:"30-"+n+o}},[t._v(i._$s("30-"+n+o,"t0-0",t._s(e.url)))]),a("uni-td",{class:i._$s("31-"+n+o,"c",{"menu-disable":!e.enable}),attrs:{align:"center",_i:"31-"+n+o}},[a("switch",{attrs:{checked:i._$s("32-"+n+o,"a-checked",e.enable),_i:"32-"+n+o},on:{change:function(a){return t.enableChange(e)}}})]),a("uni-td",{attrs:{align:"center",_i:"33-"+n+o}},[a("view",{staticClass:i._$s("34-"+n+o,"sc","uni-group"),staticStyle:{"justify-content":"left"},attrs:{_i:"34-"+n+o}},[a("button",{staticClass:i._$s("35-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"35-"+n+o},on:{click:function(a){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("35-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),i._$s("36-"+n+o,"i","system_menu"!==e.menu_id&&"system_management"!==e.menu_id)?a("button",{staticClass:i._$s("36-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"36-"+n+o},on:{click:function(a){return t.confirmDelete(e)}}},[t._v(i._$s("36-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))]):t._e(),i._$s("37-"+n+o,"i",!e.url)?a("button",{staticClass:i._$s("37-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"37-"+n+o},on:{click:function(a){return t.navigateTo("./add?parent_id="+e.menu_id,!1)}}},[t._v(i._$s("37-"+n+o,"t0-0",t._s(t.$t("menu.button.addChildMenu"))))]):t._e()])])],1)}))],2)]}}])})],1)]),a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(38,"v-show","pluginMenus"===t.currentTab),expression:"_$s(38,'v-show',currentTab==='pluginMenus')"}],attrs:{_i:38}},[a("view",{staticClass:t._$s(39,"sc","uni-header"),attrs:{_i:39}},[a("view",{staticClass:t._$s(40,"sc","uni-group"),attrs:{_i:40}},[a("button",{attrs:{_i:41},on:{click:t.addPluginMenus}})]),a("view",{staticClass:t._$s(42,"sc","uni-group"),attrs:{_i:42}})]),a("view",{staticClass:t._$s(43,"sc","uni-container"),attrs:{_i:43}},[a("uni-table",{ref:"pluginMenusTable",attrs:{type:"selection",border:!0,stripe:!0,_i:44},on:{"selection-change":t.pluginMenuSelectChange}},[a("uni-tr",{attrs:{_i:45}},[a("uni-th",{attrs:{align:"center",_i:46}},[t._v("")]),a("uni-th",{attrs:{align:"center",_i:47}},[t._v("")]),a("uni-th",{attrs:{align:"center",_i:48}},[t._v("")])],1),t._l(t._$s(49,"f",{forItems:t.pluginMenus}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(49,"f",{forIndex:n,key:i}),attrs:{_i:"49-"+r}},[a("uni-td",{attrs:{_i:"50-"+r}},[t._v(t._$s("50-"+r,"t0-0",t._s(e.name))+t._$s("50-"+r,"t0-1",t._s(e.menu_id)))]),a("uni-td",{attrs:{_i:"51-"+r}},[t._v(t._$s("51-"+r,"t0-0",t._s(e.url)))]),a("uni-td",{attrs:{_i:"52-"+r}},[t._v(t._$s("52-"+r,"t0-0",t._s(e.json)))])],1)}))],2),a("view",{staticClass:t._$s(53,"sc","uni-sub-title"),attrs:{_i:53}})],1)]),a("fix-window",{attrs:{_i:54}})],1)},r=[]},"039d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniLoadMore:a("81c5").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x"),attrs:{_i:15}},[a("uni-stat-panel",{staticClass:t._$s(16,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:16}}),a("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},model:{value:t._$s(17,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:19}})],1)],1),a("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[a("view",{staticClass:t._$s(21,"sc","flex-between"),attrs:{_i:21}},[a("view",{staticClass:t._$s(22,"sc","uni-stat-card-header"),attrs:{_i:22}}),a("view",{staticClass:t._$s(23,"sc","uni-group"),attrs:{_i:23}})]),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:24}},[a("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("27-"+r,"i",e.title)?a("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"27-"+r}},[a("uni-tooltip",{attrs:{_i:"28-"+r},scopedSlots:t._u([t._$s("30-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("31-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"31-"+r+"-"+s}},[t._v(n._$s("31-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title))),t._$s("29-"+r,"i",e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"29-"+r}}):t._e()],1)],1):t._e()]})),t._$s(32,"i",t.sourceMapEnabled)?a("uni-th",{attrs:{align:"center",_i:32}},[t._v("")]):t._e()],2),t._l(t._$s(33,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(33,"f",{forIndex:n,key:i}),attrs:{_i:"33-"+r}},[t._l(t._$s("34-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return[t._$s("35-"+r+"-"+o,"i","count"===i.field)?a("uni-td",{key:t._$s("34-"+r,"f",{forIndex:s,keyIndex:0,key:i.field+"_"+n+"_0"}),attrs:{align:"center",_i:"35-"+r+"-"+o}},[a("text",{staticClass:t._$s("36-"+r+"-"+o,"sc","link-btn"),attrs:{_i:"36-"+r+"-"+o},on:{click:function(a){return t.navTo("detail",e)}}},[t._v(t._$s("36-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]):a("uni-td",{key:t._$s("34-"+r,"f",{forIndex:s,keyIndex:-1,key:i.field}),attrs:{align:"center",_i:"37-"+r+"-"+o}},[t._v(t._$s("37-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]})),t._$s("38-"+r,"i",t.sourceMapEnabled)?a("uni-td",{attrs:{_i:"38-"+r}},[a("button",{attrs:{_i:"39-"+r},on:{click:function(a){return t.openErrPopup(e)}}})]):t._e()],2)}))],2),a("view",{staticClass:t._$s(40,"sc","uni-pagination-box"),attrs:{_i:40}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:41},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("uni-popup",{ref:"errMsg",attrs:{type:"center",animation:!1,maskClick:!0,_i:42},on:{change:t.errMsgPopupChange}},[a("view",{staticClass:t._$s(43,"sc","modal black-theme"),attrs:{_i:43}},[a("view",{staticClass:t._$s(44,"sc","modal-header"),attrs:{_i:44}}),a("scroll-view",{},[a("view",{staticClass:t._$s(46,"sc","modal-content"),attrs:{_i:46}},[t._$s(47,"i",t.msgLoading)?a("view",[a("uni-load-more",{staticClass:t._$s(48,"sc","mb-m"),attrs:{showText:!1,status:"loading",_i:48}}),a("view")],1):t._e(),a("text",[t._v(t._$s(50,"t0-0",t._s(t.errMsg)))])])]),a("view",{staticClass:t._$s(51,"sc","dialog-close"),attrs:{_i:51},on:{click:t.closeErrPopup}},[a("view",{staticClass:t._$s(52,"sc","dialog-close-plus"),attrs:{_i:52}}),a("view",{staticClass:t._$s(53,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:53}})])])]),a("fix-window",{attrs:{_i:54}})],1)},r=[]},"05a3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{date:"2020-09-01",name:"Dcloud1",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud2",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud3",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud4",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud5",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud6",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud7",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud8",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud9",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud10",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud11",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud12",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud13",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud14",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud15",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud16",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud17",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud18",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud19",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud20",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud21",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud22",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud23",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud24",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud25",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud26",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud27",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud28",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud29",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud30",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud31",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud32",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud33",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud34",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud35",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud36",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud37",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud38",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud39",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud40",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud41",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud42",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud43",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud44",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud45",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud46",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud47",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud48",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"}]},"05d2":function(t,e,a){"use strict";a.r(e);var i=a("8abe"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"0625":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-sub-menu"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-sub-menu__title"),class:t._$s(1,"c",{"is-disabled":t.disabled}),style:t._$s(1,"s",{paddingLeft:t.paddingLeft}),attrs:{_i:1},on:{click:t.select}},[a("view",{staticClass:t._$s(2,"sc","uni-sub-menu__title-sub"),style:t._$s(2,"s",{color:t.disabled?"#999":t.textColor}),attrs:{_i:2}},[t._t("title",null,{_i:3})],2),a("uni-icons",{staticClass:t._$s(4,"sc","uni-sub-menu__icon"),class:t._$s(4,"c",{transition:t.isOpen}),attrs:{type:"arrowdown",color:"#bbb",size:"14",_i:4}})],1),a("view",{staticClass:t._$s(5,"sc","uni-sub-menu__content"),class:t._$s(5,"c",{"uni-sub-menu--close":!t.isOpen}),style:t._$s(5,"s",{"background-color":t.backgroundColor}),attrs:{_i:5}},[a("view",{attrs:{id:"content--hook",_i:6}},[t._t("default",null,{_i:7})],2)])])},r=[]},"0676":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"0689":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("9523")),o=n(a("c973")),u=n(a("448a")),c=a("3390"),l=n(a("9e25"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=t.database(),h=[];function m(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.forEach((function(i){i.menu_id===e&&i.parent_id&&(a=a+1+m(t,i.parent_id,a))})),a}var _={data:function(){return{query:"",where:"",orderby:"create_date asc",options:{pageSize:2e4,pageCurrent:1},selectedIndexs:[],loading:!0,menus:[],errMsg:"",currentTab:"menus",selectedPluginMenuIndexs:[]}},computed:{pluginMenus:function(){var t=[];if(!this.$hasRole("admin"))return t;var e=this.menus;return e.length?(h.forEach((function(a){e.find((function(t){return t.menu_id===a.menu_id}))||t.push(a)})),t):t}},watch:{pluginMenus:function(t){t.length||(this.currentTab="menus")}},methods:{enableChange:function(t){t.enable=!t.enable,p.collection("opendb-admin-menus").doc(t._id).update({enable:t.enable})},getSortMenu:function(t){return t.map((function(e){t.some((function(t){return t.parent_id===e.menu_id}))||(e.isLeafNode=!0)})),(0,c.buildMenus)(t)},onqueryload:function(t){for(var e=0;e<t.length;e++){var a=t[e],i=m(t,a.menu_id);a.name=(i?"\u3000".repeat(i)+"|-":"")+a.name}var n=this.getSortMenu(t),r=[];this.patTree(n,r),t.length=0,t.push.apply(t,r),this.menus=t},patTree:function(t,e){var a=this;return t.forEach((function(t){e.push(t),t.children.length&&a.patTree(t.children,e)})),e},switchTab:function(t){this.currentTab=t},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},confirmDelete:function(t){var e=this,a=t._id,i="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\uff1f",n=function t(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.find((function(t){return t.parent_id===a}))&&e.forEach((function(n){n.parent_id===a&&(i.push(n._id),t(e,n.menu_id,i))})),i}(this.menus,t.menu_id);n.length&&(i="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\u53ca\u5176\u5b50\u83dc\u5355\uff1f"),a=[a].concat((0,u.default)(n)),uni.showModal({title:"\u63d0\u793a",content:i,success:function(t){t.confirm&&e.$refs.udb.remove(a,{needConfirm:!1})}})},pluginMenuSelectChange:function(t){this.selectedPluginMenuIndexs=t.detail.index},addPluginMenus:function(e){var a=this;if(!this.selectedPluginMenuIndexs.length)return uni.showModal({title:"\u63d0\u793a",content:"\u8bf7\u9009\u62e9\u8981\u6dfb\u52a0\u7684\u83dc\u5355\uff01",showCancel:!1});var i=this.pluginMenus,n=[];this.selectedPluginMenuIndexs.forEach((function(t){var e=i[t];if(e){var a=JSON.parse(JSON.stringify(e));a.enable=!0,delete a.json,n.push(a)}})),uni.showModal({title:"\u63d0\u793a",content:"\u60a8\u786e\u8ba4\u8981\u6dfb\u52a0\u5df2\u9009\u4e2d\u7684\u83dc\u5355\u5417\uff1f",success:function(e){if(e.confirm){uni.showLoading({mask:!0});var r=n.length===i.length;t.database().collection("opendb-admin-menus").add(n).then((function(t){uni.showModal({title:"\u63d0\u793a",content:"\u6dfb\u52a0\u83dc\u5355\u6210\u529f\uff01",showCancel:!1,success:function(){a.$refs.pluginMenusTable.clearSelection(),r&&(a.currentTab="menus"),a.loadData()}})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})})).finally((function(){uni.hideLoading()}))}}})},updateBuiltInMenu:function(){var e=this;return(0,o.default)(r.default.mark((function a(){return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:uni.showModal({title:"\u63d0\u793a",content:"\u786e\u5b9a\u66f4\u65b0\u5185\u7f6e\u83dc\u5355\u5417\uff1f\n\uff08\u8be5\u64cd\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u73b0\u6709\u7684\u83dc\u5355\uff09",success:function(){var a=(0,o.default)(r.default.mark((function a(i){var n,s,o,u,c,d,p;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!i.confirm){a.next=29;break}return n=t.database(),s=n.command,o=l.default.map((function(t,e){return t.menu_id})),uni.showLoading({title:"\u66f4\u65b0\u4e2d...",mask:!0}),a.prev=5,u=[],a.next=9,n.collection("opendb-admin-menus").where({menu_id:s.in[o]}).limit(500).get();case 9:if(c=a.sent,d=c.result.data,l.default.map((function(t,e){var a=d.find((function(e,a,i){return e.menu_id===t.menu_id}));a||u.push(f(f({},t),{},{create_date:void 0}))})),!(u&&u.length>0)){a.next=20;break}return a.next=15,n.collection("opendb-admin-menus").add(u);case 15:p=a.sent,uni.showToast({title:"\u65b0\u589e\u4e86".concat(p.result.inserted,"\u4e2a\u83dc\u5355\uff0c\u5373\u5c06\u5237\u65b0"),icon:"none"}),setTimeout((function(){e.loadData(!0)}),300),a.next=21;break;case 20:uni.showToast({title:"\u83dc\u5355\u65e0\u53d8\u52a8",icon:"none"});case 21:a.next=26;break;case 23:a.prev=23,a.t0=a["catch"](5),a.t0;case 26:return a.prev=26,uni.hideLoading(),a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[5,23,26,29]])})));return function(t){return a.apply(this,arguments)}}()});case 1:case"end":return a.stop()}}),a)})))()}}};e.default=_}).call(this,a("a9ff")["default"],a("0de9")["default"])},"068b":function(t,e,a){"use strict";a.r(e);var i=a("4c16"),n=a("5113");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"a9ceb0da",null,!1,i["a"],void 0);e["default"]=o.exports},"0789":function(t,e,a){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniMatchMedia",props:{width:{type:[Number,String],default:""},minWidth:{type:[Number,String],default:""},maxWidth:{type:[Number,String],default:""},height:{type:[Number,String],default:""},minHeight:{type:[Number,String],default:""},maxHeight:{type:[Number,String],default:""},orientation:{type:String,default:""}},data:function(){return{matches:!0}},mounted:function(){var t=this;i=uni.createMediaQueryObserver(this),i.observe({width:this.width,maxWidth:this.maxWidth,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,maxHeight:this.maxHeight,orientation:this.orientation},(function(e){t.matches=e}))},destroyed:function(){i.disconnect()}};e.default=n},"078c":function(t,e,a){"use strict";a.r(e);var i=a("a066"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"089f":function(t,e,a){"use strict";a.r(e);var i=a("e484"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"08bd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resFieldsMap=e.fieldsMap=e.entFieldsMap=void 0;e.fieldsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u7528\u6237\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u7528\u6237\u8651\u91cd\u540e\u7ed3\u679c\u3002",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,contrast:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.resFieldsMap=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}]},"097c":function(t,e,a){"use strict";a.r(e);var i=a("ec57"),n=a("1d06");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"099a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_device_count/week_active_device_count",computed:"active_device_count/week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_device_count/month_active_device_count",computed:"active_device_count/month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}]},"0aa2":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1233")),r={data:function(){return{icons:n.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var a="uni-icons-"+e;this.tag&&"tag"===t&&(a='<view class="'+a+'"></view>'),uni.setClipboardData({data:a,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+a+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+a+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},"0ad7":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("278c")),r=i(a("7037")),s={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},o=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];if(null==t)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!a||a.length<=0)return t;function n(t,e){for(var a in e)t[a]=t[a]&&"[object Object]"===t[a].toString()?n(t[a],e[a]):t[a]=e[a];return t}return a.forEach((function(e){t=n(t,e)})),t},u={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height;var a=e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y;return!a}};function c(t,e){var a=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,a,i){return e+e+a+a+i+i})),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),n=parseInt(i[1],16),r=parseInt(i[2],16),s=parseInt(i[3],16);return"rgba("+n+","+r+","+s+","+e+")"}function l(t,e,a){if(isNaN(t))throw new Error("[uCharts] series\u6570\u636e\u9700\u4e3aNumber\u683c\u5f0f");a=a||10,e=e||"upper";var i=1;while(a<1)a*=10,i*=10;t="upper"===e?Math.ceil(t*i):Math.floor(t*i);while(t%a!==0)if("upper"===e){if(t==t+1)break;t++}else t--;return t/i}function d(t,e,a,i,n){var r=n.width-n.area[1]-n.area[3],s=a.eachSpacing*(n.chartData.xAxisData.xAxisPoints.length-1);"mount"==n.type&&n.extra&&n.extra.mount&&n.extra.mount.widthRatio&&n.extra.mount.widthRatio>1&&(n.extra.mount.widthRatio>2&&(n.extra.mount.widthRatio=2),s+=(n.extra.mount.widthRatio-1)*a.eachSpacing);var o=e;return e>=0?(o=0,t.uevent.trigger("scrollLeft"),t.scrollOption.position="left",n.xAxis.scrollPosition="left"):Math.abs(e)>=s-r?(o=r-s,t.uevent.trigger("scrollRight"),t.scrollOption.position="right",n.xAxis.scrollPosition="right"):(t.scrollOption.position=e,n.xAxis.scrollPosition=e),o}function f(t,e,a){function i(t){while(t<0)t+=2*Math.PI;while(t>2*Math.PI)t-=2*Math.PI;return t}return t=i(t),e=i(e),a=i(a),e>a&&(a+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=a}function p(t,e){function a(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].x>=Math.max(t[e-1].x,t[e+1].x)||t[e].x<=Math.min(t[e-1].x,t[e+1].x))}var n=.2,r=.2,s=null,o=null,u=null,c=null;if(e<1?(s=t[0].x+(t[1].x-t[0].x)*n,o=t[0].y+(t[1].y-t[0].y)*n):(s=t[e].x+(t[e+1].x-t[e-1].x)*n,o=t[e].y+(t[e+1].y-t[e-1].y)*n),e>t.length-3){var l=t.length-1;u=t[l].x-(t[l].x-t[l-1].x)*r,c=t[l].y-(t[l].y-t[l-1].y)*r}else u=t[e+1].x-(t[e+2].x-t[e].x)*r,c=t[e+1].y-(t[e+2].y-t[e].y)*r;return a(t,e+1)&&(c=t[e+1].y),a(t,e)&&(o=t[e].y),i(t,e+1)&&(u=t[e+1].x),i(t,e)&&(s=t[e].x),(o>=Math.max(t[e].y,t[e+1].y)||o<=Math.min(t[e].y,t[e+1].y))&&(o=t[e].y),(c>=Math.max(t[e].y,t[e+1].y)||c<=Math.min(t[e].y,t[e+1].y))&&(c=t[e+1].y),(s>=Math.max(t[e].x,t[e+1].x)||s<=Math.min(t[e].x,t[e+1].x))&&(s=t[e].x),(u>=Math.max(t[e].x,t[e+1].x)||u<=Math.min(t[e].x,t[e+1].x))&&(u=t[e+1].x),{ctrA:{x:s,y:o},ctrB:{x:u,y:c}}}function h(t,e,a){return{x:a.x+t,y:a.y-e}}function m(t,e){if(e)while(u.isCollision(t,e))t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function _(t,e,a){for(var i=0,n=0;n<t.length;n++){var r=t[n];if(r.color||(r.color=a.color[i],i=(i+1)%a.color.length),r.linearIndex||(r.linearIndex=n),r.index||(r.index=0),r.type||(r.type=e.type),"undefined"==typeof r.show&&(r.show=!0),r.type||(r.type=e.type),r.pointShape||(r.pointShape="circle"),!r.legendShape)switch(r.type){case"line":r.legendShape="line";break;case"column":case"bar":r.legendShape="rect";break;case"area":case"mount":r.legendShape="triangle";break;default:r.legendShape="circle"}}return t}function g(t,e,a,i){var n=e||[];if("custom"==t&&0==n.length&&(n=i.linearColor),"custom"==t&&n.length<a.length)for(var r=a.length-n.length,s=0;s<r;s++)n.push(i.linearColor[(s+1)%i.linearColor.length]);return n}function v(t,e){var a=0,i=e-t;return a=i>=1e4?1e3:i>=1e3?100:i>=100?10:i>=10?5:i>=1?1:i>=.1?.1:i>=.01?.01:i>=.001?.001:i>=1e-4?1e-4:i>=1e-5?1e-5:1e-6,{minRange:l(t,"lower",a),maxRange:l(e,"upper",a)}}function y(t,e,a){var i=0;if(t=String(t),!1!==a&&void 0!==a&&a.setFontSize&&a.measureText)return a.setFontSize(e),a.measureText(t).width;t=t.split("");for(var n=0;n<t.length;n++){var r=t[n];/[a-zA-Z]/.test(r)?i+=7:/[0-9]/.test(r)?i+=5.5:/\./.test(r)?i+=2.7:/-/.test(r)?i+=3.25:/:/.test(r)?i+=2.5:/[\u4e00-\u9fa5]/.test(r)?i+=10:/\(|\)/.test(r)?i+=3.73:/\s/.test(r)?i+=2.5:/%/.test(r)?i+=8:i+=10}return i*e/10}function b(t){return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data)}),[])}function x(t,e){for(var a=new Array(e),i=0;i<a.length;i++)a[i]=0;for(var n=0;n<t.length;n++)for(i=0;i<a.length;i++)a[i]+=t[n].data[i];return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data).concat(a)}),[])}function w(t,e,a){var i,n;return t.clientX?e.rotate?(n=e.height-t.clientX*e.pix,i=(t.pageY-a.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):(i=t.clientX*e.pix,n=(t.pageY-a.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):e.rotate?(n=e.height-t.x*e.pix,i=t.y*e.pix):(i=t.x*e.pix,n=t.y*e.pix),{x:i,y:n}}function C(t,e,a){var i=[],n=[],r=e.constructor.toString().indexOf("Array")>-1;if(r)for(var s=O(t),o=0;o<a.length;o++)n.push(s[a[o]]);else n=t;for(var u=0;u<n.length;u++){var c=n[u],l=-1;if(l=r?e[u]:e,null!==c.data[l]&&"undefined"!==typeof c.data[l]&&c.show){var d={};d.color=c.color,d.type=c.type,d.style=c.style,d.pointShape=c.pointShape,d.disableLegend=c.disableLegend,d.legendShape=c.legendShape,d.name=c.name,d.show=c.show,d.data=c.formatter?c.formatter(c.data[l]):c.data[l],i.push(d)}}return i}function $(t,e,a){var i=t.map((function(t){return y(t,e,a)}));return Math.max.apply(null,i)}function k(t){for(var e=2*Math.PI/t,a=[],i=0;i<t;i++)a.push(e*i);return a.map((function(t){return-1*t+Math.PI/2}))}function D(t,e,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.chartData.calPoints?e.chartData.calPoints:[],o={};if(i.length>0){for(var u=[],c=0;c<i.length;c++)u.push(s[i[c]]);o=u[0][a[0]]}else for(var l=0;l<s.length;l++)if(s[l][a]){o=s[l][a];break}var d=t.map((function(t){var i=null;return e.categories&&e.categories.length>0&&(i=n[a]),{text:r.formatter?r.formatter(t,i,a,e):t.name+": "+t.data,color:t.color,legendShape:"auto"==e.extra.tooltip.legendShape?t.legendShape:e.extra.tooltip.legendShape}})),f={x:Math.round(o.x),y:Math.round(o.y)};return{textList:d,offset:f}}function S(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=e.chartData.xAxisPoints[a]+e.chartData.eachSpacing/2,s=t.map((function(t){return{text:n.formatter?n.formatter(t,i[a],a,e):t.name+": "+t.data,color:t.color,disableLegend:!!t.disableLegend,legendShape:"auto"==e.extra.tooltip.legendShape?t.legendShape:e.extra.tooltip.legendShape}}));s=s.filter((function(t){if(!0!==t.disableLegend)return t}));var o={x:Math.round(r),y:0};return{textList:s,offset:o}}function T(t,e,a,i,n,r){var s=a.chartData.calPoints,o=r.color.upFill,u=r.color.downFill,c=[o,o,u,o],l=[];e.map((function(e){0==i?e.data[1]-e.data[0]<0?c[1]=u:c[1]=o:(e.data[0]<t[i-1][1]&&(c[0]=u),e.data[1]<e.data[0]&&(c[1]=u),e.data[2]>t[i-1][1]&&(c[2]=o),e.data[3]<t[i-1][1]&&(c[3]=u));var n={text:"\u5f00\u76d8\uff1a"+e.data[0],color:c[0],legendShape:"auto"==a.extra.tooltip.legendShape?e.legendShape:a.extra.tooltip.legendShape},r={text:"\u6536\u76d8\uff1a"+e.data[1],color:c[1],legendShape:"auto"==a.extra.tooltip.legendShape?e.legendShape:a.extra.tooltip.legendShape},s={text:"\u6700\u4f4e\uff1a"+e.data[2],color:c[2],legendShape:"auto"==a.extra.tooltip.legendShape?e.legendShape:a.extra.tooltip.legendShape},d={text:"\u6700\u9ad8\uff1a"+e.data[3],color:c[3],legendShape:"auto"==a.extra.tooltip.legendShape?e.legendShape:a.extra.tooltip.legendShape};l.push(n,r,s,d)}));for(var d=[],f={x:0,y:0},p=0;p<s.length;p++){var h=s[p];"undefined"!==typeof h[i]&&null!==h[i]&&d.push(h[i])}return f.x=Math.round(d[0][0].x),{textList:l,offset:f}}function O(t){for(var e=[],a=0;a<t.length;a++)1==t[a].show&&e.push(t[a]);return e}function P(t,e,a){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function M(t,e,a){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(a,2)}function A(t,e){var a=[],i=[];return t.forEach((function(t,n){e.connectNulls?null!==t&&i.push(t):null!==t?i.push(t):(i.length&&a.push(i),i=[])})),i.length&&a.push(i),a}function I(t,e,a,i,n){var r={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix},s=e.xAxis.fontSize*e.pix,o=t.map((function(t,a){var i=e.xAxis.formatter?e.xAxis.formatter(t,a,e):t;return y(String(i),s,n)})),u=Math.max.apply(this,o);if(1==e.xAxis.rotateLabel){r.angle=e.xAxis.rotateAngle*Math.PI/180;var c=e.xAxis.marginTop*e.pix*2+Math.abs(u*Math.sin(r.angle));c=c<s+e.xAxis.marginTop*e.pix*2?c+e.xAxis.marginTop*e.pix*2:c,r.xAxisHeight=c}return e.enableScroll&&e.xAxis.scrollShow&&(r.xAxisHeight+=6*e.pix),e.xAxis.disabled&&(r.xAxisHeight=0),r}function j(t,e,a,i){var n=o({},{type:""},e.extra.bar),s={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix};s.ranges=function(t,e,a,i){var n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;n="stack"==i?x(t,e.categories.length):b(t);var o=[];n=n.filter((function(t){return"object"===(0,r.default)(t)&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),n.map((function(t){"object"===(0,r.default)(t)?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[0]):o.push(t.value):o.push(t)}));var u=0,c=0;if(o.length>0&&(u=Math.min.apply(this,o),c=Math.max.apply(this,o)),s>-1?("number"===typeof e.xAxis.data[s].min&&(u=Math.min(e.xAxis.data[s].min,u)),"number"===typeof e.xAxis.data[s].max&&(c=Math.max(e.xAxis.data[s].max,c))):("number"===typeof e.xAxis.min&&(u=Math.min(e.xAxis.min,u)),"number"===typeof e.xAxis.max&&(c=Math.max(e.xAxis.max,c))),u===c){var l=c||10;c+=l}for(var d=u,f=c,p=[],h=(f-d)/e.xAxis.splitNumber,m=0;m<=e.xAxis.splitNumber;m++)p.push(d+h*m);return p}(t,e,a,n.type),s.rangesFormat=s.ranges.map((function(t){return t=u.toFixed(t,2),t}));var c=s.ranges.map((function(t){return t=u.toFixed(t,2),t}));s=Object.assign(s,Q(c,e,a));s.eachSpacing,c.map((function(t){return y(t,e.xAxis.fontSize*e.pix,i)}));return!0===e.xAxis.disabled&&(s.xAxisHeight=0),s}function F(t,e,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=n.extra.radar||{};s.max=s.max||0;for(var o=Math.max(s.max,Math.max.apply(null,b(i))),u=[],c=function(n){var s=i[n],c={};c.color=s.color,c.legendShape=s.legendShape,c.pointShape=s.pointShape,c.data=[],s.data.forEach((function(i,n){var s={};s.angle=t[n],s.proportion=i/o,s.value=i,s.position=h(a*s.proportion*r*Math.cos(s.angle),a*s.proportion*r*Math.sin(s.angle),e),c.data.push(s)})),u.push(c)},l=0;l<i.length;l++)c(l);return u}function L(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,n=0,r=0;r<t.length;r++){var s=t[r];s.data=null===s.data?0:s.data,i+=s.data}for(var o=0;o<t.length;o++){var u=t[o];u.data=null===u.data?0:u.data,u._proportion_=0===i?1/t.length*a:u.data/i*a,u._radius_=e}for(var c=0;c<t.length;c++){var l=t[c];l._start_=n,n+=2*l._proportion_*Math.PI}return t}function E(t,e,a,i){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0;r<t.length;r++)"funnel"==a.type?t[r].radius=t[r].data/t[0].data*e*n:t[r].radius=i*(t.length-r)/(i*t.length)*e*n,t[r]._proportion_=t[r].data/t[0].data;return t}function q(t,e,a,i){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0,s=0,o=[],u=0;u<t.length;u++){var c=t[u];c.data=null===c.data?0:c.data,r+=c.data,o.push(c.data)}for(var l=Math.min.apply(null,o),d=Math.max.apply(null,o),f=i-a,p=0;p<t.length;p++){var h=t[p];h.data=null===h.data?0:h.data,0===r?(h._proportion_=1/t.length*n,h._rose_proportion_=1/t.length*n):(h._proportion_=h.data/r*n,h._rose_proportion_="area"==e?1/t.length*n:h.data/r*n),h._radius_=a+f*((h.data-l)/(d-l))||i}for(var m=0;m<t.length;m++){var _=t[m];_._start_=s,s+=2*_._rose_proportion_*Math.PI}return t}function R(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==a&&(a=.999999);for(var i=0;i<t.length;i++){var n=t[i];n.data=null===n.data?0:n.data;var r=void 0;r="circle"==e.type?2:"ccw"==e.direction?e.startAngle<e.endAngle?2+e.startAngle-e.endAngle:e.startAngle-e.endAngle:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,n._proportion_=r*n.data*a+e.startAngle,"ccw"==e.direction&&(n._proportion_=e.startAngle-r*n.data*a),n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function N(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==a&&(a=.999999);for(var i=0;i<t.length;i++){var n=t[i];n.data=null===n.data?0:n.data;var r=void 0;r="circle"==e.type?2:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,n._proportion_=r*n.data*a+e.startAngle,n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function B(t,e,a){var i;i=a<e?2+a-e:e-a;for(var n=e,r=0;r<t.length;r++)t[r].value=null===t[r].value?0:t[r].value,t[r]._startAngle_=n,t[r]._endAngle_=i*t[r].value+e,t[r]._endAngle_>=2&&(t[r]._endAngle_=t[r]._endAngle_%2),n=t[r]._endAngle_;return t}function z(t,e,a){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=0;n<t.length;n++){var r=t[n];if(r.data=null===r.data?0:r.data,"auto"==a.pointer.color){for(var s=0;s<e.length;s++)if(r.data<=e[s].value){r.color=e[s].color;break}}else r.color=a.pointer.color;var o=void 0;o=a.endAngle<a.startAngle?2+a.endAngle-a.startAngle:a.startAngle-a.endAngle,r._endAngle_=o*r.data+a.startAngle,r._oldAngle_=a.oldAngle,a.oldAngle<a.endAngle&&(r._oldAngle_+=2),r.data>=a.oldData?r._proportion_=(r._endAngle_-r._oldAngle_)*i+a.oldAngle:r._proportion_=r._oldAngle_-(r._oldAngle_-r._endAngle_)*i,r._proportion_>=2&&(r._proportion_=r._proportion_%2)}return t}function W(t,e,a,i,n,r){return t.map((function(t){if(null===t)return null;var n=0,s=0;return"mix"==r.type?(n=r.extra.mix.column.seriesGap*r.pix||0,s=r.extra.mix.column.categoryGap*r.pix||0):(n=r.extra.column.seriesGap*r.pix||0,s=r.extra.column.categoryGap*r.pix||0),n=Math.min(n,e/a),s=Math.min(s,e/a),t.width=Math.ceil((e-2*s-n*(a-1))/a),r.extra.mix&&r.extra.mix.column.width&&+r.extra.mix.column.width>0&&(t.width=Math.min(t.width,+r.extra.mix.column.width*r.pix)),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t.x+=(i+.5-a/2)*(t.width+n),t}))}function U(t,e,a,i,n,r){return t.map((function(t){if(null===t)return null;var n=0,s=0;return n=r.extra.bar.seriesGap*r.pix||0,s=r.extra.bar.categoryGap*r.pix||0,n=Math.min(n,e/a),s=Math.min(s,e/a),t.width=Math.ceil((e-2*s-n*(a-1))/a),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t.y+=(i+.5-a/2)*(t.width+n),t}))}function V(t,e,a,i,n,r,s){var o=r.extra.column.categoryGap*r.pix||0;return t.map((function(t){return null===t?null:(t.width=e-2*o,r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),i>0&&(t.width-=s),t)}))}function H(t,e,a,i,n,r,s){var o=r.extra.column.categoryGap*r.pix||0;return t.map((function(t,a){return null===t?null:(t.width=Math.ceil(e-2*o),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function G(t,e,a,i,n,r,s){var o=r.extra.bar.categoryGap*r.pix||0;return t.map((function(t,a){return null===t?null:(t.width=Math.ceil(e-2*o),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function Q(t,e,a){var i=e.width-e.area[1]-e.area[3],n=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;("line"==e.type||"area"==e.type||"scatter"==e.type||"bubble"==e.type||"bar"==e.type)&&n>1&&"justify"==e.xAxis.boundaryGap&&(n-=1);var r=0;"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),r=e.extra.mount.widthRatio-1,n+=r);var s=i/n,o=[],u=e.area[3],c=e.width-e.area[1];return t.forEach((function(t,e){o.push(u+r/2*s+e*s)})),"justify"!==e.xAxis.boundaryGap&&(!0===e.enableScroll?o.push(u+r*s+t.length*s):o.push(c)),{xAxisPoints:o,startX:u,endX:c,eachSpacing:s}}function J(t,e,a,i,n,r,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,u=[],c=r.height-r.area[0]-r.area[2];return t.forEach((function(t,s){if(null===t)u.push(null);else{var l=[];t.forEach((function(t,u){var d={};d.x=i[s]+Math.round(n/2);var f=t.value||t,p=c*(f-e)/(a-e);p*=o,d.y=r.height-Math.round(p)-r.area[2],l.push(d)})),u.push(l)}})),u}function Y(t,e,a,i,n,s,o){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c="center";"line"!=s.type&&"area"!=s.type&&"scatter"!=s.type&&"bubble"!=s.type||(c=s.xAxis.boundaryGap);var l=[],d=s.height-s.area[0]-s.area[2],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)l.push(null);else{var p={};p.color=t.color,p.x=i[o];var h,m,_,g=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)h=[].concat(s.chartData.xAxisData.ranges),m=h.shift(),_=h.pop(),g=t[1],p.x=s.area[3]+f*(t[0]-m)/(_-m),"bubble"==s.type&&(p.r=t[2],p.t=t[3]);else g=t.value;"center"==c&&(p.x+=n/2);var v=d*(g-e)/(a-e);v*=u,p.y=s.height-v-s.area[2],l.push(p)}})),l}function K(t,e,a,i,n,s,o,u,c){c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var l=s.xAxis.boundaryGap,d=[],f=s.height-s.area[0]-s.area[2],p=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)d.push(null);else{var h={};if(h.color=t.color,"vertical"==u.animation){h.x=i[o];var m,_,g,v=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)m=[].concat(s.chartData.xAxisData.ranges),_=m.shift(),g=m.pop(),v=t[1],h.x=s.area[3]+p*(t[0]-_)/(g-_);else v=t.value;"center"==l&&(h.x+=n/2);var y=f*(v-e)/(a-e);y*=c,h.y=s.height-y-s.area[2],d.push(h)}else{h.x=i[0]+n*o*c;v=t;"center"==l&&(h.x+=n/2);y=f*(v-e)/(a-e);h.y=s.height-y-s.area[2],d.push(h)}}})),d}function X(t,e,a,i,n,s,o,u,c){c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var l=[],d=s.height-s.area[0]-s.area[2],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)l.push(null);else{var u={};u.color=t.color,u.x=i[o];var p,h,m,_=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)p=[].concat(s.chartData.xAxisData.ranges),h=p.shift(),m=p.pop(),_=t[1],u.x=s.area[3]+f*(t[0]-h)/(m-h);else _=t.value;u.x+=n/2;var g=d*(_*c-e)/(a-e);u.y=s.height-g-s.area[2],l.push(u)}})),l}function Z(t,e,a,i,n,r,s,o){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=[],l=r.height-r.area[0]-r.area[2],d=(r.width,r.area[1],r.area[3],n*s.widthRatio);return t.forEach((function(t,s){if(null===t)c.push(null);else{var o={};o.color=t.color,o.x=i[s],o.x+=n/2;var f=t.data,p=l*(f*u-e)/(a-e);o.y=r.height-p-r.area[2],o.value=f,o.width=d,c.push(o)}})),c}function tt(t,e,a,i,n,s,o){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=[],l=(s.height,s.area[0],s.area[2],s.width-s.area[1]-s.area[3]);return t.forEach((function(t,n){if(null===t)c.push(null);else{var o={};o.color=t.color,o.y=i[n];var d=t;"object"===(0,r.default)(t)&&null!==t&&(d=t.value);var f=l*(d-e)/(a-e);f*=u,o.height=f,o.value=d,o.x=f+s.area[3],c.push(o)}})),c}function et(t,e,a,i,n,s,o,u,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=[],f=s.height-s.area[0]-s.area[2];return t.forEach((function(t,o){if(null===t)d.push(null);else{var p={};if(p.color=t.color,p.x=i[o]+Math.round(n/2),u>0){for(var h=0,m=0;m<=u;m++)h+=c[m].data[o];var _=h-t,g=f*(h-e)/(a-e),v=f*(_-e)/(a-e)}else{h=t;"object"===(0,r.default)(t)&&null!==t&&(h=t.value);g=f*(h-e)/(a-e),v=0}var y=v;g*=l,y*=l,p.y=s.height-Math.round(g)-s.area[2],p.y0=s.height-Math.round(y)-s.area[2],d.push(p)}})),d}function at(t,e,a,i,n,s,o,u,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=[],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,n){if(null===t)d.push(null);else{var o={};if(o.color=t.color,o.y=i[n],u>0){for(var p=0,h=0;h<=u;h++)p+=c[h].data[n];var m=p-t,_=f*(p-e)/(a-e),g=f*(m-e)/(a-e)}else{p=t;"object"===(0,r.default)(t)&&null!==t&&(p=t.value);_=f*(p-e)/(a-e),g=0}var v=g;_*=l,v*=l,o.height=_-v,o.x=s.area[3]+_,o.x0=s.area[3]+v,d.push(o)}})),d}function it(t,e,a,i,n){var s;s="stack"==i?x(t,e.categories.length):b(t);var o=[];s=s.filter((function(t){return"object"===(0,r.default)(t)&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),s.map((function(t){"object"===(0,r.default)(t)?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[1]):o.push(t.value):o.push(t)}));var u=n.min||0,c=n.max||0;o.length>0&&(u=Math.min.apply(this,o),c=Math.max.apply(this,o)),u===c&&(0==c?c=10:u=0);for(var l=v(u,c),d=void 0===n.min||null===n.min?l.minRange:n.min,f=void 0===n.max||null===n.max?l.maxRange:n.max,p=(f-d)/e.yAxis.splitNumber,h=[],m=0;m<=e.yAxis.splitNumber;m++)h.push(d+p*m);return h.reverse()}function nt(t,e,a,i){var n=o({},{type:""},e.extra.column),r=e.yAxis.data.length,s=new Array(r);if(r>0){for(var c=0;c<r;c++){s[c]=[];for(var l=0;l<t.length;l++)t[l].index==c&&s[c].push(t[l])}for(var d=new Array(r),f=new Array(r),p=new Array(r),h=function(t){var r=e.yAxis.data[t];1==e.yAxis.disabled&&(r.disabled=!0),"categories"===r.type?(r.formatter||(r.formatter=function(t,e,a){return t+(r.unit||"")}),r.categories=r.categories||e.categories,d[t]=r.categories):(r.formatter||(r.formatter=function(t,e,a){return u.toFixed(t,r.tofix||0)+(r.unit||"")}),d[t]=it(s[t],e,a,n.type,r,t));var o=r.fontSize*e.pix||a.fontSize;p[t]={position:r.position?r.position:"left",width:0},f[t]=d[t].map((function(a,n){return a=r.formatter(a,n,e),p[t].width=Math.max(p[t].width,y(a,o,i)+5),a}));var c=r.calibration?4*e.pix:0;p[t].width+=c+3*e.pix,!0===r.disabled&&(p[t].width=0)},m=0;m<r;m++)h(m)}else{d=new Array(1),f=new Array(1),p=new Array(1);"bar"===e.type?(d[0]=e.categories,e.yAxis.formatter||(e.yAxis.formatter=function(t,e,a){return t+(a.yAxis.unit||"")})):(e.yAxis.formatter||(e.yAxis.formatter=function(t,e,a){return t.toFixed(a.yAxis.tofix)+(a.yAxis.unit||"")}),d[0]=it(t,e,a,n.type,{})),p[0]={position:"left",width:0};var _=e.yAxis.fontSize*e.pix||a.fontSize;f[0]=d[0].map((function(t,a){return t=e.yAxis.formatter(t,a,e),p[0].width=Math.max(p[0].width,y(t,_,i)+5),t})),p[0].width+=3*e.pix,!0===e.yAxis.disabled?(p[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):(e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,formatter:e.yAxis.formatter},"bar"===e.type&&(e.yAxis.data[0].categories=e.categories,e.yAxis.data[0].type="categories"))}return{rangesFormat:f,ranges:d,yAxisWidth:p}}function rt(t,e){!0!==e.rotateLock?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):!0!==e._rotate_&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function st(t,e,a,i,n){if(i.beginPath(),"hollow"==n.dataPointShapeType?(i.setStrokeStyle(e),i.setFillStyle(n.background),i.setLineWidth(2*n.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*n.pix)),"diamond"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x+2.5*n.pix,t.y),i.arc(t.x,t.y,3*n.pix,0,2*Math.PI,!1))}));else if("square"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("none"===a)return;i.closePath(),i.fill(),i.stroke()}function ot(t,e,a,i,n,r,s){if(n.tooltip&&!(n.tooltip.group.length>0&&0==n.tooltip.group.includes(s))){var o="number"===typeof n.tooltip.index?n.tooltip.index:n.tooltip.index[n.tooltip.group.indexOf(s)];if(i.beginPath(),"hollow"==r.activeType?(i.setStrokeStyle(e),i.setFillStyle(n.background),i.setLineWidth(2*n.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*n.pix)),"diamond"===a)t.forEach((function(t,e){null!==t&&o==e&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===a)t.forEach((function(t,e){null!==t&&o==e&&(i.moveTo(t.x+2.5*n.pix,t.y),i.arc(t.x,t.y,3*n.pix,0,2*Math.PI,!1))}));else if("square"===a)t.forEach((function(t,e){null!==t&&o==e&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===a)t.forEach((function(t,e){null!==t&&o==e&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("none"===a)return;i.closePath(),i.fill(),i.stroke()}}function ut(t,e,a,i){var n=t.title.fontSize||e.titleFontSize,r=t.subtitle.fontSize||e.subtitleFontSize,s=t.title.name||"",o=t.subtitle.name||"",u=t.title.color||t.fontColor,c=t.subtitle.color||t.fontColor,l=s?n:0,d=o?r:0;if(o){var f=y(o,r*t.pix,a),p=i.x-f/2+(t.subtitle.offsetX||0)*t.pix,h=i.y+r*t.pix/2+(t.subtitle.offsetY||0)*t.pix;s&&(h+=(l*t.pix+5)/2),a.beginPath(),a.setFontSize(r*t.pix),a.setFillStyle(c),a.fillText(o,p,h),a.closePath(),a.stroke()}if(s){var m=y(s,n*t.pix,a),_=i.x-m/2+(t.title.offsetX||0),g=i.y+n*t.pix/2+(t.title.offsetY||0)*t.pix;o&&(g-=(d*t.pix+5)/2),a.beginPath(),a.setFontSize(n*t.pix),a.setFillStyle(u),a.fillText(s,_,g),a.closePath(),a.stroke()}}function ct(t,e,a,i,n){var s=e.data,o=e.textOffset?e.textOffset:0;t.forEach((function(t,u){if(null!==t){i.beginPath();var c=e.textSize?e.textSize*n.pix:a.fontSize;i.setFontSize(c),i.setFillStyle(e.textColor||n.fontColor);var l=s[u];"object"===(0,r.default)(s[u])&&null!==s[u]&&(l=s[u].constructor.toString().indexOf("Array")>-1?s[u][1]:s[u].value);var d=e.formatter?e.formatter(l,u,e,n):l;i.setTextAlign("center"),i.fillText(String(d),t.x,t.y-4+o*n.pix),i.closePath(),i.stroke(),i.setTextAlign("left")}}))}function lt(t,e,a,i,n){var s=e.data,o=e.textOffset?e.textOffset:0,u=n.extra.column.labelPosition;t.forEach((function(t,c){if(null!==t){i.beginPath();var l=e.textSize?e.textSize*n.pix:a.fontSize;i.setFontSize(l),i.setFillStyle(e.textColor||n.fontColor);var d=s[c];"object"===(0,r.default)(s[c])&&null!==s[c]&&(d=s[c].constructor.toString().indexOf("Array")>-1?s[c][1]:s[c].value);var f=e.formatter?e.formatter(d,c,e,n):d;i.setTextAlign("center");var p=t.y-4*n.pix+o*n.pix;t.y>e.zeroPoints&&(p=t.y+o*n.pix+l),"insideTop"==u&&(p=t.y+l+o*n.pix,t.y>e.zeroPoints&&(p=t.y-o*n.pix-4*n.pix)),"center"==u&&(p=t.y+o*n.pix+(n.height-n.area[2]-t.y+l)/2,e.zeroPoints<n.height-n.area[2]&&(p=t.y+o*n.pix+(e.zeroPoints-t.y+l)/2),t.y>e.zeroPoints&&(p=t.y-o*n.pix-(t.y-e.zeroPoints-l)/2),"stack"==n.extra.column.type&&(p=t.y+o*n.pix+(t.y0-t.y+l)/2)),"bottom"==u&&(p=n.height-n.area[2]+o*n.pix-4*n.pix,e.zeroPoints<n.height-n.area[2]&&(p=e.zeroPoints+o*n.pix-4*n.pix),t.y>e.zeroPoints&&(p=e.zeroPoints-o*n.pix+l+2*n.pix),"stack"==n.extra.column.type&&(p=t.y0+o*n.pix-4*n.pix)),i.fillText(String(f),t.x,p),i.closePath(),i.stroke(),i.setTextAlign("left")}}))}function dt(t,e,a,i,n,r){e.data;var s=e.textOffset?e.textOffset:0;n.extra.mount.labelPosition;t.forEach((function(t,o){if(null!==t){i.beginPath();var u=e[o].textSize?e[o].textSize*n.pix:a.fontSize;i.setFontSize(u),i.setFillStyle(e[o].textColor||n.fontColor);var c=t.value,l=e[o].formatter?e[o].formatter(c,o,e,n):c;i.setTextAlign("center");var d=t.y-4*n.pix+s*n.pix;t.y>r&&(d=t.y+s*n.pix+u),i.fillText(String(l),t.x,d),i.closePath(),i.stroke(),i.setTextAlign("left")}}))}function ft(t,e,a,i,n){var s=e.data;e.textOffset&&e.textOffset;t.forEach((function(t,o){if(null!==t){i.beginPath();var u=e.textSize?e.textSize*n.pix:a.fontSize;i.setFontSize(u),i.setFillStyle(e.textColor||n.fontColor);var c=s[o];"object"===(0,r.default)(s[o])&&null!==s[o]&&(c=s[o].value);var l=e.formatter?e.formatter(c,o,e,n):c;i.setTextAlign("left"),i.fillText(String(l),t.x+4*n.pix,t.y+u/2-3),i.closePath(),i.stroke()}}))}function pt(t,e,a,i,n,r){var s;e-=t.width/2+t.labelOffset*i.pix,e=e<10?10:e,s=t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle;for(var o=s/t.splitLine.splitNumber,u=t.endNumber-t.startNumber,c=u/t.splitLine.splitNumber,l=t.startAngle,d=t.startNumber,f=0;f<t.splitLine.splitNumber+1;f++){var p={x:e*Math.cos(l*Math.PI),y:e*Math.sin(l*Math.PI)},h=t.formatter?t.formatter(d,f,i):d;p.x+=a.x-y(h,n.fontSize,r)/2,p.y+=a.y;var m=p.x,_=p.y;r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(t.labelColor||i.fontColor),r.fillText(h,m,_+n.fontSize/2),r.closePath(),r.stroke(),l+=o,l>=2&&(l%=2),d+=c}}function ht(t,e,a,i,n,r){var s=i.extra.radar||{};t.forEach((function(t,o){if(!0===s.labelPointShow&&""!==i.categories[o]){var c={x:e*Math.cos(t),y:e*Math.sin(t)},l=h(c.x,c.y,a);r.setFillStyle(s.labelPointColor),r.beginPath(),r.arc(l.x,l.y,s.labelPointRadius*i.pix,0,2*Math.PI,!1),r.closePath(),r.fill()}if(!0===s.labelShow){var d={x:(e+n.radarLabelTextMargin*i.pix)*Math.cos(t),y:(e+n.radarLabelTextMargin*i.pix)*Math.sin(t)},f=h(d.x,d.y,a),p=f.x,m=f.y;u.approximatelyEqual(d.x,0)?p-=y(i.categories[o]||"",n.fontSize,r)/2:d.x<0&&(p-=y(i.categories[o]||"",n.fontSize,r)),r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(s.labelColor||i.fontColor),r.fillText(i.categories[o]||"",p,m+n.fontSize/2),r.closePath(),r.stroke()}}))}function mt(t,e,a,i,n,r){for(var s=a.pieChartLinePadding,o=[],c=null,l=t.map((function(a,i){var n=a.formatter?a.formatter(a,i,t,e):u.toFixed(100*a._proportion_.toFixed(4))+"%";n=a.labelText?a.labelText:n;var r=2*Math.PI-(a._start_+2*Math.PI*a._proportion_/2);a._rose_proportion_&&(r=2*Math.PI-(a._start_+2*Math.PI*a._rose_proportion_/2));var s=a.color,o=a._radius_;return{arc:r,text:n,color:s,radius:o,textColor:a.textColor,textSize:a.textSize,labelShow:a.labelShow}})),d=0;d<l.length;d++){var f=l[d],p=Math.cos(f.arc)*(f.radius+s),_=Math.sin(f.arc)*(f.radius+s),g=Math.cos(f.arc)*f.radius,v=Math.sin(f.arc)*f.radius,b=p>=0?p+a.pieChartTextPadding:p-a.pieChartTextPadding,x=_,w=y(f.text,f.textSize*e.pix||a.fontSize,i),C=x;c&&u.isSameXCoordinateArea(c.start,{x:b})&&(C=b>0?Math.min(x,c.start.y):p<0||x>0?Math.max(x,c.start.y):Math.min(x,c.start.y)),b<0&&(b-=w);var $={lineStart:{x:g,y:v},lineEnd:{x:p,y:_},start:{x:b,y:C},width:w,height:a.fontSize,text:f.text,color:f.color,textColor:f.textColor,textSize:f.textSize};c=m($,c),o.push(c)}for(var k=0;k<o.length;k++)if(!1!==l[k].labelShow){var D=o[k],S=h(D.lineStart.x,D.lineStart.y,r),T=h(D.lineEnd.x,D.lineEnd.y,r),O=h(D.start.x,D.start.y,r);i.setLineWidth(1*e.pix),i.setFontSize(D.textSize*e.pix||a.fontSize),i.beginPath(),i.setStrokeStyle(D.color),i.setFillStyle(D.color),i.moveTo(S.x,S.y);var P=D.start.x<0?O.x+D.width:O.x,M=D.start.x<0?O.x-5:O.x+5;i.quadraticCurveTo(T.x,T.y,P,O.y),i.moveTo(S.x,S.y),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(O.x+D.width,O.y),i.arc(P,O.y,2*e.pix,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(D.textSize*e.pix||a.fontSize),i.setFillStyle(D.textColor||e.fontColor),i.fillText(D.text,M,O.y+3),i.closePath(),i.stroke(),i.closePath()}}function _t(t,e,a){for(var i=o({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),n=t.area[3],r=t.width-t.area[1],s=function(t,e){for(var a,i,n=e.height-e.area[0]-e.area[2],r=0;r<t.length;r++){t[r].yAxisIndex=t[r].yAxisIndex?t[r].yAxisIndex:0;var s=[].concat(e.chartData.yAxisData.ranges[t[r].yAxisIndex]);a=s.pop(),i=s.shift();var o=n*(t[r].value-a)/(i-a);t[r].y=e.height-Math.round(o)-e.area[2]}return t}(i.data,t),u=0;u<s.length;u++){var l=o({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},s[u]);if("dash"==i.type&&a.setLineDash([i.dashLength,i.dashLength]),a.setStrokeStyle(l.lineColor),a.setLineWidth(1*t.pix),a.beginPath(),a.moveTo(n,l.y),a.lineTo(r,l.y),a.stroke(),a.setLineDash([]),l.showLabel){var d=l.labelFontSize*t.pix,f=l.labelText?l.labelText:l.value;a.setFontSize(d);var p=y(f,d,a),h=p+l.labelPadding*t.pix*2,m="left"==l.labelAlign?t.area[3]-h:t.width-t.area[1];m+=l.labelOffsetX;var _=l.y-.5*d-l.labelPadding*t.pix;_+=l.labelOffsetY;var g=m+l.labelPadding*t.pix;l.y;a.setFillStyle(c(l.labelBgColor,l.labelBgOpacity)),a.setStrokeStyle(l.labelBgColor),a.setLineWidth(1*t.pix),a.beginPath(),a.rect(m,_,h,d+2*l.labelPadding*t.pix),a.closePath(),a.stroke(),a.fill(),a.setFontSize(d),a.setTextAlign("left"),a.setFillStyle(l.labelFontColor),a.fillText(String(f),g,_+d+l.labelPadding*t.pix/2),a.stroke(),a.setTextAlign("left")}}}function gt(t,e,a,i,n){var r=o({},{gridType:"solid",dashLength:4},t.extra.tooltip),s=t.area[3],u=t.width-t.area[1];if("dash"==r.gridType&&a.setLineDash([r.dashLength,r.dashLength]),a.setStrokeStyle(r.gridColor||"#cccccc"),a.setLineWidth(1*t.pix),a.beginPath(),a.moveTo(s,t.tooltip.offset.y),a.lineTo(u,t.tooltip.offset.y),a.stroke(),a.setLineDash([]),r.yAxisLabel)for(var l=r.boxPadding*t.pix,d=function(t,e,a,i,n){for(var r=[].concat(a.chartData.yAxisData.ranges),s=a.height-a.area[0]-a.area[2],o=a.area[0],u=[],c=0;c<r.length;c++){var l=Math.max.apply(this,r[c]),d=Math.min.apply(this,r[c]),f=l-(l-d)*(t-o)/s;f=a.yAxis.data&&a.yAxis.data[c].formatter?a.yAxis.data[c].formatter(f,c,a):f.toFixed(0),u.push(String(f))}return u}(t.tooltip.offset.y,t.series,t),f=t.chartData.yAxisData.yAxisWidth,p=t.area[3],h=t.width-t.area[1],m=0;m<d.length;m++){a.setFontSize(r.fontSize*t.pix);var _,g=y(d[m],r.fontSize*t.pix,a),v=void 0,b=void 0;"left"==f[m].position?(v=p-(g+2*l)-2*t.pix,b=Math.max(v,v+g+2*l)):(v=h+2*t.pix,b=Math.max(v+f[m].width,v+g+2*l)),_=b-v;var x=v+(_-g)/2,w=t.tooltip.offset.y;a.beginPath(),a.setFillStyle(c(r.labelBgColor||e.toolTipBackground,r.labelBgOpacity||e.toolTipOpacity)),a.setStrokeStyle(r.labelBgColor||e.toolTipBackground),a.setLineWidth(1*t.pix),a.rect(v,w-.5*e.fontSize-l,_,e.fontSize+2*l),a.closePath(),a.stroke(),a.fill(),a.beginPath(),a.setFontSize(e.fontSize),a.setFillStyle(r.labelFontColor||t.fontColor),a.fillText(d[m],x,w+.5*e.fontSize),a.closePath(),a.stroke(),"left"==f[m].position?p-=f[m].width+t.yAxis.padding*t.pix:h+=f[m].width+t.yAxis.padding*t.pix}}function vt(t,e,a,i,n){var r=o({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:n},e.extra.column);r.activeWidth=r.activeWidth>n?n:r.activeWidth;var s=e.area[0],u=e.height-e.area[2];i.beginPath(),i.setFillStyle(c(r.activeBgColor,r.activeBgOpacity)),i.rect(t-r.activeWidth/2,s,r.activeWidth,u-s),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function yt(t,e,a,i,n){var r=o({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.bar),s=e.area[3],u=e.width-e.area[1];i.beginPath(),i.setFillStyle(c(r.activeBgColor,r.activeBgOpacity)),i.rect(s,t-n/2,u-s,n),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function bt(t,e,a,i,n,r,s){var u=o({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},a.extra.tooltip);1==u.showCategory&&a.categories&&t.unshift({text:a.categories[a.tooltip.index],color:null});var l=u.fontSize*a.pix,d=u.lineHeight*a.pix,f=u.boxPadding*a.pix,p=l,h=5*a.pix;0==u.legendShow&&(p=0,h=0);var m=u.showArrow?8*a.pix:0,_=!1;"line"!=a.type&&"mount"!=a.type&&"area"!=a.type&&"candle"!=a.type&&"mix"!=a.type||1==u.splitLine&&function(t,e,a,i){var n=e.extra.tooltip||{};n.gridType=void 0==n.gridType?"solid":n.gridType,n.dashLength=void 0==n.dashLength?4:n.dashLength;var r=e.area[0],s=e.height-e.area[2];if("dash"==n.gridType&&i.setLineDash([n.dashLength,n.dashLength]),i.setStrokeStyle(n.gridColor||"#cccccc"),i.setLineWidth(1*e.pix),i.beginPath(),i.moveTo(t,r),i.lineTo(t,s),i.stroke(),i.setLineDash([]),n.xAxisLabel){var o=e.categories[e.tooltip.index];i.setFontSize(a.fontSize);var u=y(o,a.fontSize,i),l=t-.5*u,d=s+2*e.pix;i.beginPath(),i.setFillStyle(c(n.labelBgColor||a.toolTipBackground,n.labelBgOpacity||a.toolTipOpacity)),i.setStrokeStyle(n.labelBgColor||a.toolTipBackground),i.setLineWidth(1*e.pix),i.rect(l-n.boxPadding*e.pix,d,u+2*n.boxPadding*e.pix,a.fontSize+2*n.boxPadding*e.pix),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(a.fontSize),i.setFillStyle(n.labelFontColor||e.fontColor),i.fillText(String(o),l,d+n.boxPadding*e.pix+a.fontSize),i.closePath(),i.stroke()}}(a.tooltip.offset.x,a,i,n),e=o({x:0,y:0},e),e.y-=8*a.pix;var g=t.map((function(t){return y(t.text,l,n)})),v=p+h+4*f+Math.max.apply(null,g),b=2*f+t.length*d;if(0!=u.showBox){e.x-Math.abs(a._scrollDistance_||0)+m+v>a.width&&(_=!0),b+e.y>a.height&&(e.y=a.height-b),n.beginPath(),n.setFillStyle(c(u.bgColor,u.bgOpacity)),n.setLineWidth(u.borderWidth*a.pix),n.setStrokeStyle(c(u.borderColor,u.borderOpacity));var x=u.borderRadius;_?(v+m>a.width&&(e.x=a.width+Math.abs(a._scrollDistance_||0)+m+(v-a.width)),v>e.x&&(e.x=a.width+Math.abs(a._scrollDistance_||0)+m+(v-a.width)),u.showArrow&&(n.moveTo(e.x,e.y+10*a.pix),n.lineTo(e.x-m,e.y+10*a.pix+5*a.pix)),n.arc(e.x-m-x,e.y+b-x,x,0,Math.PI/2,!1),n.arc(e.x-m-Math.round(v)+x,e.y+b-x,x,Math.PI/2,Math.PI,!1),n.arc(e.x-m-Math.round(v)+x,e.y+x,x,-Math.PI,-Math.PI/2,!1),n.arc(e.x-m-x,e.y+x,x,-Math.PI/2,0,!1),u.showArrow&&(n.lineTo(e.x-m,e.y+10*a.pix-5*a.pix),n.lineTo(e.x,e.y+10*a.pix))):(u.showArrow&&(n.moveTo(e.x,e.y+10*a.pix),n.lineTo(e.x+m,e.y+10*a.pix-5*a.pix)),n.arc(e.x+m+x,e.y+x,x,-Math.PI,-Math.PI/2,!1),n.arc(e.x+m+Math.round(v)-x,e.y+x,x,-Math.PI/2,0,!1),n.arc(e.x+m+Math.round(v)-x,e.y+b-x,x,0,Math.PI/2,!1),n.arc(e.x+m+x,e.y+b-x,x,Math.PI/2,Math.PI,!1),u.showArrow&&(n.lineTo(e.x+m,e.y+10*a.pix+5*a.pix),n.lineTo(e.x,e.y+10*a.pix))),n.closePath(),n.fill(),u.borderWidth>0&&n.stroke(),u.legendShow&&t.forEach((function(t,i){if(null!==t.color){n.beginPath(),n.setFillStyle(t.color);var r=e.x+m+2*f,s=e.y+(d-l)/2+d*i+f+1;switch(_&&(r=e.x-v-m+2*f),t.legendShape){case"line":n.moveTo(r,s+.5*p-2*a.pix),n.fillRect(r,s+.5*p-2*a.pix,p,4*a.pix);break;case"triangle":n.moveTo(r+7.5*a.pix,s+.5*p-5*a.pix),n.lineTo(r+2.5*a.pix,s+.5*p+5*a.pix),n.lineTo(r+12.5*a.pix,s+.5*p+5*a.pix),n.lineTo(r+7.5*a.pix,s+.5*p-5*a.pix);break;case"diamond":n.moveTo(r+7.5*a.pix,s+.5*p-5*a.pix),n.lineTo(r+2.5*a.pix,s+.5*p),n.lineTo(r+7.5*a.pix,s+.5*p+5*a.pix),n.lineTo(r+12.5*a.pix,s+.5*p),n.lineTo(r+7.5*a.pix,s+.5*p-5*a.pix);break;case"circle":n.moveTo(r+7.5*a.pix,s+.5*p),n.arc(r+7.5*a.pix,s+.5*p,5*a.pix,0,2*Math.PI);break;case"rect":n.moveTo(r,s+.5*p-5*a.pix),n.fillRect(r,s+.5*p-5*a.pix,15*a.pix,10*a.pix);break;case"square":n.moveTo(r+2*a.pix,s+.5*p-5*a.pix),n.fillRect(r+2*a.pix,s+.5*p-5*a.pix,10*a.pix,10*a.pix);break;default:n.moveTo(r,s+.5*p-5*a.pix),n.fillRect(r,s+.5*p-5*a.pix,15*a.pix,10*a.pix)}n.closePath(),n.fill()}})),t.forEach((function(t,a){var i=e.x+m+2*f+p+h;_&&(i=e.x-v-m+2*f+p+h);var r=e.y+d*a+(d-l)/2-1+f+l;n.beginPath(),n.setFontSize(l),n.setTextBaseline("normal"),n.setFillStyle(u.fontColor),n.fillText(t.text,i,r),n.closePath(),n.stroke()}))}}function xt(t,e,a,i,n,r){var s=t.extra.tooltip||{};s.horizentalLine&&t.tooltip&&1===i&&("line"==t.type||"area"==t.type||"column"==t.type||"mount"==t.type||"candle"==t.type||"mix"==t.type)&&gt(t,e,a),a.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&a.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===i&&bt(t.tooltip.textList,t.tooltip.offset,t,e,a),a.restore()}function wt(t,e,a,i){var n=e.chartData.xAxisData,r=n.xAxisPoints,s=n.startX,o=n.endX,u=n.eachSpacing,c="center";"bar"!=e.type&&"line"!=e.type&&"area"!=e.type&&"scatter"!=e.type&&"bubble"!=e.type||(c=e.xAxis.boundaryGap);var l=e.height-e.area[2],d=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var f=e.height-e.area[2]+a.xAxisHeight,p=o-s,h=u*(r.length-1);"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),h+=(e.extra.mount.widthRatio-1)*u);var m=p*p/h,_=0;e._scrollDistance_&&(_=-e._scrollDistance_*p/h),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),i.moveTo(s,f),i.lineTo(o,f),i.stroke(),i.closePath(),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),i.moveTo(s+_,f),i.lineTo(s+_+m,f),i.stroke(),i.closePath(),i.setLineCap("butt")}if(i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),!0===e.xAxis.calibration&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),r.forEach((function(t,a){a>0&&(i.beginPath(),i.moveTo(t-u/2,l),i.lineTo(t-u/2,l+3*e.pix),i.closePath(),i.stroke())}))),!0!==e.xAxis.disableGrid&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),"dash"==e.xAxis.gridType&&i.setLineDash([e.xAxis.dashLength*e.pix,e.xAxis.dashLength*e.pix]),e.xAxis.gridEval=e.xAxis.gridEval||1,r.forEach((function(t,a){a%e.xAxis.gridEval==0&&(i.beginPath(),i.moveTo(t,l),i.lineTo(t,d),i.stroke())})),i.setLineDash([])),!0!==e.xAxis.disabled){var g=t.length;e.xAxis.labelCount&&(g=e.xAxis.itemCount?Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):e.xAxis.labelCount,g-=1);for(var v=Math.ceil(t.length/g),b=[],x=t.length,w=0;w<x;w++)w%v!==0?b.push(""):b.push(t[w]);b[x-1]=t[x-1];var C=e.xAxis.fontSize*e.pix||a.fontSize;0===a._xAxisTextAngle_?b.forEach((function(t,a){var n=e.xAxis.formatter?e.xAxis.formatter(t,a,e):t,s=-y(String(n),C,i)/2;"center"==c&&(s+=u/2);e.xAxis.scrollShow&&e.pix;var o=e._scrollDistance_||0,d="center"==c?r[a]+u/2:r[a];d-Math.abs(o)>=e.area[3]-1&&d-Math.abs(o)<=e.width-e.area[1]+1&&(i.beginPath(),i.setFontSize(C),i.setFillStyle(e.xAxis.fontColor||e.fontColor),i.fillText(String(n),r[a]+s,l+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.fontSize)*e.pix/2+e.xAxis.fontSize*e.pix),i.closePath(),i.stroke())})):b.forEach((function(t,n){var s=e.xAxis.formatter?e.xAxis.formatter(t):t,o=e._scrollDistance_||0,d="center"==c?r[n]+u/2:r[n];if(d-Math.abs(o)>=e.area[3]-1&&d-Math.abs(o)<=e.width-e.area[1]+1){i.save(),i.beginPath(),i.setFontSize(C),i.setFillStyle(e.xAxis.fontColor||e.fontColor);var f=y(String(s),C,i),p=r[n];"center"==c&&(p=r[n]+u/2);e.xAxis.scrollShow&&6*e.pix;var h=l+e.xAxis.marginTop*e.pix+C-C*Math.abs(Math.sin(a._xAxisTextAngle_));e.xAxis.rotateAngle<0?(p-=C/2,f=0):(p+=C/2,f=-f),i.translate(p,h),i.rotate(-1*a._xAxisTextAngle_),i.fillText(String(s),f,0),i.closePath(),i.stroke(),i.restore()}}))}i.restore(),e.xAxis.title&&(i.beginPath(),i.setFontSize(e.xAxis.titleFontSize*e.pix),i.setFillStyle(e.xAxis.titleFontColor),i.fillText(String(e.xAxis.title),e.width-e.area[1]+e.xAxis.titleOffsetX*e.pix,e.height-e.area[2]+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.titleFontSize)*e.pix/2+(e.xAxis.titleFontSize+e.xAxis.titleOffsetY)*e.pix),i.closePath(),i.stroke()),e.xAxis.axisLine&&(i.beginPath(),i.setStrokeStyle(e.xAxis.axisLineColor),i.setLineWidth(1*e.pix),i.moveTo(s,e.height-e.area[2]),i.lineTo(o,e.height-e.area[2]),i.stroke())}function Ct(t,e,a,i){if(!0!==e.yAxis.disableGrid){var n=e.height-e.area[0]-e.area[2],r=n/e.yAxis.splitNumber,s=e.area[3],o=e.chartData.xAxisData.xAxisPoints,u=e.chartData.xAxisData.eachSpacing,c=u*(o.length-1);"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),c+=(e.extra.mount.widthRatio-1)*u);var l=s+c,d=[],f=1;!1===e.xAxis.axisLine&&(f=0);for(var p=f;p<e.yAxis.splitNumber+1;p++)d.push(e.height-e.area[2]-r*p);i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),"dash"==e.yAxis.gridType&&i.setLineDash([e.yAxis.dashLength*e.pix,e.yAxis.dashLength*e.pix]),i.setStrokeStyle(e.yAxis.gridColor),i.setLineWidth(1*e.pix),d.forEach((function(t,e){i.beginPath(),i.moveTo(s,t),i.lineTo(l,t),i.stroke()})),i.setLineDash([]),i.restore()}}function $t(t,e,a,i){if(!0!==e.yAxis.disabled){var n=e.height-e.area[0]-e.area[2],r=n/e.yAxis.splitNumber,s=e.area[3],o=e.width-e.area[1],u=e.height-e.area[2];i.beginPath(),i.setFillStyle(e.background),1==e.enableScroll&&e.xAxis.scrollPosition&&"left"!==e.xAxis.scrollPosition&&i.fillRect(0,0,s,u+2*e.pix),1==e.enableScroll&&e.xAxis.scrollPosition&&"right"!==e.xAxis.scrollPosition&&i.fillRect(o,0,e.width,u+2*e.pix),i.closePath(),i.stroke();var c=e.area[3],l=e.width-e.area[1],d=e.area[3]+(e.width-e.area[1]-e.area[3])/2;if(e.yAxis.data)for(var f=function(t){var s=e.yAxis.data[t];if(h=[],"categories"===s.type)for(var o=0;o<=s.categories.length;o++)h.push(e.area[0]+n/s.categories.length/2+n/s.categories.length*o);else for(var u=0;u<=e.yAxis.splitNumber;u++)h.push(e.area[0]+r*u);if(!0!==s.disabled){var f=e.chartData.yAxisData.rangesFormat[t],p=s.fontSize?s.fontSize*e.pix:a.fontSize,m=e.chartData.yAxisData.yAxisWidth[t],_=s.textAlign||"right";if(f.forEach((function(t,a){var n=h[a];i.beginPath(),i.setFontSize(p),i.setLineWidth(1*e.pix),i.setStrokeStyle(s.axisLineColor||"#cccccc"),i.setFillStyle(s.fontColor||e.fontColor);var r=0,o=4*e.pix;if("left"==m.position){switch(1==s.calibration&&(i.moveTo(c,n),i.lineTo(c-3*e.pix,n),o+=3*e.pix),_){case"left":i.setTextAlign("left"),r=c-m.width;break;case"right":i.setTextAlign("right"),r=c-o;break;default:i.setTextAlign("center"),r=c-m.width/2}i.fillText(String(t),r,n+p/2-3*e.pix)}else if("right"==m.position){switch(1==s.calibration&&(i.moveTo(l,n),i.lineTo(l+3*e.pix,n),o+=3*e.pix),_){case"left":i.setTextAlign("left"),r=l+o;break;case"right":i.setTextAlign("right"),r=l+m.width;break;default:i.setTextAlign("center"),r=l+m.width/2}i.fillText(String(t),r,n+p/2-3*e.pix)}else if("center"==m.position){switch(1==s.calibration&&(i.moveTo(d,n),i.lineTo(d-3*e.pix,n),o+=3*e.pix),_){case"left":i.setTextAlign("left"),r=d-m.width;break;case"right":i.setTextAlign("right"),r=d-o;break;default:i.setTextAlign("center"),r=d-m.width/2}i.fillText(String(t),r,n+p/2-3*e.pix)}i.closePath(),i.stroke(),i.setTextAlign("left")})),!1!==s.axisLine&&(i.beginPath(),i.setStrokeStyle(s.axisLineColor||"#cccccc"),i.setLineWidth(1*e.pix),"left"==m.position?(i.moveTo(c,e.height-e.area[2]),i.lineTo(c,e.area[0])):"right"==m.position?(i.moveTo(l,e.height-e.area[2]),i.lineTo(l,e.area[0])):"center"==m.position&&(i.moveTo(d,e.height-e.area[2]),i.lineTo(d,e.area[0])),i.stroke()),e.yAxis.showTitle){var g=s.titleFontSize*e.pix||a.fontSize,v=s.title;i.beginPath(),i.setFontSize(g),i.setFillStyle(s.titleFontColor||e.fontColor),"left"==m.position?i.fillText(v,c-y(v,g,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"right"==m.position?i.fillText(v,l-y(v,g,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"center"==m.position&&i.fillText(v,d-y(v,g,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix),i.closePath(),i.stroke()}"left"==m.position?c-=m.width+e.yAxis.padding*e.pix:l+=m.width+e.yAxis.padding*e.pix}},p=0;p<e.yAxis.data.length;p++){var h;f(p)}}}function kt(t,e,a,i,n){if(!1!==e.legend.show){var r=n.legendData,s=r.points,o=r.area,u=e.legend.padding*e.pix,c=e.legend.fontSize*e.pix,l=15*e.pix,d=5*e.pix,f=e.legend.itemGap*e.pix,p=Math.max(e.legend.lineHeight*e.pix,c);i.beginPath(),i.setLineWidth(e.legend.borderWidth*e.pix),i.setStrokeStyle(e.legend.borderColor),i.setFillStyle(e.legend.backgroundColor),i.moveTo(o.start.x,o.start.y),i.rect(o.start.x,o.start.y,o.width,o.height),i.closePath(),i.fill(),i.stroke(),s.forEach((function(t,n){var s,h=0;h=r.widthArr[n],s=r.heightArr[n];var m=0,_=0;if("top"==e.legend.position||"bottom"==e.legend.position){switch(e.legend.float){case"left":m=o.start.x+u;break;case"right":m=o.start.x+o.width-h;break;default:m=o.start.x+(o.width-h)/2}_=o.start.y+u+n*p}else h=0==n?0:r.widthArr[n-1],m=o.start.x+u+h,_=o.start.y+u+(o.height-s)/2;i.setFontSize(a.fontSize);for(var g=0;g<t.length;g++){var v=t[g];switch(v.area=[0,0,0,0],v.area[0]=m,v.area[1]=_,v.area[3]=_+p,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(v.show?v.color:e.legend.hiddenColor),i.setFillStyle(v.show?v.color:e.legend.hiddenColor),v.legendShape){case"line":i.moveTo(m,_+.5*p-2*e.pix),i.fillRect(m,_+.5*p-2*e.pix,15*e.pix,4*e.pix);break;case"triangle":i.moveTo(m+7.5*e.pix,_+.5*p-5*e.pix),i.lineTo(m+2.5*e.pix,_+.5*p+5*e.pix),i.lineTo(m+12.5*e.pix,_+.5*p+5*e.pix),i.lineTo(m+7.5*e.pix,_+.5*p-5*e.pix);break;case"diamond":i.moveTo(m+7.5*e.pix,_+.5*p-5*e.pix),i.lineTo(m+2.5*e.pix,_+.5*p),i.lineTo(m+7.5*e.pix,_+.5*p+5*e.pix),i.lineTo(m+12.5*e.pix,_+.5*p),i.lineTo(m+7.5*e.pix,_+.5*p-5*e.pix);break;case"circle":i.moveTo(m+7.5*e.pix,_+.5*p),i.arc(m+7.5*e.pix,_+.5*p,5*e.pix,0,2*Math.PI);break;case"rect":i.moveTo(m,_+.5*p-5*e.pix),i.fillRect(m,_+.5*p-5*e.pix,15*e.pix,10*e.pix);break;case"square":i.moveTo(m+5*e.pix,_+.5*p-5*e.pix),i.fillRect(m+5*e.pix,_+.5*p-5*e.pix,10*e.pix,10*e.pix);break;case"none":break;default:i.moveTo(m,_+.5*p-5*e.pix),i.fillRect(m,_+.5*p-5*e.pix,15*e.pix,10*e.pix)}i.closePath(),i.fill(),i.stroke(),m+=l+d;var b=.5*p+.5*c-2,x=v.legendText?v.legendText:v.name;i.beginPath(),i.setFontSize(c),i.setFillStyle(v.show?e.legend.fontColor:e.legend.hiddenColor),i.fillText(x,m,_+b),i.closePath(),i.stroke(),"top"==e.legend.position||"bottom"==e.legend.position?(m+=y(x,c,i)+f,v.area[2]=m):(v.area[2]=m+y(x,c,i)+f,m-=l+d,_+=p)}}))}}function Dt(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==e.type?e.extra.pie:e.extra.ring),s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};0==a.pieChartLinePadding&&(a.pieChartLinePadding=r.activeRadius*e.pix);var u=Math.min((e.width-e.area[1]-e.area[3])/2-a.pieChartLinePadding-a.pieChartTextPadding-a._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-a.pieChartLinePadding-a.pieChartTextPadding);u=u<10?10:u,r.customRadius>0&&(u=r.customRadius*e.pix),t=L(t,u,n);var l=r.activeRadius*e.pix;if(r.customColor=g(r.linearType,r.customColor,t,a),t=t.map((function(t){return t._start_+=r.offsetAngle*Math.PI/180,t})),t.forEach((function(t,a){e.tooltip&&e.tooltip.index==a&&(i.beginPath(),i.setFillStyle(c(t.color,r.activeOpacity||.5)),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_+l,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(r.borderColor);var n,o=t.color;"custom"==r.linearType&&(n=i.createCircularGradient?i.createCircularGradient(s.x,s.y,t._radius_):i.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),n.addColorStop(0,c(r.customColor[t.linearIndex],1)),n.addColorStop(1,c(t.color,1)),o=n);i.setFillStyle(o),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill(),1==r.border&&i.stroke()})),"ring"===e.type){var d=.6*u;"number"===typeof r.ringWidth&&r.ringWidth>0&&(d=Math.max(0,u-r.ringWidth*e.pix)),i.beginPath(),i.setFillStyle(r.centerColor),i.moveTo(s.x,s.y),i.arc(s.x,s.y,d,0,2*Math.PI),i.closePath(),i.fill()}return!1!==e.dataLabel&&1===n&&mt(t,e,a,i,0,s),1===n&&"ring"===e.type&&ut(e,a,i,s),{center:s,radius:u,series:t}}function St(t,e){var a=Array(2),i=20037508.34*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34*n/180,a[0]=i,a[1]=n,a}function Tt(t,e,a,i,n,r){return{x:(e-a.xMin)*i+n,y:(a.yMax-t)*i+r}}function Ot(t,e,a){if(e[1]==a[1])return!1;if(e[1]>t[1]&&a[1]>t[1])return!1;if(e[1]<t[1]&&a[1]<t[1])return!1;if(e[1]==t[1]&&a[1]>t[1])return!1;if(a[1]==t[1]&&e[1]>t[1])return!1;if(e[0]<t[0]&&a[1]<t[1])return!1;var i=a[0]-(a[0]-e[0])*(a[1]-t[1])/(a[1]-e[1]);return!(i<t[0])}function Pt(t,e,a){for(var i=0,n=0;n<e.length;n++){var r=e[n][0];1==e.length&&(r=e[n][0]);for(var s=0;s<r.length-1;s++){var o=r[s],u=r[s+1];a&&(o=St(r[s][0],r[s][1]),u=St(r[s+1][0],r[s+1][1])),Ot(t,o,u)&&(i+=1)}}return i%2==1}function Mt(t,e,a){a=0==a?1:a;for(var i=[],n=0;n<a;n++)i[n]=Math.random();return Math.floor(i.reduce((function(t,e){return t+e}))/a*(e-t))+t}function At(t,e,a,i){for(var n=!1,r=0;r<e.length;r++)if(e[r].area){if(!(t[3]<e[r].area[1]||t[0]>e[r].area[2]||t[1]>e[r].area[3]||t[2]<e[r].area[0])){n=!0;break}if(t[0]<0||t[1]<0||t[2]>a||t[3]>i){n=!0;break}n=!1}return n}function It(t,e,a){var i=t.series;switch(e){case"normal":for(var n=0;n<i.length;n++){var r=i[n].name,s=i[n].textSize*t.pix,o=y(r,s,a),u=void 0,c=void 0,l=void 0,d=0;while(1){d++,u=Mt(-t.width/2,t.width/2,5)-o/2,c=Mt(-t.height/2,t.height/2,5)+s/2,l=[u-5+t.width/2,c-5-s+t.height/2,u+o+5+t.width/2,c+5+t.height/2];var f=At(l,i,t.width,t.height);if(!f)break;if(1e3==d){l=[-100,-100,-100,-100];break}}i[n].area=l}break;case"vertical":for(var p=function(){return Math.random()>.7},h=0;h<i.length;h++){var m=i[h].name,_=i[h].textSize*t.pix,g=y(m,_,a),v=p(),b=void 0,x=void 0,w=void 0,C=void 0,$=0;while(1){$++;var k=void 0;if(v?(b=Mt(-t.width/2,t.width/2,5)-g/2,x=Mt(-t.height/2,t.height/2,5)+_/2,w=[x-5-g+t.width/2,-b-5+t.height/2,x+5+t.width/2,-b+_+5+t.height/2],C=[t.width-(t.width/2-t.height/2)-(-b+_+5+t.height/2)-5,t.height/2-t.width/2+(x-5-g+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-b+_+5+t.height/2)+_,t.height/2-t.width/2+(x-5-g+t.width/2)+g+5],k=At(C,i,t.height,t.width)):(b=Mt(-t.width/2,t.width/2,5)-g/2,x=Mt(-t.height/2,t.height/2,5)+_/2,w=[b-5+t.width/2,x-5-_+t.height/2,b+g+5+t.width/2,x+5+t.height/2],k=At(w,i,t.width,t.height)),!k)break;if(1e3==$){w=[-1e3,-1e3,-1e3,-1e3];break}}v?(i[h].area=C,i[h].areav=w):i[h].area=w,i[h].rotate=v}break}return i}function jt(t,e,a,i,n,r,s){for(var o=0;o<t.length;o++){var c=t[o];if(!1!==c.labelShow){var l=void 0,d=void 0,f=void 0,p=void 0,h=c.formatter?c.formatter(c,o,t,e):u.toFixed(100*c._proportion_)+"%";h=c.labelText?c.labelText:h,"right"==n&&(l=o==t.length-1?(c.funnelArea[2]+s.x)/2:(c.funnelArea[2]+t[o+1].funnelArea[2])/2,d=l+2*r,f=c.funnelArea[1]+i/2,p=c.textSize*e.pix||e.fontSize*e.pix,a.setLineWidth(1*e.pix),a.setStrokeStyle(c.color),a.setFillStyle(c.color),a.beginPath(),a.moveTo(l,f),a.lineTo(d,f),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(d,f),a.arc(d,f,2*e.pix,0,2*Math.PI),a.closePath(),a.fill(),a.beginPath(),a.setFontSize(p),a.setFillStyle(c.textColor||e.fontColor),a.fillText(h,d+5,f+p/2-2),a.closePath(),a.stroke(),a.closePath()),"left"==n&&(l=o==t.length-1?(c.funnelArea[0]+s.x)/2:(c.funnelArea[0]+t[o+1].funnelArea[0])/2,d=l-2*r,f=c.funnelArea[1]+i/2,p=c.textSize*e.pix||e.fontSize*e.pix,a.setLineWidth(1*e.pix),a.setStrokeStyle(c.color),a.setFillStyle(c.color),a.beginPath(),a.moveTo(l,f),a.lineTo(d,f),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(d,f),a.arc(d,f,2,0,2*Math.PI),a.closePath(),a.fill(),a.beginPath(),a.setFontSize(p),a.setFillStyle(c.textColor||e.fontColor),a.fillText(h,d-5-y(h,p,a),f+p/2-2),a.closePath(),a.stroke(),a.closePath())}}}function Ft(t,e,a,i,n,r,s){for(var o=0;o<t.length;o++){var u=t[o],c=void 0,l=void 0;u.centerText&&(c=u.funnelArea[1]+i/2,l=u.centerTextSize*e.pix||e.fontSize*e.pix,a.beginPath(),a.setFontSize(l),a.setFillStyle(u.centerTextColor||"#FFFFFF"),a.fillText(u.centerText,s.x-y(u.centerText,l,a)/2,c+l/2-2),a.closePath(),a.stroke(),a.closePath())}}function Lt(t,e){e.save(),e.translate(0,.5),e.restore(),e.draw()}var Et={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function qt(t){this.isStop=!1,t.duration="undefined"===typeof t.duration?1e3:t.duration,t.timing=t.timing||"easeInOut";var e=function(){return"undefined"!==typeof setTimeout?function(t,e){setTimeout((function(){var e=+new Date;t(e)}),e)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(t){t(null)}}(),a=null,i=function(n){if(null===n||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===a&&(a=n),n-a<t.duration){var r=(n-a)/t.duration,s=Et[t.timing];r=s(r),t.onProcess&&t.onProcess(r),e(i,17)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};i=i.bind(this),e(i,17)}function Rt(t,e,a,i){var r=this,s=this,l=e.series;"pie"!==t&&"ring"!==t&&"mount"!==t&&"rose"!==t&&"funnel"!==t||(l=function(t,e,a){var i=[];if(t.length>0&&t[0].data.constructor.toString().indexOf("Array")>-1){e._pieSeries_=t;for(var n=t[0].data,r=0;r<n.length;r++)n[r].formatter=t[0].formatter,n[r].data=n[r].value,i.push(n[r]);e.series=i}else i=t;return i}(l,e));var d=e.categories;if("mount"===t){d=[];for(var f=0;f<l.length;f++)!1!==l[f].show&&d.push(l[f].name);e.categories=d}l=_(l,e,a);var m=e.animation?e.duration:0;s.animationInstance&&s.animationInstance.stop();var v=null;if("candle"==t){var x=o({},e.extra.candle.average);x.show?(v=function(t,e,a,i){for(var n=[],r=0;r<t.length;r++){for(var s={data:[],name:e[r],color:a[r]},o=0,u=i.length;o<u;o++)if(o<t[r])s.data.push(null);else{for(var c=0,l=0;l<t[r];l++)c+=i[o-l][1];s.data.push(+(c/t[r]).toFixed(3))}n.push(s)}return n}(x.day,x.name,x.color,l[0].data),v=_(v,e,a),e.seriesMA=v):v=e.seriesMA?e.seriesMA=_(e.seriesMA,e,a):l}else v=l;e._series_=l=O(l),e.area=new Array(4);for(var w=0;w<4;w++)e.area[w]=e.padding[w]*e.pix;var C=function(t,e,a,i,n){var r={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===e.legend.show)return i.legendData=r,r;var s=e.legend.padding*e.pix,o=e.legend.margin*e.pix,u=e.legend.fontSize?e.legend.fontSize*e.pix:a.fontSize,c=15*e.pix,l=5*e.pix,d=Math.max(e.legend.lineHeight*e.pix,u);if("top"==e.legend.position||"bottom"==e.legend.position){for(var f=[],p=0,h=[],m=[],_=0;_<t.length;_++){var g=t[_],v=g.legendText?g.legendText:g.name,b=c+l+y(v||"undefined",u,n)+e.legend.itemGap*e.pix;p+b>e.width-e.area[1]-e.area[3]?(f.push(m),h.push(p-e.legend.itemGap*e.pix),p=b,m=[g]):(p+=b,m.push(g))}if(m.length){f.push(m),h.push(p-e.legend.itemGap*e.pix),r.widthArr=h;var x=Math.max.apply(null,h);switch(e.legend.float){case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+x+2*s;break;case"right":r.area.start.x=e.width-e.area[1]-x-2*s,r.area.end.x=e.width-e.area[1];break;default:r.area.start.x=(e.width-x)/2-s,r.area.end.x=(e.width+x)/2+s}r.area.width=x+2*s,r.area.wholeWidth=x+2*s,r.area.height=f.length*d+2*s,r.area.wholeHeight=f.length*d+2*s+2*o,r.points=f}}else{var w=t.length,C=e.height-e.area[0]-e.area[2]-2*o-2*s,$=Math.min(Math.floor(C/d),w);switch(r.area.height=$*d+2*s,r.area.wholeHeight=$*d+2*s,e.legend.float){case"top":r.area.start.y=e.area[0]+o,r.area.end.y=e.area[0]+o+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-o-r.area.height,r.area.end.y=e.height-e.area[2]-o;break;default:r.area.start.y=(e.height-r.area.height)/2,r.area.end.y=(e.height+r.area.height)/2}for(var k=w%$===0?w/$:Math.floor(w/$+1),D=[],S=0;S<k;S++){var T=t.slice(S*$,S*$+$);D.push(T)}if(r.points=D,D.length){for(var O=0;O<D.length;O++){for(var P=D[O],M=0,A=0;A<P.length;A++){var I=c+l+y(P[A].name||"undefined",u,n)+e.legend.itemGap*e.pix;I>M&&(M=I)}r.widthArr.push(M),r.heightArr.push(P.length*d+2*s)}for(var j=0,F=0;F<r.widthArr.length;F++)j+=r.widthArr[F];r.area.width=j-e.legend.itemGap*e.pix+2*s,r.area.wholeWidth=r.area.width+s}}switch(e.legend.position){case"top":r.area.start.y=e.area[0]+o,r.area.end.y=e.area[0]+o+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-r.area.height-o,r.area.end.y=e.height-e.area[2]-o;break;case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+r.area.width;break;case"right":r.area.start.x=e.width-e.area[1]-r.area.width,r.area.end.x=e.width-e.area[1];break}return i.legendData=r,r}(v,e,a,e.chartData,i),D=C.area.wholeHeight,S=C.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=D;break;case"bottom":e.area[2]+=D;break;case"left":e.area[3]+=S;break;case"right":e.area[1]+=S;break}var T={},P=0;if("line"===e.type||"column"===e.type||"mount"===e.type||"area"===e.type||"mix"===e.type||"candle"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){if(T=nt(l,e,a,i),P=T.yAxisWidth,e.yAxis.showTitle){for(var M=0,it=0;it<e.yAxis.data.length;it++)M=Math.max(M,e.yAxis.data[it].titleFontSize?e.yAxis.data[it].titleFontSize*e.pix:a.fontSize);e.area[0]+=M}for(var gt=0,bt=0,Ot=0;Ot<P.length;Ot++)"left"==P[Ot].position?(e.area[3]+=bt>0?P[Ot].width+e.yAxis.padding*e.pix:P[Ot].width,bt+=1):"right"==P[Ot].position&&(e.area[1]+=gt>0?P[Ot].width+e.yAxis.padding*e.pix:P[Ot].width,gt+=1)}else a.yAxisWidth=P;if(e.chartData.yAxisData=T,e.categories&&e.categories.length&&"radar"!==e.type&&"gauge"!==e.type&&"bar"!==e.type){e.chartData.xAxisData=Q(e.categories,e);var Pt=I(e.categories,e,0,e.chartData.xAxisData.eachSpacing,i),Mt=Pt.xAxisHeight,At=Pt.angle;a.xAxisHeight=Mt,a._xAxisTextAngle_=At,e.area[2]+=Mt,e.chartData.categoriesData=Pt}else if("line"===e.type||"area"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){e.chartData.xAxisData=j(l,e,a,i),d=e.chartData.xAxisData.rangesFormat;var Et=I(d,e,0,e.chartData.xAxisData.eachSpacing,i),Rt=Et.xAxisHeight,Nt=Et.angle;a.xAxisHeight=Rt,a._xAxisTextAngle_=Nt,e.area[2]+=Rt,e.chartData.categoriesData=Et}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&"right"==e.xAxis.scrollAlign&&void 0===e._scrollDistance_){var Bt,zt=e.chartData.xAxisData.xAxisPoints,Wt=e.chartData.xAxisData.startX,Ut=e.chartData.xAxisData.endX,Vt=e.chartData.xAxisData.eachSpacing,Ht=Vt*(zt.length-1),Gt=Ut-Wt;Bt=Gt-Ht,s.scrollOption.currentOffset=Bt,s.scrollOption.startTouchX=Bt,s.scrollOption.distance=0,s.scrollOption.lastMoveTime=0,e._scrollDistance_=Bt}switch("pie"!==t&&"ring"!==t&&"rose"!==t||(a._pieTextMaxLength_=!1===e.dataLabel?0:function(t,e,a,i){t=L(t);for(var n=0,r=0;r<t.length;r++){var s=t[r],o=s.formatter?s.formatter(+s._proportion_.toFixed(2)):u.toFixed(100*s._proportion_)+"%";n=Math.max(n,y(o,s.textSize*i.pix||e.fontSize,a))}return n}(v,a,i,e)),t){case"word":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"normal",autoColors:!0},e.extra.word);e.chartData.wordCloudData||(e.chartData.wordCloudData=It(e,r.type,i)),i.beginPath(),i.setFillStyle(e.background),i.rect(0,0,e.width,e.height),i.fill(),i.save();var s=e.chartData.wordCloudData;i.translate(e.width/2,e.height/2);for(var u=0;u<s.length;u++){i.save(),s[u].rotate&&i.rotate(90*Math.PI/180);var c=s[u].name,l=s[u].textSize*e.pix,d=y(c,l,i);i.beginPath(),i.setStrokeStyle(s[u].color),i.setFillStyle(s[u].color),i.setFontSize(l),s[u].rotate?s[u].areav[0]>0&&(e.tooltip&&e.tooltip.index==u?i.strokeText(c,(s[u].areav[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].areav[1]+5+l-e.height/2)*n):i.fillText(c,(s[u].areav[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].areav[1]+5+l-e.height/2)*n)):s[u].area[0]>0&&(e.tooltip&&e.tooltip.index==u?i.strokeText(c,(s[u].area[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].area[1]+5+l-e.height/2)*n):i.fillText(c,(s[u].area[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].area[1]+5+l-e.height/2)*n)),i.stroke(),i.restore()}i.restore()}(l,e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"map":i.clearRect(0,0,e.width,e.height),function(t,e,a,i){var n,r,s=o({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),u=t,l=function(t){for(var e,a={xMin:180,xMax:0,yMin:90,yMax:0},i=0;i<t.length;i++)for(var n=t[i].geometry.coordinates,r=0;r<n.length;r++){e=n[r],1==e.length&&(e=e[0]);for(var s=0;s<e.length;s++){var o=e[s][0],u=e[s][1],c={x:o,y:u};a.xMin=a.xMin<c.x?a.xMin:c.x,a.xMax=a.xMax>c.x?a.xMax:c.x,a.yMin=a.yMin<c.y?a.yMin:c.y,a.yMax=a.yMax>c.y?a.yMax:c.y}}return a}(u);if(s.mercator){var d=St(l.xMax,l.yMax),f=St(l.xMin,l.yMin);l.xMax=d[0],l.yMax=d[1],l.xMin=f[0],l.yMin=f[1]}for(var p=e.width/Math.abs(l.xMax-l.xMin),h=e.height/Math.abs(l.yMax-l.yMin),m=p<h?p:h,_=e.width/2-Math.abs(l.xMax-l.xMin)/2*m,g=e.height/2-Math.abs(l.yMax-l.yMin)/2*m,v=0;v<u.length;v++){i.beginPath(),i.setLineWidth(s.borderWidth*e.pix),i.setStrokeStyle(s.borderColor),i.setFillStyle(c(t[v].color,t[v].fillOpacity||s.fillOpacity)),1==s.active&&e.tooltip&&e.tooltip.index==v&&(i.setStrokeStyle(s.activeBorderColor),i.setFillStyle(c(s.activeFillColor,s.activeFillOpacity)));for(var b=u[v].geometry.coordinates,x=0;x<b.length;x++){n=b[x],1==n.length&&(n=n[0]);for(var w=0;w<n.length;w++){var C=Array(2);C=s.mercator?St(n[w][0],n[w][1]):n[w],r=Tt(C[1],C[0],l,m,_,g),0===w?(i.beginPath(),i.moveTo(r.x,r.y)):i.lineTo(r.x,r.y)}i.fill(),1==s.border&&i.stroke()}}if(1==e.dataLabel)for(v=0;v<u.length;v++){var $=u[v].properties.centroid;if($){s.mercator&&($=St(u[v].properties.centroid[0],u[v].properties.centroid[1])),r=Tt($[1],$[0],l,m,_,g);var k=u[v].textSize*e.pix||a.fontSize,D=u[v].textColor||e.fontColor;s.active&&s.activeTextColor&&e.tooltip&&e.tooltip.index==v&&(D=s.activeTextColor);var S=u[v].properties.name;i.beginPath(),i.setFontSize(k),i.setFillStyle(D),i.fillText(S,r.x-y(S,k,i)/2,r.y+k/2),i.closePath(),i.stroke()}}e.chartData.mapData={bounds:l,scale:m,xoffset:_,yoffset:g,mercator:s.mercator},xt(e,a,i,1),i.draw()}(l,e,a,i),setTimeout((function(){r.uevent.trigger("renderComplete")}),50);break;case"funnel":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.funnelData=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},e.extra.funnel),s=(e.height-e.area[0]-e.area[2])/t.length,u={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},l=r.activeWidth*e.pix,d=Math.min((e.width-e.area[1]-e.area[3])/2-l,(e.height-e.area[0]-e.area[2])/2-l),f=E(t,d,r,s,n);if(i.save(),i.translate(u.x,u.y),r.customColor=g(r.linearType,r.customColor,t,a),"pyramid"==r.type)for(var p=0;p<f.length;p++){if(p==f.length-1){e.tooltip&&e.tooltip.index==p&&(i.beginPath(),i.setFillStyle(c(f[p].color,r.activeOpacity)),i.moveTo(-l,-s),i.lineTo(-f[p].radius-l,0),i.lineTo(f[p].radius+l,0),i.lineTo(l,-s),i.lineTo(-l,-s),i.closePath(),i.fill()),f[p].funnelArea=[u.x-f[p].radius,u.y-s*(p+1),u.x+f[p].radius,u.y-s*p],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);var h=c(f[p].color,r.fillOpacity);if("custom"==r.linearType){var m=i.createLinearGradient(f[p].radius,-s,-f[p].radius,-s);m.addColorStop(0,c(f[p].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[p].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[p].color,r.fillOpacity)),h=m}i.setFillStyle(h),i.moveTo(0,-s),i.lineTo(-f[p].radius,0),i.lineTo(f[p].radius,0),i.lineTo(0,-s),i.closePath(),i.fill(),1==r.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==p&&(i.beginPath(),i.setFillStyle(c(f[p].color,r.activeOpacity)),i.moveTo(0,0),i.lineTo(-f[p].radius-l,0),i.lineTo(-f[p+1].radius-l,-s),i.lineTo(f[p+1].radius+l,-s),i.lineTo(f[p].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),f[p].funnelArea=[u.x-f[p].radius,u.y-s*(p+1),u.x+f[p].radius,u.y-s*p],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=c(f[p].color,r.fillOpacity);if("custom"==r.linearType){m=i.createLinearGradient(f[p].radius,-s,-f[p].radius,-s);m.addColorStop(0,c(f[p].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[p].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[p].color,r.fillOpacity)),h=m}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-f[p].radius,0),i.lineTo(-f[p+1].radius,-s),i.lineTo(f[p+1].radius,-s),i.lineTo(f[p].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}i.translate(0,-s)}else{i.translate(0,-(f.length-1)*s);for(var _=0;_<f.length;_++){if(_==f.length-1){e.tooltip&&e.tooltip.index==_&&(i.beginPath(),i.setFillStyle(c(f[_].color,r.activeOpacity)),i.moveTo(-l-r.minSize/2,0),i.lineTo(-f[_].radius-l,-s),i.lineTo(f[_].radius+l,-s),i.lineTo(l+r.minSize/2,0),i.lineTo(-l-r.minSize/2,0),i.closePath(),i.fill()),f[_].funnelArea=[u.x-f[_].radius,u.y-s,u.x+f[_].radius,u.y],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=c(f[_].color,r.fillOpacity);if("custom"==r.linearType){m=i.createLinearGradient(f[_].radius,-s,-f[_].radius,-s);m.addColorStop(0,c(f[_].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[_].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[_].color,r.fillOpacity)),h=m}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-r.minSize/2,0),i.lineTo(-f[_].radius,-s),i.lineTo(f[_].radius,-s),i.lineTo(r.minSize/2,0),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==_&&(i.beginPath(),i.setFillStyle(c(f[_].color,r.activeOpacity)),i.moveTo(0,0),i.lineTo(-f[_+1].radius-l,0),i.lineTo(-f[_].radius-l,-s),i.lineTo(f[_].radius+l,-s),i.lineTo(f[_+1].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),f[_].funnelArea=[u.x-f[_].radius,u.y-s*(f.length-_),u.x+f[_].radius,u.y-s*(f.length-_-1)],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=c(f[_].color,r.fillOpacity);if("custom"==r.linearType){m=i.createLinearGradient(f[_].radius,-s,-f[_].radius,-s);m.addColorStop(0,c(f[_].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[_].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[_].color,r.fillOpacity)),h=m}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-f[_+1].radius,0),i.lineTo(-f[_].radius,-s),i.lineTo(f[_].radius,-s),i.lineTo(f[_+1].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}i.translate(0,s)}}return i.restore(),!1!==e.dataLabel&&1===n&&jt(f,e,i,s,r.labelAlign,l,u),1===n&&Ft(f,e,i,s,r.labelAlign,l,u),{center:u,radius:d,series:f}}(l,e,a,i,t),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var n=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},e.extra.line);r.width*=e.pix;var s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=[];i.save();var f=0,h=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),f=-e._scrollDistance_-2*l+e.area[3],h=f+(e.xAxis.itemCount+4)*l),t.forEach((function(t,s){var o,m,_;i.beginPath(),i.setStrokeStyle(t.color),i.moveTo(-1e4,-1e4),i.lineTo(-10001,-10001),i.stroke(),o=[].concat(e.chartData.yAxisData.ranges[t.index]),m=o.pop(),_=o.shift();var g=t.data,v=K(g,m,_,u,l,e,a,r,n);d.push(v);var y=A(v,t);if("dash"==t.lineType){var b=t.dashLength?t.dashLength:8;b*=e.pix,i.setLineDash([b,b])}i.beginPath();var x=t.color;if("none"!==r.linearType&&t.linearColor&&t.linearColor.length>0){for(var w=i.createLinearGradient(e.chartData.xAxisData.startX,e.height/2,e.chartData.xAxisData.endX,e.height/2),C=0;C<t.linearColor.length;C++)w.addColorStop(t.linearColor[C][0],c(t.linearColor[C][1],1));x=w}i.setStrokeStyle(x),1==r.onShadow&&t.setShadow&&t.setShadow.length>0?i.setShadow(t.setShadow[0],t.setShadow[1],t.setShadow[2],t.setShadow[3]):i.setShadow(0,0,0,"rgba(0,0,0,0)"),i.setLineWidth(r.width),y.forEach((function(t,e){if(1===t.length)i.moveTo(t[0].x,t[0].y);else{i.moveTo(t[0].x,t[0].y);var a=0;if("curve"===r.type)for(var n=0;n<t.length;n++){var s=t[n];if(0==a&&s.x>f&&(i.moveTo(s.x,s.y),a=1),n>0&&s.x>f&&s.x<h){var o=p(t,n-1);i.bezierCurveTo(o.ctrA.x,o.ctrA.y,o.ctrB.x,o.ctrB.y,s.x,s.y)}}if("straight"===r.type)for(var u=0;u<t.length;u++){var c=t[u];0==a&&c.x>f&&(i.moveTo(c.x,c.y),a=1),u>0&&c.x>f&&c.x<h&&i.lineTo(c.x,c.y)}if("step"===r.type)for(var l=0;l<t.length;l++){var d=t[l];0==a&&d.x>f&&(i.moveTo(d.x,d.y),a=1),l>0&&d.x>f&&d.x<h&&(i.lineTo(d.x,t[l-1].y),i.lineTo(d.x,d.y))}i.moveTo(t[0].x,t[0].y)}})),i.stroke(),i.setLineDash([]),!1!==e.dataPointShape&&st(v,t.color,t.pointShape,i,e),ot(v,t.color,t.pointShape,i,e,r)})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,a,n);ct(f,t,a,i,e)})),i.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:l}}(l,e,a,i,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var n=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=(o({},{type:"circle"},e.extra.scatter),e.chartData.xAxisData),s=r.xAxisPoints,u=r.eachSpacing,c=[];i.save();return e.width,e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),-e._scrollDistance_-2*u+e.area[3],e.xAxis.itemCount),t.forEach((function(t,r){var o,c,l;o=[].concat(e.chartData.yAxisData.ranges[t.index]),c=o.pop(),l=o.shift();var d=t.data,f=Y(d,c,l,s,u,e,a,n);i.beginPath(),i.setStrokeStyle(t.color),i.setFillStyle(t.color),i.setLineWidth(1*e.pix);var p=t.pointShape;if("diamond"===p)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===p)f.forEach((function(t,a){null!==t&&(i.moveTo(t.x+2.5*e.pix,t.y),i.arc(t.x,t.y,3*e.pix,0,2*Math.PI,!1))}));else if("square"===p)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===p)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("triangle"===p)return;i.closePath(),i.fill(),i.stroke()})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var o,c,l;o=[].concat(e.chartData.yAxisData.ranges[t.index]),c=o.pop(),l=o.shift();var d=t.data,f=Y(d,c,l,s,u,e,a,n);ct(f,t,a,i,e)})),i.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:u}}(l,e,a,i,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var n=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{opacity:1,border:2},e.extra.bubble),s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=[];i.save();return e.width,e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),-e._scrollDistance_-2*l+e.area[3],e.xAxis.itemCount),t.forEach((function(t,s){var o,d,f;o=[].concat(e.chartData.yAxisData.ranges[t.index]),d=o.pop(),f=o.shift();var p=t.data,h=Y(p,d,f,u,l,e,a,n);i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(r.border*e.pix),i.setFillStyle(c(t.color,r.opacity)),h.forEach((function(t,a){i.moveTo(t.x+t.r,t.y),i.arc(t.x,t.y,t.r*e.pix,0,2*Math.PI,!1)})),i.closePath(),i.fill(),i.stroke(),!1!==e.dataLabel&&1===n&&h.forEach((function(n,r){i.beginPath();var s=t.textSize*e.pix||a.fontSize;i.setFontSize(s),i.setFillStyle(t.textColor||"#FFFFFF"),i.setTextAlign("center"),i.fillText(String(n.t),n.x,n.y+s/2),i.closePath(),i.stroke(),i.setTextAlign("left")}))})),i.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:l}}(l,e,a,i,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var r=function(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{width:l/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mix.column),f=o({},{opacity:.2,gradient:!1},e.extra.mix.area),h=o({},{width:2},e.extra.mix.line),m=e.height-e.area[2],_=[],v=0,y=0;t.forEach((function(t,e){"column"==t.type&&(y+=1)})),i.save();var b=-2,x=u.length+2,w=0,C=e.width+l;if(e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),b=Math.floor(-e._scrollDistance_/l)-2,x=b+e.xAxis.itemCount+4,w=-e._scrollDistance_-2*l+e.area[3],C=w+(e.xAxis.itemCount+4)*l),d.customColor=g(d.linearType,d.customColor,t,a),t.forEach((function(t,s){var o,g,$;o=[].concat(e.chartData.yAxisData.ranges[t.index]),g=o.pop(),$=o.shift();var k=t.data,D=Y(k,g,$,u,l,e,a,r);if(_.push(D),"column"==t.type){D=W(D,l,y,v,0,e);for(var S=0;S<D.length;S++){var T=D[S];if(null!==T&&S>b&&S<x){var O=T.x-T.width/2;e.height,T.y,e.area[2];i.beginPath();var P=T.color||t.color,M=T.color||t.color;if("none"!==d.linearType){var I=i.createLinearGradient(O,T.y,O,e.height-e.area[2]);"opacity"==d.linearType?(I.addColorStop(0,c(P,d.linearOpacity)),I.addColorStop(1,c(P,1))):(I.addColorStop(0,c(d.customColor[t.linearIndex],d.linearOpacity)),I.addColorStop(d.colorStop,c(d.customColor[t.linearIndex],d.linearOpacity)),I.addColorStop(1,c(P,1))),P=I}if(d.barBorderRadius&&4===d.barBorderRadius.length||d.barBorderCircle){var j=O,F=T.y,L=T.width,E=e.height-e.area[2]-T.y;d.barBorderCircle&&(d.barBorderRadius=[L/2,L/2,0,0]);var q=(0,n.default)(d.barBorderRadius,4),R=q[0],N=q[1],B=q[2],z=q[3],U=Math.min(L/2,E/2);R=R>U?U:R,N=N>U?U:N,B=B>U?U:B,z=z>U?U:z,R=R<0?0:R,N=N<0?0:N,B=B<0?0:B,z=z<0?0:z,i.arc(j+R,F+R,R,-Math.PI,-Math.PI/2),i.arc(j+L-N,F+N,N,-Math.PI/2,0),i.arc(j+L-B,F+E-B,B,0,Math.PI/2),i.arc(j+z,F+E-z,z,Math.PI/2,Math.PI)}else i.moveTo(O,T.y),i.lineTo(O+T.width,T.y),i.lineTo(O+T.width,e.height-e.area[2]),i.lineTo(O,e.height-e.area[2]),i.lineTo(O,T.y),i.setLineWidth(1),i.setStrokeStyle(M);i.setFillStyle(P),i.closePath(),i.fill()}}v+=1}if("area"==t.type)for(var V=A(D,t),H=0;H<V.length;H++){var G=V[H];if(i.beginPath(),i.setStrokeStyle(t.color),i.setStrokeStyle(c(t.color,f.opacity)),f.gradient){var Q=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);Q.addColorStop("0",c(t.color,f.opacity)),Q.addColorStop("1.0",c("#FFFFFF",.1)),i.setFillStyle(Q)}else i.setFillStyle(c(t.color,f.opacity));if(i.setLineWidth(2*e.pix),G.length>1){var J=G[0],K=G[G.length-1];i.moveTo(J.x,J.y);var X=0;if("curve"===t.style)for(var Z=0;Z<G.length;Z++){var tt=G[Z];if(0==X&&tt.x>w&&(i.moveTo(tt.x,tt.y),X=1),Z>0&&tt.x>w&&tt.x<C){var et=p(G,Z-1);i.bezierCurveTo(et.ctrA.x,et.ctrA.y,et.ctrB.x,et.ctrB.y,tt.x,tt.y)}}else for(var at=0;at<G.length;at++){var it=G[at];0==X&&it.x>w&&(i.moveTo(it.x,it.y),X=1),at>0&&it.x>w&&it.x<C&&i.lineTo(it.x,it.y)}i.lineTo(K.x,m),i.lineTo(J.x,m),i.lineTo(J.x,J.y)}else{var nt=G[0];i.moveTo(nt.x-l/2,nt.y)}i.closePath(),i.fill()}if("line"==t.type){var rt=A(D,t);rt.forEach((function(a,n){if("dash"==t.lineType){var r=t.dashLength?t.dashLength:8;r*=e.pix,i.setLineDash([r,r])}if(i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(h.width*e.pix),1===a.length)i.moveTo(a[0].x,a[0].y);else{i.moveTo(a[0].x,a[0].y);var s=0;if("curve"==t.style)for(var o=0;o<a.length;o++){var u=a[o];if(0==s&&u.x>w&&(i.moveTo(u.x,u.y),s=1),o>0&&u.x>w&&u.x<C){var c=p(a,o-1);i.bezierCurveTo(c.ctrA.x,c.ctrA.y,c.ctrB.x,c.ctrB.y,u.x,u.y)}}else for(var l=0;l<a.length;l++){var d=a[l];0==s&&d.x>w&&(i.moveTo(d.x,d.y),s=1),l>0&&d.x>w&&d.x<C&&i.lineTo(d.x,d.y)}i.moveTo(a[0].x,a[0].y)}i.stroke(),i.setLineDash([])}))}"point"==t.type&&(t.addPoint=!0),1==t.addPoint&&"column"!==t.type&&st(D,t.color,t.pointShape,i,e)})),!1!==e.dataLabel&&1===r){v=0;t.forEach((function(t,n){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,a,r);"column"!==t.type?ct(f,t,a,i,e):(f=W(f,l,y,v,0,e),ct(f,t,a,i,e),v+=1)}))}return i.restore(),{xAxisPoints:u,calPoints:_,eachSpacing:l}}(l,e,a,i,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var r=function(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{type:"group",width:l/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},e.extra.column),f=[];i.save();var p=-2,h=u.length+2;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),p=Math.floor(-e._scrollDistance_/l)-2,h=p+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&vt(e.tooltip.offset.x,e,0,i,l),d.customColor=g(d.linearType,d.customColor,t,a),t.forEach((function(s,o){var m,_,g;m=[].concat(e.chartData.yAxisData.ranges[s.index]),_=m.pop(),g=m.shift();var v=e.height-e.area[0]-e.area[2],y=v*(0-_)/(g-_),b=e.height-Math.round(y)-e.area[2];s.zeroPoints=b;var x=s.data;switch(d.type){case"group":var w=X(x,_,g,u,l,e,a,b,r),C=et(x,_,g,u,l,e,a,o,t,r);f.push(C),w=W(w,l,t.length,o,0,e);for(var $=0;$<w.length;$++){var k=w[$];if(null!==k&&$>p&&$<h){var D=k.x-k.width/2,S=e.height-k.y-e.area[2];i.beginPath();var T=k.color||s.color,O=k.color||s.color;if("none"!==d.linearType){var P=i.createLinearGradient(D,k.y,D,b);"opacity"==d.linearType?(P.addColorStop(0,c(T,d.linearOpacity)),P.addColorStop(1,c(T,1))):(P.addColorStop(0,c(d.customColor[s.linearIndex],d.linearOpacity)),P.addColorStop(d.colorStop,c(d.customColor[s.linearIndex],d.linearOpacity)),P.addColorStop(1,c(T,1))),T=P}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var M=D,A=k.y>b?b:k.y,I=k.width,j=Math.abs(b-k.y);d.barBorderCircle&&(d.barBorderRadius=[I/2,I/2,0,0]),k.y>b&&(d.barBorderRadius=[0,0,I/2,I/2]);var F=(0,n.default)(d.barBorderRadius,4),L=F[0],E=F[1],q=F[2],R=F[3],N=Math.min(I/2,j/2);L=L>N?N:L,E=E>N?N:E,q=q>N?N:q,R=R>N?N:R,L=L<0?0:L,E=E<0?0:E,q=q<0?0:q,R=R<0?0:R,i.arc(M+L,A+L,L,-Math.PI,-Math.PI/2),i.arc(M+I-E,A+E,E,-Math.PI/2,0),i.arc(M+I-q,A+j-q,q,0,Math.PI/2),i.arc(M+R,A+j-R,R,Math.PI/2,Math.PI)}else i.moveTo(D,k.y),i.lineTo(D+k.width,k.y),i.lineTo(D+k.width,b),i.lineTo(D,b),i.lineTo(D,k.y),i.setLineWidth(1),i.setStrokeStyle(O);i.setFillStyle(T),i.closePath(),i.fill()}}break;case"stack":w=et(x,_,g,u,l,e,a,o,t,r);f.push(w),w=H(w,l,t.length,0,0,e);for(var B=0;B<w.length;B++){var z=w[B];if(null!==z&&B>p&&B<h){i.beginPath();T=z.color||s.color,D=z.x-z.width/2+1,S=e.height-z.y-e.area[2];var U=e.height-z.y0-e.area[2];o>0&&(S-=U),i.setFillStyle(T),i.moveTo(D,z.y),i.fillRect(D,z.y,z.width,S),i.closePath(),i.fill()}}break;case"meter":w=Y(x,_,g,u,l,e,a,r);f.push(w),w=V(w,l,t.length,o,0,e,d.meterBorder);for(var G=0;G<w.length;G++){var Q=w[G];if(null!==Q&&G>p&&G<h){i.beginPath(),0==o&&d.meterBorder>0&&(i.setStrokeStyle(s.color),i.setLineWidth(d.meterBorder*e.pix)),0==o?i.setFillStyle(d.meterFillColor):i.setFillStyle(Q.color||s.color);D=Q.x-Q.width/2,S=e.height-Q.y-e.area[2];if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var J=D,K=Q.y,Z=Q.width,tt=b-Q.y;d.barBorderCircle&&(d.barBorderRadius=[Z/2,Z/2,0,0]);var at=(0,n.default)(d.barBorderRadius,4),it=at[0],nt=at[1],rt=at[2],st=at[3],ot=Math.min(Z/2,tt/2);it=it>ot?ot:it,nt=nt>ot?ot:nt,rt=rt>ot?ot:rt,st=st>ot?ot:st,it=it<0?0:it,nt=nt<0?0:nt,rt=rt<0?0:rt,st=st<0?0:st,i.arc(J+it,K+it,it,-Math.PI,-Math.PI/2),i.arc(J+Z-nt,K+nt,nt,-Math.PI/2,0),i.arc(J+Z-rt,K+tt-rt,rt,0,Math.PI/2),i.arc(J+st,K+tt-st,st,Math.PI/2,Math.PI),i.fill()}else i.moveTo(D,Q.y),i.lineTo(D+Q.width,Q.y),i.lineTo(D+Q.width,b),i.lineTo(D,b),i.lineTo(D,Q.y),i.fill();0==o&&d.meterBorder>0&&(i.closePath(),i.stroke())}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,s){var o,c,f;o=[].concat(e.chartData.yAxisData.ranges[n.index]),c=o.pop(),f=o.shift();var p=n.data;switch(d.type){case"group":var h=X(p,c,f,u,l,e,a,r);h=W(h,l,t.length,s,0,e),lt(h,n,a,i,e);break;case"stack":h=et(p,c,f,u,l,e,a,s,t,r);lt(h,n,a,i,e);break;case"meter":h=Y(p,c,f,u,l,e,a,r);lt(h,n,a,i,e);break}})),i.restore(),{xAxisPoints:u,calPoints:f,eachSpacing:l}}(l,e,a,i,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var r=function(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mount);d.widthRatio=d.widthRatio<=0?0:d.widthRatio,d.widthRatio=d.widthRatio>=2?2:d.widthRatio,i.save();var f,p,h,m=-2,_=u.length+2;e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),m=Math.floor(-e._scrollDistance_/l)-2,_=m+e.xAxis.itemCount+4),d.customColor=g(d.linearType,d.customColor,t,a),f=[].concat(e.chartData.yAxisData.ranges[0]),p=f.pop(),h=f.shift();var v=e.height-e.area[0]-e.area[2],y=v*(0-p)/(h-p),b=e.height-Math.round(y)-e.area[2],x=Z(t,p,h,u,l,e,d,b,r);switch(d.type){case"bar":for(var w=0;w<x.length;w++){var C=x[w];if(null!==C&&w>m&&w<_){var $=C.x-l*d.widthRatio/2,k=e.height-C.y-e.area[2];i.beginPath();var D=C.color||t[w].color,S=C.color||t[w].color;if("none"!==d.linearType){var T=i.createLinearGradient($,C.y,$,b);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[w].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[w].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var O=$,P=C.y>b?b:C.y,M=C.width,A=Math.abs(b-C.y);d.barBorderCircle&&(d.barBorderRadius=[M/2,M/2,0,0]),C.y>b&&(d.barBorderRadius=[0,0,M/2,M/2]);var I=(0,n.default)(d.barBorderRadius,4),j=I[0],F=I[1],L=I[2],E=I[3],q=Math.min(M/2,A/2);j=j>q?q:j,F=F>q?q:F,L=L>q?q:L,E=E>q?q:E,j=j<0?0:j,F=F<0?0:F,L=L<0?0:L,E=E<0?0:E,i.arc(O+j,P+j,j,-Math.PI,-Math.PI/2),i.arc(O+M-F,P+F,F,-Math.PI/2,0),i.arc(O+M-L,P+A-L,L,0,Math.PI/2),i.arc(O+E,P+A-E,E,Math.PI/2,Math.PI)}else i.moveTo($,C.y),i.lineTo($+C.width,C.y),i.lineTo($+C.width,b),i.lineTo($,b),i.lineTo($,C.y);i.setStrokeStyle(S),i.setFillStyle(D),d.borderWidth>0&&(i.setLineWidth(d.borderWidth*e.pix),i.closePath(),i.stroke()),i.fill()}}break;case"triangle":for(var R=0;R<x.length;R++){var N=x[R];if(null!==N&&R>m&&R<_){$=N.x-l*d.widthRatio/2,k=e.height-N.y-e.area[2];i.beginPath();D=N.color||t[R].color,S=N.color||t[R].color;if("none"!==d.linearType){T=i.createLinearGradient($,N.y,$,b);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[R].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[R].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}i.moveTo($,b),i.lineTo(N.x,N.y),i.lineTo($+N.width,b),i.setStrokeStyle(S),i.setFillStyle(D),d.borderWidth>0&&(i.setLineWidth(d.borderWidth*e.pix),i.stroke()),i.fill()}}break;case"mount":for(var B=0;B<x.length;B++){var z=x[B];if(null!==z&&B>m&&B<_){$=z.x-l*d.widthRatio/2,k=e.height-z.y-e.area[2];i.beginPath();D=z.color||t[B].color,S=z.color||t[B].color;if("none"!==d.linearType){T=i.createLinearGradient($,z.y,$,b);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[B].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[B].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}i.moveTo($,b),i.bezierCurveTo(z.x-z.width/4,b,z.x-z.width/4,z.y,z.x,z.y),i.bezierCurveTo(z.x+z.width/4,z.y,z.x+z.width/4,b,$+z.width,b),i.setStrokeStyle(S),i.setFillStyle(D),d.borderWidth>0&&(i.setLineWidth(d.borderWidth*e.pix),i.stroke()),i.fill()}}break;case"sharp":for(var W=0;W<x.length;W++){var U=x[W];if(null!==U&&W>m&&W<_){$=U.x-l*d.widthRatio/2,k=e.height-U.y-e.area[2];i.beginPath();D=U.color||t[W].color,S=U.color||t[W].color;if("none"!==d.linearType){T=i.createLinearGradient($,U.y,$,b);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[W].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[W].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}i.moveTo($,b),i.quadraticCurveTo(U.x-0,b-k/4,U.x,U.y),i.quadraticCurveTo(U.x+0,b-k/4,$+U.width,b),i.setStrokeStyle(S),i.setFillStyle(D),d.borderWidth>0&&(i.setLineWidth(d.borderWidth*e.pix),i.stroke()),i.fill()}}break}if(!1!==e.dataLabel&&1===r){var V,H,G;V=[].concat(e.chartData.yAxisData.ranges[0]),H=V.pop(),G=V.shift();x=Z(t,H,G,u,l,e,d,b,r);dt(x,t,a,i,e,b)}return i.restore(),{xAxisPoints:u,calPoints:x,eachSpacing:l}}(l,e,a,i,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),wt(d,e,a,i);var r=function(t,e,a,i){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=[],u=(e.height-e.area[0]-e.area[2])/e.categories.length,l=0;l<e.categories.length;l++)s.push(e.area[0]+u/2+u*l);var d=o({},{type:"group",width:u/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.bar),f=[];i.save();var p=-2,h=s.length+2;return e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&yt(e.tooltip.offset.y,e,0,i,u),d.customColor=g(d.linearType,d.customColor,t,a),t.forEach((function(o,l){var m,_,g;m=[].concat(e.chartData.xAxisData.ranges),g=m.pop(),_=m.shift();var v=o.data;switch(d.type){case"group":var y=tt(v,_,g,s,u,e,a,r),b=at(v,_,g,s,u,e,a,l,t,r);f.push(b),y=U(y,u,t.length,l,0,e);for(var x=0;x<y.length;x++){var w=y[x];if(null!==w&&x>p&&x<h){var C=e.area[3],$=w.y-w.width/2;w.height;i.beginPath();var k=w.color||o.color,D=w.color||o.color;if("none"!==d.linearType){var S=i.createLinearGradient(C,w.y,w.x,w.y);"opacity"==d.linearType?(S.addColorStop(0,c(k,d.linearOpacity)),S.addColorStop(1,c(k,1))):(S.addColorStop(0,c(d.customColor[o.linearIndex],d.linearOpacity)),S.addColorStop(d.colorStop,c(d.customColor[o.linearIndex],d.linearOpacity)),S.addColorStop(1,c(k,1))),k=S}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var T=C,O=w.width,P=w.y-w.width/2,M=w.height;d.barBorderCircle&&(d.barBorderRadius=[O/2,O/2,0,0]);var A=(0,n.default)(d.barBorderRadius,4),I=A[0],j=A[1],F=A[2],L=A[3],E=Math.min(O/2,M/2);I=I>E?E:I,j=j>E?E:j,F=F>E?E:F,L=L>E?E:L,I=I<0?0:I,j=j<0?0:j,F=F<0?0:F,L=L<0?0:L,i.arc(T+L,P+L,L,-Math.PI,-Math.PI/2),i.arc(w.x-I,P+I,I,-Math.PI/2,0),i.arc(w.x-j,P+O-j,j,0,Math.PI/2),i.arc(T+F,P+O-F,F,Math.PI/2,Math.PI)}else i.moveTo(C,$),i.lineTo(w.x,$),i.lineTo(w.x,$+w.width),i.lineTo(C,$+w.width),i.lineTo(C,$),i.setLineWidth(1),i.setStrokeStyle(D);i.setFillStyle(k),i.closePath(),i.fill()}}break;case"stack":y=at(v,_,g,s,u,e,a,l,t,r);f.push(y),y=G(y,u,t.length,0,0,e);for(var q=0;q<y.length;q++){var R=y[q];if(null!==R&&q>p&&q<h){i.beginPath();k=R.color||o.color,C=R.x0;i.setFillStyle(k),i.moveTo(C,R.y-R.width/2),i.fillRect(C,R.y-R.width/2,R.height,R.width),i.closePath(),i.fill()}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,o){var c,l,f;c=[].concat(e.chartData.xAxisData.ranges),f=c.pop(),l=c.shift();var p=n.data;switch(d.type){case"group":var h=tt(p,l,f,s,u,e,a,r);h=U(h,u,t.length,o,0,e),ft(h,n,a,i,e);break;case"stack":h=at(p,l,f,s,u,e,a,o,t,r);ft(h,n,a,i,e);break}})),{yAxisPoints:s,calPoints:f,eachSpacing:u}}(l,e,a,i,t),s=r.yAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.yAxisPoints=s,e.chartData.xAxisPoints=e.chartData.xAxisData.xAxisPoints,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var n=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},e.extra.area),s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=e.height-e.area[2],f=[];i.save();var h=0,m=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),h=-e._scrollDistance_-2*l+e.area[3],m=h+(e.xAxis.itemCount+4)*l),t.forEach((function(t,s){var o,_,g;o=[].concat(e.chartData.yAxisData.ranges[t.index]),_=o.pop(),g=o.shift();var v=t.data,y=Y(v,_,g,u,l,e,a,n);f.push(y);for(var b=A(y,t),x=0;x<b.length;x++){var w=b[x];if(i.beginPath(),i.setStrokeStyle(c(t.color,r.opacity)),r.gradient){var C=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);C.addColorStop("0",c(t.color,r.opacity)),C.addColorStop("1.0",c("#FFFFFF",.1)),i.setFillStyle(C)}else i.setFillStyle(c(t.color,r.opacity));if(i.setLineWidth(r.width*e.pix),w.length>1){var $=w[0],k=w[w.length-1];i.moveTo($.x,$.y);var D=0;if("curve"===r.type)for(var S=0;S<w.length;S++){var T=w[S];if(0==D&&T.x>h&&(i.moveTo(T.x,T.y),D=1),S>0&&T.x>h&&T.x<m){var O=p(w,S-1);i.bezierCurveTo(O.ctrA.x,O.ctrA.y,O.ctrB.x,O.ctrB.y,T.x,T.y)}}if("straight"===r.type)for(var P=0;P<w.length;P++){var M=w[P];0==D&&M.x>h&&(i.moveTo(M.x,M.y),D=1),P>0&&M.x>h&&M.x<m&&i.lineTo(M.x,M.y)}if("step"===r.type)for(var I=0;I<w.length;I++){var j=w[I];0==D&&j.x>h&&(i.moveTo(j.x,j.y),D=1),I>0&&j.x>h&&j.x<m&&(i.lineTo(j.x,w[I-1].y),i.lineTo(j.x,j.y))}i.lineTo(k.x,d),i.lineTo($.x,d),i.lineTo($.x,$.y)}else{var F=w[0];i.moveTo(F.x-l/2,F.y)}if(i.closePath(),i.fill(),r.addLine){if("dash"==t.lineType){var L=t.dashLength?t.dashLength:8;L*=e.pix,i.setLineDash([L,L])}if(i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(r.width*e.pix),1===w.length)i.moveTo(w[0].x,w[0].y);else{i.moveTo(w[0].x,w[0].y);var E=0;if("curve"===r.type)for(var q=0;q<w.length;q++){var R=w[q];if(0==E&&R.x>h&&(i.moveTo(R.x,R.y),E=1),q>0&&R.x>h&&R.x<m){var N=p(w,q-1);i.bezierCurveTo(N.ctrA.x,N.ctrA.y,N.ctrB.x,N.ctrB.y,R.x,R.y)}}if("straight"===r.type)for(var B=0;B<w.length;B++){var z=w[B];0==E&&z.x>h&&(i.moveTo(z.x,z.y),E=1),B>0&&z.x>h&&z.x<m&&i.lineTo(z.x,z.y)}if("step"===r.type)for(var W=0;W<w.length;W++){var U=w[W];0==E&&U.x>h&&(i.moveTo(U.x,U.y),E=1),W>0&&U.x>h&&U.x<m&&(i.lineTo(U.x,w[W-1].y),i.lineTo(U.x,U.y))}i.moveTo(w[0].x,w[0].y)}i.stroke(),i.setLineDash([])}}!1!==e.dataPointShape&&st(y,t.color,t.pointShape,i,e),ot(y,t.color,t.pointShape,i,e,r,s)})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,a,n);ct(f,t,a,i,e)})),i.restore(),{xAxisPoints:u,calPoints:f,eachSpacing:l}}(l,e,a,i,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.pieData=Dt(l,e,a,i,t),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.pieData=Dt(l,e,a,i,t),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.pieData=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},e.extra.rose);0==a.pieChartLinePadding&&(a.pieChartLinePadding=r.activeRadius*e.pix);var s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},u=Math.min((e.width-e.area[1]-e.area[3])/2-a.pieChartLinePadding-a.pieChartTextPadding-a._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-a.pieChartLinePadding-a.pieChartTextPadding);u=u<10?10:u;var l=r.minRadius||.5*u;u<l&&(u=l+10),t=q(t,r.type,l,u,n);var d=r.activeRadius*e.pix;return r.customColor=g(r.linearType,r.customColor,t,a),t=t.map((function(t){return t._start_+=(r.offsetAngle||0)*Math.PI/180,t})),t.forEach((function(t,a){e.tooltip&&e.tooltip.index==a&&(i.beginPath(),i.setFillStyle(c(t.color,r.activeOpacity||.5)),i.moveTo(s.x,s.y),i.arc(s.x,s.y,d+t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(r.borderColor);var n,o=t.color;"custom"==r.linearType&&(n=i.createCircularGradient?i.createCircularGradient(s.x,s.y,t._radius_):i.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),n.addColorStop(0,c(r.customColor[t.linearIndex],1)),n.addColorStop(1,c(t.color,1)),o=n);i.setFillStyle(o),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill(),1==r.border&&i.stroke()})),!1!==e.dataLabel&&1===n&&mt(t,e,a,i,0,s),{center:s,radius:u,series:t}}(l,e,a,i,t),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.radarData=function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},e.extra.radar),s=k(e.categories.length),u={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},l=(e.width-e.area[1]-e.area[3])/2,d=(e.height-e.area[0]-e.area[2])/2,f=Math.min(l-($(e.categories,a.fontSize,i)+a.radarLabelTextMargin),d-a.radarLabelTextMargin);f-=a.radarLabelTextMargin*e.pix,f=f<10?10:f,f=r.radius?r.radius:f,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(r.gridColor),s.forEach((function(t,e){var a=h(f*Math.cos(t),f*Math.sin(t),u);i.moveTo(u.x,u.y),e%r.gridEval==0&&i.lineTo(a.x,a.y)})),i.stroke(),i.closePath();for(var p=function(t){var a={};if(i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(r.gridColor),"radar"==r.gridType)s.forEach((function(e,n){var s=h(f/r.gridCount*t*Math.cos(e),f/r.gridCount*t*Math.sin(e),u);0===n?(a=s,i.moveTo(s.x,s.y)):i.lineTo(s.x,s.y)})),i.lineTo(a.x,a.y);else{var n=h(f/r.gridCount*t*Math.cos(1.5),f/r.gridCount*t*Math.sin(1.5),u);i.arc(u.x,u.y,u.y-n.y,0,2*Math.PI,!1)}i.stroke(),i.closePath()},m=1;m<=r.gridCount;m++)p(m);r.customColor=g(r.linearType,r.customColor,t,a);var _=F(s,u,f,t,e,n);if(_.forEach((function(a,n){i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(a.color);var s,o=c(a.color,r.opacity);"custom"==r.linearType&&(s=i.createCircularGradient?i.createCircularGradient(u.x,u.y,f):i.createRadialGradient(u.x,u.y,0,u.x,u.y,f),s.addColorStop(0,c(r.customColor[t[n].linearIndex],r.opacity)),s.addColorStop(1,c(a.color,r.opacity)),o=s);if(i.setFillStyle(o),a.data.forEach((function(t,e){0===e?i.moveTo(t.position.x,t.position.y):i.lineTo(t.position.x,t.position.y)})),i.closePath(),i.fill(),!0===r.border&&i.stroke(),i.closePath(),!1!==e.dataPointShape){var l=a.data.map((function(t){return t.position}));st(l,a.color,a.pointShape,i,e)}})),!0===r.axisLabel){var v=Math.max(r.max,Math.max.apply(null,b(t))),y=f/r.gridCount,x=e.fontSize*e.pix;i.setFontSize(x),i.setFillStyle(e.fontColor),i.setTextAlign("left");for(m=0;m<r.gridCount+1;m++){var w=m*v/r.gridCount;w=w.toFixed(r.axisLabelTofix),i.fillText(String(w),u.x+3*e.pix,u.y-m*y+x/2)}}return ht(s,f,u,e,a,i),!1!==e.dataLabel&&1===n&&(_.forEach((function(t,n){i.beginPath();var r=t.textSize*e.pix||a.fontSize;i.setFontSize(r),i.setFillStyle(t.textColor||e.fontColor),t.data.forEach((function(t,e){Math.abs(t.position.x-u.x)<2?t.position.y<u.y?(i.setTextAlign("center"),i.fillText(t.value,t.position.x,t.position.y-4)):(i.setTextAlign("center"),i.fillText(t.value,t.position.x,t.position.y+r+2)):t.position.x<u.x?(i.setTextAlign("right"),i.fillText(t.value,t.position.x-4,t.position.y+r/2-2)):(i.setTextAlign("left"),i.fillText(t.value,t.position.x+4,t.position.y+r/2-2))})),i.closePath(),i.stroke()})),i.setTextAlign("left")),{center:u,radius:f,angleList:s}}(l,e,a,i,t),kt(e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.arcbarData=function(t,e,a,i){var n,r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=o({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},e.extra.arcbar);t=R(t,u,s),n=u.centerX||u.centerY?{x:u.centerX?u.centerX:e.width/2,y:u.centerY?u.centerY:e.height/2}:{x:e.width/2,y:e.height/2},u.radius?r=u.radius:(r=Math.min(n.x,n.y),r-=5*e.pix,r-=u.width/2),r=r<10?10:r,u.customColor=g(u.linearType,u.customColor,t,a);for(var l=0;l<t.length;l++){var d=t[l];i.setLineWidth(u.width*e.pix),i.setStrokeStyle(u.backgroundColor||"#E9E9E9"),i.setLineCap(u.lineCap),i.beginPath(),"default"==u.type?i.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,u.startAngle*Math.PI,u.endAngle*Math.PI,"ccw"==u.direction):i.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,0,2*Math.PI,"ccw"==u.direction),i.stroke();var f=d.color;if("custom"==u.linearType){var p=i.createLinearGradient(n.x-r,n.y,n.x+r,n.y);p.addColorStop(1,c(u.customColor[d.linearIndex],1)),p.addColorStop(0,c(d.color,1)),f=p}i.setLineWidth(u.width*e.pix),i.setStrokeStyle(f),i.setLineCap(u.lineCap),i.beginPath(),i.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,u.startAngle*Math.PI,d._proportion_*Math.PI,"ccw"==u.direction),i.stroke()}return ut(e,a,i,n),{center:n,radius:r,series:t}}(l,e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),e.chartData.gaugeData=function(t,e,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=o({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},a.extra.gauge);void 0==s.oldAngle&&(s.oldAngle=s.startAngle),void 0==s.oldData&&(s.oldData=0),t=B(t,s.startAngle,s.endAngle);var u={x:a.width/2,y:a.height/2},l=Math.min(u.x,u.y);l-=5*a.pix,l-=s.width/2,l=l<10?10:l;var d=l-s.width,f=0;if("progress"==s.type){var p=l-3*s.width;n.beginPath();var h=n.createLinearGradient(u.x,u.y-p,u.x,u.y+p);h.addColorStop("0",c(e[0].color,.3)),h.addColorStop("1.0",c("#FFFFFF",.1)),n.setFillStyle(h),n.arc(u.x,u.y,p,0,2*Math.PI,!1),n.fill(),n.setLineWidth(s.width),n.setStrokeStyle(c(e[0].color,.3)),n.setLineCap("round"),n.beginPath(),n.arc(u.x,u.y,d,s.startAngle*Math.PI,s.endAngle*Math.PI,!1),n.stroke(),f=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle;s.splitLine.splitNumber;var m=f/s.splitLine.splitNumber/s.splitLine.childNumber,_=-l-.5*s.width-s.splitLine.fixRadius,g=-l-s.width-s.splitLine.fixRadius+s.splitLine.width;n.save(),n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var v=s.splitLine.splitNumber*s.splitLine.childNumber+1,y=e[0].data*r,b=0;b<v;b++)n.beginPath(),y>b/v?n.setStrokeStyle(c(e[0].color,1)):n.setStrokeStyle(c(e[0].color,.3)),n.setLineWidth(3*a.pix),n.moveTo(_,0),n.lineTo(g,0),n.stroke(),n.rotate(m*Math.PI);n.restore(),e=N(e,s,r),n.setLineWidth(s.width),n.setStrokeStyle(e[0].color),n.setLineCap("round"),n.beginPath(),n.arc(u.x,u.y,d,s.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),n.stroke();var x=l-2.5*s.width;n.save(),n.translate(u.x,u.y),n.rotate((e[0]._proportion_-1)*Math.PI),n.beginPath(),n.setLineWidth(s.width/3);var w=n.createLinearGradient(0,.6*-x,0,.6*x);w.addColorStop("0",c("#FFFFFF",0)),w.addColorStop("0.5",c(e[0].color,1)),w.addColorStop("1.0",c("#FFFFFF",0)),n.setStrokeStyle(w),n.arc(0,0,x,.85*Math.PI,1.15*Math.PI,!1),n.stroke(),n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(e[0].color),n.setFillStyle(e[0].color),n.moveTo(-x-s.width/3/2,-4),n.lineTo(-x-s.width/3/2-4,0),n.lineTo(-x-s.width/3/2,4),n.lineTo(-x-s.width/3/2,-4),n.stroke(),n.fill(),n.restore()}else{n.setLineWidth(s.width),n.setLineCap("butt");for(var C=0;C<t.length;C++){var $=t[C];n.beginPath(),n.setStrokeStyle($.color),n.arc(u.x,u.y,l,$._startAngle_*Math.PI,$._endAngle_*Math.PI,!1),n.stroke()}n.save(),f=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle;var k=f/s.splitLine.splitNumber,D=f/s.splitLine.splitNumber/s.splitLine.childNumber,S=-l-.5*s.width-s.splitLine.fixRadius,T=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.width,O=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.childWidth;n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var P=0;P<s.splitLine.splitNumber+1;P++)n.beginPath(),n.setStrokeStyle(s.splitLine.color),n.setLineWidth(2*a.pix),n.moveTo(S,0),n.lineTo(T,0),n.stroke(),n.rotate(k*Math.PI);n.restore(),n.save(),n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var M=0;M<s.splitLine.splitNumber*s.splitLine.childNumber+1;M++)n.beginPath(),n.setStrokeStyle(s.splitLine.color),n.setLineWidth(1*a.pix),n.moveTo(S,0),n.lineTo(O,0),n.stroke(),n.rotate(D*Math.PI);n.restore(),e=z(e,t,s,r);for(var A=0;A<e.length;A++){var I=e[A];n.save(),n.translate(u.x,u.y),n.rotate((I._proportion_-1)*Math.PI),n.beginPath(),n.setFillStyle(I.color),n.moveTo(s.pointer.width,0),n.lineTo(0,-s.pointer.width/2),n.lineTo(-d,0),n.lineTo(0,s.pointer.width/2),n.lineTo(s.pointer.width,0),n.closePath(),n.fill(),n.beginPath(),n.setFillStyle("#FFFFFF"),n.arc(0,0,s.pointer.width/6,0,2*Math.PI,!1),n.fill(),n.restore()}!1!==a.dataLabel&&pt(s,l,u,a,i,n)}return ut(a,i,n,u),1===r&&"gauge"===a.type&&(a.extra.gauge.oldAngle=e[0]._proportion_,a.extra.gauge.oldData=e[0].data),{center:u,radius:l,innerRadius:d,categories:t,totalAngle:f}}(d,l,e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&rt(i,e),Ct(0,e,0,i),wt(d,e,a,i);var n=function(t,e,a,i,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=o({},{color:{},average:{}},a.extra.candle);s.color=o({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},s.color),s.average=o({},{show:!1,name:[],day:[],color:i.color},s.average),a.extra.candle=s;var u=a.chartData.xAxisData,c=u.xAxisPoints,l=u.eachSpacing,d=[];n.save();var f=-2,h=c.length+2,m=0,_=a.width+l;return a._scrollDistance_&&0!==a._scrollDistance_&&!0===a.enableScroll&&(n.translate(a._scrollDistance_,0),f=Math.floor(-a._scrollDistance_/l)-2,h=f+a.xAxis.itemCount+4,m=-a._scrollDistance_-2*l+a.area[3],_=m+(a.xAxis.itemCount+4)*l),(s.average.show||e)&&e.forEach((function(t,e){var s,o,u;s=[].concat(a.chartData.yAxisData.ranges[t.index]),o=s.pop(),u=s.shift();for(var d=t.data,f=Y(d,o,u,c,l,a,i,r),h=A(f,t),g=0;g<h.length;g++){var v=h[g];if(n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(1),1===v.length)n.moveTo(v[0].x,v[0].y),n.arc(v[0].x,v[0].y,1,0,2*Math.PI);else{n.moveTo(v[0].x,v[0].y);for(var y=0,b=0;b<v.length;b++){var x=v[b];if(0==y&&x.x>m&&(n.moveTo(x.x,x.y),y=1),b>0&&x.x>m&&x.x<_){var w=p(v,b-1);n.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,x.x,x.y)}}n.moveTo(v[0].x,v[0].y)}n.closePath(),n.stroke()}})),t.forEach((function(t,e){var o,u,p;o=[].concat(a.chartData.yAxisData.ranges[t.index]),u=o.pop(),p=o.shift();var m=t.data,_=J(m,u,p,c,l,a,i,r);d.push(_);for(var g=A(_,t),v=0;v<g[0].length;v++)if(v>f&&v<h){var y=g[0][v];n.beginPath(),m[v][1]-m[v][0]>0?(n.setStrokeStyle(s.color.upLine),n.setFillStyle(s.color.upFill),n.setLineWidth(1*a.pix),n.moveTo(y[3].x,y[3].y),n.lineTo(y[1].x,y[1].y),n.lineTo(y[1].x-l/4,y[1].y),n.lineTo(y[0].x-l/4,y[0].y),n.lineTo(y[0].x,y[0].y),n.lineTo(y[2].x,y[2].y),n.lineTo(y[0].x,y[0].y),n.lineTo(y[0].x+l/4,y[0].y),n.lineTo(y[1].x+l/4,y[1].y),n.lineTo(y[1].x,y[1].y),n.moveTo(y[3].x,y[3].y)):(n.setStrokeStyle(s.color.downLine),n.setFillStyle(s.color.downFill),n.setLineWidth(1*a.pix),n.moveTo(y[3].x,y[3].y),n.lineTo(y[0].x,y[0].y),n.lineTo(y[0].x-l/4,y[0].y),n.lineTo(y[1].x-l/4,y[1].y),n.lineTo(y[1].x,y[1].y),n.lineTo(y[2].x,y[2].y),n.lineTo(y[1].x,y[1].y),n.lineTo(y[1].x+l/4,y[1].y),n.lineTo(y[0].x+l/4,y[0].y),n.lineTo(y[0].x,y[0].y),n.moveTo(y[3].x,y[3].y)),n.closePath(),n.fill(),n.stroke()}})),n.restore(),{xAxisPoints:c,calPoints:d,eachSpacing:l}}(l,v,e,a,i,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,0,i),kt(v?0:e.series,e,a,i,e.chartData),xt(e,a,i,t),Lt(0,i)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break}}function Nt(){this.events={}}qt.prototype.stop=function(){this.isStop=!0},Nt.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},Nt.prototype.delEventListener=function(t){this.events[t]=[]},Nt.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];var i=e[0],n=e.slice(1);this.events[i]&&this.events[i].forEach((function(t){try{t.apply(null,n)}catch(e){}}))};var Bt=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:s.fontColor,""!=t.background&&"none"!=t.background||(t.background="#FFFFFF"),t.title=o({},t.title),t.subtitle=o({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=o({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=o({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=o({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=o({tooltip:{legendShape:"auto"}},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;var e=o({},s);if(e.color=t.color?t.color:e.color,"pie"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.pie.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"ring"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.ring.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"rose"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.rose.labelWidth*t.pix||e.pieChartLinePadding*t.pix),e.pieChartTextPadding=!1===t.dataLabel?0:e.pieChartTextPadding*t.pix,e.rotate=t.rotate,t.rotate){var a=t.width,i=t.height;t.width=i,t.height=a}if(t.padding=t.padding?t.padding:e.padding,e.yAxisWidth=s.yAxisWidth*t.pix,e.fontSize=t.fontSize*t.pix,e.titleFontSize=s.titleFontSize*t.pix,e.subtitleFontSize=s.subtitleFontSize*t.pix,!t.context)throw new Error("[uCharts] \u672a\u83b7\u53d6\u5230context\uff01\u6ce8\u610f\uff1av2.0\u7248\u672c\u540e\uff0c\u9700\u8981\u81ea\u884c\u83b7\u53d6canvas\u7684\u7ed8\u56fe\u4e0a\u4e0b\u6587\u5e76\u4f20\u5165opts.context\uff01");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(t){return this.strokeStyle=t},this.context.setLineWidth=function(t){return this.lineWidth=t},this.context.setLineCap=function(t){return this.lineCap=t},this.context.setFontSize=function(t){return this.font=t+"px sans-serif"},this.context.setFillStyle=function(t){return this.fillStyle=t},this.context.setTextAlign=function(t){return this.textAlign=t},this.context.setTextBaseline=function(t){return this.textBaseline=t},this.context.setShadow=function(t,e,a,i){this.shadowColor=i,this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowBlur=a},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(t){}),t.chartData={},this.uevent=new Nt,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=e,Rt.call(this,t.type,t,e,this.context)};Bt.prototype.updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=o({},this.opts,t),this.opts.updateData=!0;var e=t.scrollPosition||"current";switch(e){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var a=nt(this.opts.series,this.opts,this.config,this.context),i=a.yAxisWidth;this.config.yAxisWidth=i;var n=0,r=Q(this.opts.categories,this.opts,this.config),s=r.xAxisPoints,u=r.startX,c=r.endX,l=r.eachSpacing,d=l*(s.length-1),f=c-u;n=f-d,this.scrollOption={currentOffset:n,startTouchX:n,distance:0,lastMoveTime:0},this.opts._scrollDistance_=n;break}Rt.call(this,this.opts.type,this.opts,this.config,this.context)},Bt.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var e=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var a=nt(this.opts.series,this.opts,this.config,this.context),i=a.yAxisWidth;this.config.yAxisWidth=i;var n=0,r=Q(this.opts.categories,this.opts,this.config),s=r.xAxisPoints,o=r.startX,u=r.endX,c=r.eachSpacing,l=c*e,f=u-o,p=f-c*(s.length-1);n=f/2-l,n>0&&(n=0),n<p&&(n=p),this.scrollOption={currentOffset:n,startTouchX:0,distance:0,lastMoveTime:0},d(this,n,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=n,Rt.call(this,this.opts.type,this.opts,this.config,this.context)}},Bt.prototype.dobuleZoom=function(t){if(!0===this.opts.enableScroll){var e=t.changedTouches;if(!(e.length<2)){for(var a=0;a<e.length;a++)e[a].x=e[a].x?e[a].x:e[a].clientX,e[a].y=e[a].y?e[a].y:e[a].clientY;var i=[w(e[0],this.opts,t),w(e[1],this.opts,t)],n=Math.abs(i[0].x-i[1].x);if(!this.scrollOption.moveCount){var r={changedTouches:[{x:e[0].x,y:this.opts.area[0]/this.opts.pix+2}]},s={changedTouches:[{x:e[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(r={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[0].y}]},s={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[1].y}]});var o=this.getCurrentDataIndex(r).index,u=this.getCurrentDataIndex(s).index,c=Math.abs(o-u);return this.scrollOption.moveCount=c,this.scrollOption.moveCurrent1=Math.min(o,u),void(this.scrollOption.moveCurrent2=Math.max(o,u))}var l=n/this.scrollOption.moveCount,f=(this.opts.width-this.opts.area[1]-this.opts.area[3])/l;f=f<=2?2:f,f=f>=this.opts.categories.length?this.opts.categories.length:f,this.opts.animation=!1,this.opts.xAxis.itemCount=f;var p=0,h=Q(this.opts.categories,this.opts,this.config),m=h.xAxisPoints,_=h.startX,g=h.endX,v=h.eachSpacing,y=v*this.scrollOption.moveCurrent1,b=g-_,x=b-v*(m.length-1);p=-y+Math.min(i[0].x,i[1].x)-this.opts.area[3]-v,p>0&&(p=0),p<x&&(p=x),this.scrollOption.currentOffset=p,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,d(this,p,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=p,Rt.call(this,this.opts.type,this.opts,this.config,this.context)}}},Bt.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},Bt.prototype.addEventListener=function(t,e){this.uevent.addEventListener(t,e)},Bt.prototype.delEventListener=function(t){this.uevent.delEventListener(t)},Bt.prototype.getCurrentDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var a=w(e,this.opts,t);return"pie"===this.opts.type||"ring"===this.opts.type?function(t,e,a){var i=-1,n=L(e.series);if(e&&e.center&&M(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,a.extra.pie&&a.extra.pie.offsetAngle&&(r-=a.extra.pie.offsetAngle*Math.PI/180),a.extra.ring&&a.extra.ring.offsetAngle&&(r-=a.extra.ring.offsetAngle*Math.PI/180);for(var s=0,o=n.length;s<o;s++)if(f(r,n[s]._start_,n[s]._start_+2*n[s]._proportion_*Math.PI)){i=s;break}}return i}({x:a.x,y:a.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?function(t,e,a){var i=-1,n=q(a._series_,a.extra.rose.type,e.radius,e.radius);if(e&&e.center&&M(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,a.extra.rose&&a.extra.rose.offsetAngle&&(r-=a.extra.rose.offsetAngle*Math.PI/180);for(var s=0,o=n.length;s<o;s++)if(f(r,n[s]._start_,n[s]._start_+2*n[s]._rose_proportion_*Math.PI)){i=s;break}}return i}({x:a.x,y:a.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?function(t,e,a){var i=2*Math.PI/a,n=-1;if(M(t,e.center,e.radius)){var r=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},s=Math.atan2(e.center.y-t.y,t.x-e.center.x);s*=-1,s<0&&(s+=2*Math.PI);var o=e.angleList.map((function(t){return t=r(-1*t),t}));o.forEach((function(t,e){var a=r(t-i/2),o=r(t+i/2);o<a&&(o+=2*Math.PI),(s>=a&&s<=o||s+2*Math.PI>=a&&s+2*Math.PI<=o)&&(n=e)}))}return n}({x:a.x,y:a.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?function(t,e){for(var a=-1,i=0,n=e.series.length;i<n;i++){var r=e.series[i];if(t.x>r.funnelArea[0]&&t.x<r.funnelArea[2]&&t.y>r.funnelArea[1]&&t.y<r.funnelArea[3]){a=i;break}}return a}({x:a.x,y:a.y},this.opts.chartData.funnelData):"map"===this.opts.type?function(t,e){for(var a=-1,i=e.chartData.mapData,n=e.series,r=function(t,e,a,i,n,r){return{x:(e-n)/i+a.xMin,y:a.yMax-(t-r)/i}}(t.y,t.x,i.bounds,i.scale,i.xoffset,i.yoffset),s=[r.x,r.y],o=0,u=n.length;o<u;o++){var c=n[o].geometry.coordinates;if(Pt(s,c,e.chartData.mapData.mercator)){a=o;break}}return a}({x:a.x,y:a.y},this.opts):"word"===this.opts.type?function(t,e){for(var a=-1,i=0,n=e.length;i<n;i++){var r=e[i];if(t.x>r.area[0]&&t.x<r.area[2]&&t.y>r.area[1]&&t.y<r.area[3]){a=i;break}}return a}({x:a.x,y:a.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},s=a.chartData.eachSpacing/2,o=a.chartData.yAxisPoints;return e&&e.length>0&&P(t,a,i)&&o.forEach((function(e,a){t.y+n+s>e&&(r.index=a)})),r}({x:a.x,y:a.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):function(t,e,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},s=a.chartData.eachSpacing/2,o=[];if(e&&e.length>0){if(a.categories){for(var u=1;u<a.chartData.xAxisPoints.length;u++)o.push(a.chartData.xAxisPoints[u]-s);"line"!=a.type&&"area"!=a.type||"justify"!=a.xAxis.boundaryGap||(o=a.chartData.xAxisPoints)}else s=0;if(P(t,a,i))if(a.categories)o.forEach((function(e,a){t.x+n+s>e&&(r.index=a)}));else{for(var c=Array(e.length),l=0;l<e.length;l++){c[l]=Array(e[l].length);for(var d=0;d<e[l].length;d++)c[l][d]=Math.abs(e[l][d].x-t.x)}for(var f=Array(c.length),p=Array(c.length),h=0;h<c.length;h++)f[h]=Math.min.apply(null,c[h]),p[h]=c[h].indexOf(f[h]);var m=Math.min.apply(null,f);r.index=[];for(var _=0;_<f.length;_++)f[_]==m&&(r.group.push(_),r.index.push(p[_]))}}return r}({x:a.x,y:a.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},Bt.prototype.getLegendDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var a=w(e,this.opts,t);return function(t,e,a){var i=-1;if(function(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}(t,e.area)){for(var n=e.points,r=-1,s=0,o=n.length;s<o;s++)for(var u=n[s],c=0;c<u.length;c++){r+=1;var l=u[c]["area"];if(l&&t.x>l[0]-0&&t.x<l[2]+0&&t.y>l[1]-0&&t.y<l[3]+0){i=r;break}}return i}return i}({x:a.x,y:a.y},this.opts.chartData.legendData)}return-1},Bt.prototype.touchLegend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null;if(a=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],a){w(a,this.opts,t);var i=this.getLegendDataIndex(t);i>=0&&("candle"==this.opts.type?this.opts.seriesMA[i].show=!this.opts.seriesMA[i].show:this.opts.series[i].show=!this.opts.series[i].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,Rt.call(this,this.opts.type,this.opts,this.config,this.context))}},Bt.prototype.showToolTip=function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;i=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var n=w(i,this.opts,t),r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var u=this.getCurrentDataIndex(t),c=void 0==a.index?u.index:a.index;if(c>-1||c.length>0){var l=C(this.opts.series,c,u.group);if(0!==l.length){var d=D(l,this.opts,c,u.group,this.opts.categories,a),f=d.textList,p=d.offset;p.y=n.y,s.tooltip={textList:void 0!==a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c,group:u.group}}}Rt.call(this,s.type,s,this.config,this.context)}if("mount"===this.opts.type){c=void 0==a.index?this.getCurrentDataIndex(t).index:a.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},s._series_[c]),f=[{text:a.formatter?a.formatter(l,void 0,c,s):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],p={x:s.chartData.calPoints[c].x,y:n.y};s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}Rt.call(this,s.type,s,this.config,this.context)}if("bar"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==a.index?u.index:a.index;if(c>-1||c.length>0){l=C(this.opts.series,c,u.group);if(0!==l.length){d=D(l,this.opts,c,u.group,this.opts.categories,a),f=d.textList,p=d.offset;p.x=n.x,s.tooltip={textList:void 0!==a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("mix"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==a.index?u.index:a.index;if(c>-1){r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1}),l=C(this.opts.series,c);if(0!==l.length){var h=S(l,this.opts,c,this.opts.categories,a);f=h.textList,p=h.offset;p.y=n.y,s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("candle"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==a.index?u.index:a.index;if(c>-1){r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1}),l=C(this.opts.series,c);if(0!==l.length){d=T(this.opts.series[0].data,l,this.opts,c,this.opts.categories,this.opts.extra.candle,a),f=d.textList,p=d.offset;p.y=n.y,s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){c=void 0==a.index?this.getCurrentDataIndex(t):a.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},s._series_[c]),f=[{text:a.formatter?a.formatter(l,void 0,c,s):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],p={x:n.x,y:n.y};s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}Rt.call(this,s.type,s,this.config,this.context)}if("map"===this.opts.type){c=void 0==a.index?this.getCurrentDataIndex(t):a.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},this.opts.series[c]);l.name=l.properties.name;f=[{text:a.formatter?a.formatter(l,void 0,c,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],p={x:n.x,y:n.y};s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}s.updateData=!1,Rt.call(this,s.type,s,this.config,this.context)}if("word"===this.opts.type){c=void 0==a.index?this.getCurrentDataIndex(t):a.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},this.opts.series[c]),f=[{text:a.formatter?a.formatter(l,void 0,c,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],p={x:n.x,y:n.y};s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}s.updateData=!1,Rt.call(this,s.type,s,this.config,this.context)}if("radar"===this.opts.type){c=void 0==a.index?this.getCurrentDataIndex(t):a.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=C(this.opts.series,c);if(0!==l.length){f=l.map((function(t){return{text:a.formatter?a.formatter(t,e.opts.categories[c],c,e.opts):t.name+": "+t.data,color:t.color,legendShape:"auto"==e.opts.extra.tooltip.legendShape?t.legendShape:e.opts.extra.tooltip.legendShape}})),p={x:n.x,y:n.y};s.tooltip={textList:a.textList?a.textList:f,offset:void 0!==a.offset?a.offset:p,option:a,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}},Bt.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};var e=o({},this.opts,{_scrollDistance_:t,animation:!1});Rt.call(this,this.opts.type,e,this.config,this.context)},Bt.prototype.scrollStart=function(t){var e=null;e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var a=w(e,this.opts,t);e&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=a.x)},Bt.prototype.scroll=function(t){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var e=this.opts.touchMoveLimit||60,a=Date.now(),i=a-this.scrollOption.lastMoveTime;if(!(i<Math.floor(1e3/e))&&0!=this.scrollOption.startTouchX){this.scrollOption.lastMoveTime=a;var n=null;if(n=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],n&&!0===this.opts.enableScroll){var r,s=w(n,this.opts,t);r=s.x-this.scrollOption.startTouchX;var u=this.scrollOption.currentOffset,c=d(this,u+r,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=r=c-u;var l=o({},this.opts,{_scrollDistance_:u+r,animation:!1});return this.opts=l,Rt.call(this,l.type,l,this.config,this.context),u+r}}},Bt.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,a=e.currentOffset,i=e.distance;this.scrollOption.currentOffset=a+i,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};var zt=Bt;e.default=zt}).call(this,a("0de9")["default"])},"0b72":function(t,e,a){"use strict";a.r(e);var i=a("295f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"0bba":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("430d");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database(),c=[],l={ascending:"asc",descending:"desc"},d={data:function(){return{query:"",where:"",orderby:"",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-tag.xls",type:"xls",fields:{"\u6807\u7b7e\u7684tagid":"tagid","\u6807\u7b7e\u540d\u79f0":"name","\u6807\u7b7e\u63cf\u8ff0":"description"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},computed:{smsReceiver:function(){if(this.selectedIndexs.length){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e].tagid}))}}},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,r.filterToWhere)(this._filter,u.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))}}};e.default=d}).call(this,a("a9ff")["default"])},"0bf8":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniPopup:a("6a38").default,uniCaptcha:a("b8af").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uni-popup",{ref:"popup",attrs:{type:"center",_i:0}},[a("view",{staticClass:t._$s(1,"sc","popup-captcha"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","content"),attrs:{_i:2}},[a("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.title)))]),a("uni-captcha",{attrs:{focus:t.focus,scene:t.scene,_i:4},model:{value:t._$s(4,"v-model",t.val),callback:function(e){t.val=e},expression:"val"}})],1),a("view",{staticClass:t._$s(5,"sc","button-box"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","btn"),attrs:{_i:6},on:{click:t.close}}),a("view",{staticClass:t._$s(7,"sc","btn confirm"),attrs:{_i:7},on:{click:t.confirm}})])])])},r=[]},"0c4d":function(t,e,a){"use strict";a.r(e);var i=a("1b18"),n=a("4275");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"0c67":function(t,e,a){"use strict";a.r(e);var i=a("2d11"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"0c79":function(t,e,a){"use strict";a.r(e);var i=a("7fa1"),n=a("9e42");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"0cc9":function(t,e,a){"use strict";a.r(e);var i=a("c4d6"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"0de9":function(t,e,a){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function n(){return"string"===typeof __channelId__&&__channelId__}function r(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function s(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i]}function o(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e.shift();if(n())e.push(e.pop().replace("at ","uni-app:///"));else{var s=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(n){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var a=i(t).toUpperCase();t="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+t+"---END:"+a+"---":String(t)}return t}));if(s.length>1){var o=s.pop();s.join("---COMMA---"),0===o.indexOf(" at ")?o:"---COMMA---"+o}else s[0]}}a.r(e),a.d(e,"log",(function(){return s})),a.d(e,"default",(function(){return o}))},"0e27":function(t,e,a){"use strict";a.r(e);var i=a("8319"),n=a("cf03");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"0e79":function(t,e,a){"use strict";a.r(e);var i=a("7633"),n=a("72cb");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4ac41209",null,!1,i["a"],void 0);e["default"]=o.exports},"0ec9":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("b452"),s=i(a("3015"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={data:function(){return{config:s.default,uniIdRedirectUrl:"",isMounted:!1}},onUnload:function(){},mounted:function(){this.isMounted=!0},onLoad:function(t){var e=this;if(t.is_weixin_redirect){if(uni.showLoading({mask:!0}),window.location.href.includes("#")){var a=window.location.href.split("?")[1].split("&");a.forEach((function(e){var a=e.split("=");"code"==a[0]&&(t.code=a[1])}))}this.$nextTick((function(a){e.$refs.uniFabLogin.login({code:t.code},"weixin")}))}t.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(t.uniIdRedirectUrl))},computed:{needAgreements:function(){if(this.isMounted)return!!this.$refs.agreements&&this.$refs.agreements.needAgreements},agree:{get:function(){if(this.isMounted)return!this.$refs.agreements||this.$refs.agreements.isAgree},set:function(t){this.$refs.agreements&&(this.$refs.agreements.isAgree=t)}}},methods:{loginSuccess:function(t){r.mutations.loginSuccess(u(u({},t),{},{uniIdRedirectUrl:this.uniIdRedirectUrl}))}}},l=c;e.default=l}).call(this,a("0de9")["default"])},"0edc":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=u,e.friendlyDate=function(t,e){var a=e.locale,i=void 0===a?"zh":a,n=e.threshold,r=void 0===n?[6e4,36e5]:n,s=e.format,c=void 0===s?"yyyy/MM/dd hh:mm:ss":s;if("-"===t)return t;if(!t&&0!==t)return"";var l,d,f={zh:{year:"\u5e74",month:"\u6708",day:"\u5929",hour:"\u5c0f\u65f6",minute:"\u5206\u949f",second:"\u79d2",ago:"\u524d",later:"\u540e",justNow:"\u521a\u521a",soon:"\u9a6c\u4e0a",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},p=f[i]||f.zh,h=o(t),m=h.getTime()-Date.now(),_=Math.abs(m);if(_<r[0])return m<0?p.justNow:p.soon;if(_>=r[1])return u(h,c);var g=p.later;m<0&&(g=p.ago,m=-m);var v=Math.floor(m/1e3),y=Math.floor(v/60),b=Math.floor(y/60),x=Math.floor(b/24),w=Math.floor(x/30),C=Math.floor(w/12);switch(!0){case C>0:l=C,d=p.year;break;case w>0:l=w,d=p.month;break;case x>0:l=x,d=p.day;break;case b>0:l=b,d=p.hour;break;case y>0:l=y,d=p.minute;break;default:l=v,d=p.second;break}"en"===i&&(1===l?l="a":d+="s");return p.template.replace(/{\s*num\s*}/g,l+"").replace(/{\s*unit\s*}/g,d).replace(/{\s*suffix\s*}/g,g)};var n=i(a("7037"));function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}var s={yyyy:function(t){return r(t.year,4)},yy:function(t){return r(t.year)},MM:function(t){return r(t.month)},M:function(t){return t.month},dd:function(t){return r(t.day)},d:function(t){return t.day},hh:function(t){return r(t.hour)},h:function(t){return t.hour},mm:function(t){return r(t.minute)},m:function(t){return t.minute},ss:function(t){return r(t.second)},s:function(t){return t.second},SSS:function(t){return r(t.millisecond,3)},S:function(t){return t.millisecond}};function o(t){if(t instanceof Date)return t;switch((0,n.default)(t)){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=o(t);var a={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},i=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,n=!0,r=e;while(n)n=!1,r=r.replace(i,(function(t){return n=!0,s[t](a)}));return r}},"0ef0":function(t,e,a){"use strict";a.r(e);var i=a("f309"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"0f37":function(t,e,a){"use strict";a.r(e);var i=a("3e5a"),n=a("7d15");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"0f49":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={options:{virtualHost:!0},props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{uniBreadcrumb:this}}};e.default=i},"0f57":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("c973")),s=a("2d8b"),o={},u={name:"l-clipper",props:{value:{type:Boolean,default:!0},customStyle:{type:String},canvasId:{type:String,default:"l-clipper"},zIndex:{type:Number,default:99},imageUrl:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:{type:Number,default:400},height:{type:Number,default:400},minWidth:{type:Number,default:200},maxWidth:{type:Number,default:600},minHeight:{type:Number,default:200},maxHeight:{type:Number,default:600},isLockWidth:{type:Boolean,default:!1},isLockHeight:{type:Boolean,default:!1},isLockRatio:{type:Boolean,default:!0},scaleRatio:{type:Number,default:1},minRatio:{type:Number,default:.5},maxRatio:{type:Number,default:2},isDisableScale:{type:Boolean,default:!1},isDisableRotate:{type:Boolean,default:!1},isLimitMove:{type:Boolean,default:!1},isShowPhotoBtn:{type:Boolean,default:!0},isShowRotateBtn:{type:Boolean,default:!0},isShowConfirmBtn:{type:Boolean,default:!0},isShowCancelBtn:{type:Boolean,default:!0},rotateAngle:{type:Number,default:90},source:{type:Object,default:function(){return{album:"\u4ece\u76f8\u518c\u4e2d\u9009\u62e9",camera:"\u62cd\u7167"}}}},data:function(){return{canvasWidth:0,canvasHeight:0,clipX:0,clipY:0,clipWidth:0,clipHeight:0,animation:!1,imageWidth:0,imageHeight:0,imageTop:0,imageLeft:0,scale:1,angle:0,image:this.imageUrl,sysinfo:{},throttleTimer:null,throttleFlag:!0,timeClipCenter:null,flagClipTouch:!1,flagEndTouch:!1,clipStart:{},animationTimer:null,touchRelative:[{x:0,y:0}],hypotenuseLength:0,ctx:null}},computed:{clipStyle:function(){var t=this.clipWidth,e=this.clipHeight,a=this.clipY,i=this.clipX,n=this.animation;return"\n\t\t\twidth: ".concat(t,"px;\n\t\t\theight:").concat(e,"px;\n\t\t\ttransition-property: ").concat(n?"":"background",";\n\t\t\tleft: ").concat(i,"px;\n\t\t\ttop: ").concat(a,"px\n\t\t\t")},imageStyle:function(){var t=this.imageWidth,e=this.imageHeight,a=this.imageLeft,i=this.imageTop,n=this.animation,r=this.scale,s=this.angle;return"\n\t\t\t\twidth: ".concat(t?t+"px":"auto",";\n\t\t\t\theight: ").concat(e?e+"px":"auto",";\n\t\t\t\ttransform: translate3d(").concat(a-t/2,"px, ").concat(i-e/2,"px, 0) scale(").concat(r,") rotate(").concat(s,"deg);\n\t\t\t\ttransition-duration: ").concat(n?.35:0,"s\n\t\t\t")},clipSize:function(){var t=this.clipWidth,e=this.clipHeight;return{clipWidth:t,clipHeight:e}},clipPoint:function(){var t=this.clipY,e=this.clipX;return{clipY:t,clipX:e}}},watch:{value:function(t){if(t){if(this.imageUrl){var e=(null===o||void 0===o?void 0:o[this.imageUrl])||{},a=e.imageWidth,i=e.imageHeight,n=e.imageLeft,r=e.imageTop,s=e.scale,u=e.clipX,c=e.clipY,l=e.clipWidth,d=e.clipHeight,f=e.path;f!=this.image?this.image=this.imageUrl:this.setDiffData({imageWidth:a,imageHeight:i,imageLeft:n,imageTop:r,scale:s,clipX:u,clipY:c,clipWidth:l,clipHeight:d})}}else this.animation=0,this.angle=0},imageUrl:function(t){this.image=t},image:{handler:function(){var t=(0,r.default)(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getImageInfo(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},clipSize:function(t){var e=t.widthVal,a=t.heightVal,i=this.minWidth,n=this.minHeight;i/=2,n/=2,e<i&&this.setDiffData({clipWidth:i}),a<n&&this.setDiffData({clipHeight:n}),this.calcClipSize()},angle:function(t){this.animation=!0,this.moveStop();var e=this.isLimitMove;e&&t%90&&this.setDiffData({angle:90*Math.round(t/90)}),this.imgMarginDetectionScale()},animation:function(t){var e=this;if(clearTimeout(this.animationTimer),t){var a=setTimeout((function(){e.setDiffData({animation:!1})}),260);this.setDiffData({animationTimer:a}),this.animationTimer=a}},isLimitMove:function(t){t&&(this.angle%90&&this.setDiffData({angle:90*Math.round(this.angle/90)}),this.imgMarginDetectionScale())},clipPoint:function(){this.cutDetectionPosition()},width:function(t,e){t!==e&&this.setDiffData({clipWidth:t/2})},height:function(t,e){t!==e&&this.setDiffData({clipHeight:t/2})}},mounted:function(){var t=uni.getSystemInfoSync();this.sysinfo=t,this.setClipInfo(),this.image&&this.getImageInfo(this.image),this.setClipCenter(),this.calcClipSize(),this.cutDetectionPosition()},methods:{setDiffData:function(t){var e=this;Object.keys(t).forEach((function(a){e[a]!==t[a]&&(e[a]=t[a])}))},getImageInfo:function(t){var e=this;t&&(this.value&&uni.showLoading({title:"\u8bf7\u7a0d\u5019...",mask:!0}),uni.getImageInfo({src:t,success:function(a){e.imgComputeSize(a.width,a.height),e.image=a.path,e.isLimitMove&&(e.imgMarginDetectionScale(),e.$emit("ready",a));var i=e.imageWidth,n=e.imageHeight,r=e.imageLeft,s=e.imageTop,u=e.scale,c=e.clipX,l=e.clipY,d=e.clipWidth,f=e.clipHeight;o[t]=Object.assign(a,{imageWidth:i,imageHeight:n,imageLeft:r,imageTop:s,scale:u,clipX:c,clipY:l,clipWidth:d,clipHeight:f})},fail:function(t){e.imgComputeSize(),e.isLimitMove&&e.imgMarginDetectionScale()}}))},setClipInfo:function(){var t=this.width,e=this.height,a=this.sysinfo,i=this.canvasId,n=t/2,r=e/2,s=(a.windowHeight-r)/2,o=(a.windowWidth-n)/2,u=a.windowWidth/2,c=a.windowHeight/2;this.ctx=uni.createCanvasContext(i,this),this.clipWidth=n,this.clipHeight=r,this.clipX=o,this.clipY=s,this.canvasHeight=r,this.canvasWidth=n,this.imageLeft=u,this.imageTop=c},setClipCenter:function(){var t=this.sysInfo,e=this.clipHeight,a=this.clipWidth,i=this.imageTop,n=this.imageLeft,r=t||uni.getSystemInfoSync(),s=.5*(r.windowHeight-e),o=.5*(r.windowWidth-a);this.imageTop=i-this.clipY+s,this.imageLeft=n-this.clipX+o,this.clipY=s,this.clipX=o},calcClipSize:function(){var t=this.clipHeight,e=this.clipWidth,a=this.sysinfo,i=this.clipX,n=this.clipY;e>a.windowWidth?this.setDiffData({clipWidth:a.windowWidth}):e+i>a.windowWidth&&this.setDiffData({clipX:a.windowWidth-i}),t>a.windowHeight?this.setDiffData({clipHeight:a.windowHeight}):t+n>a.windowHeight&&(this.clipY=a.windowHeight-n,this.setDiffData({clipY:a.windowHeight-n}))},cutDetectionPosition:function(){var t=this,e=this.clipX,a=this.clipY,i=this.sysinfo,n=this.clipHeight,r=this.clipWidth,s=function(){a<0&&t.setDiffData({clipY:0}),a>i.windowHeight-n&&t.setDiffData({clipY:i.windowHeight-n})},o=function(){e<0&&t.setDiffData({clipX:0}),e>i.windowWidth-r&&t.setDiffData({clipX:i.windowWidth-r})};if(null===a&&null===e){var u=.5*(i.windowHeight-n),c=.5*(i.windowWidth-r);this.setDiffData({clipX:c,clipY:u})}else null!==a&&null!==e?(s(),o()):null!==a&&null===e?(s(),this.setDiffData({clipX:(i.windowWidth-r)/2})):null===a&&null!==e&&(o(),this.setDiffData({clipY:(i.windowHeight-n)/2}))},imgComputeSize:function(t,e){var a=(0,s.calcImageSize)(t,e,this),i=a.imageWidth,n=a.imageHeight;this.imageWidth=i,this.imageHeight=n},imgMarginDetectionScale:function(t){if(this.isLimitMove){var e=(0,s.calcImageScale)(this,t);this.imgMarginDetectionPosition(e)}},imgMarginDetectionPosition:function(t){if(this.isLimitMove){var e=(0,s.calcImageOffset)(this,t),a=e.scale,i=e.left,n=e.top;this.setDiffData({imageLeft:i,imageTop:n,scale:a})}},throttle:function(){this.setDiffData({throttleFlag:!0})},moveDuring:function(){clearTimeout(this.timeClipCenter)},moveStop:function(){var t=this;clearTimeout(this.timeClipCenter);var e=setTimeout((function(){t.animation||t.setDiffData({animation:!0}),t.setClipCenter()}),800);this.setDiffData({timeClipCenter:e})},clipTouchStart:function(t){if(this.image){var e=t.touches[0].clientX,a=t.touches[0].clientY,i=this.clipX,n=this.clipY,r=this.clipWidth,o=this.clipHeight,u=(0,s.determineDirection)(i,n,r,o,e,a);this.moveDuring(),u&&(this.clipStart={width:r,height:o,x:e,y:a,clipY:n,clipX:i,corner:u},this.flagClipTouch=!0,this.flagEndTouch=!0)}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},clipTouchMove:function(t){if(this.image){if(1===t.touches.length){var e=this.flagClipTouch,a=this.throttleFlag;if(e&&a){var i=this.isLockRatio,n=this.isLockHeight,r=this.isLockWidth;if(i&&(r||n))return;this.setDiffData({throttleFlag:!1}),this.throttle();var o=(0,s.clipTouchMoveOfCalculate)(this,t);if(o){var u=o.width,c=o.height,l=o.clipX,d=o.clipY;r||n?r?n||this.setDiffData({clipHeight:c,clipY:d}):this.setDiffData({clipWidth:u,clipX:l}):this.setDiffData({clipWidth:u,clipHeight:c,clipX:l,clipY:d}),this.imgMarginDetectionScale()}}}}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},clipTouchEnd:function(){this.moveStop(),this.flagClipTouch=!1},imageTouchStart:function(t){this.flagEndTouch=!1;var e=this.imageLeft,a=this.imageTop,i=t.touches[0].clientX,n=t.touches[0].clientY,r=[];if(1===t.touches.length)r[0]={x:i-e,y:n-a},this.touchRelative=r;else{var o=t.touches[1].clientX,u=t.touches[1].clientY,c=Math.abs(i-o),l=Math.abs(n-u),d=(0,s.calcPythagoreanTheorem)(c,l);r=[{x:i-e,y:n-a},{x:o-e,y:u-a}],this.touchRelative=r,this.hypotenuseLength=d}},imageTouchMove:function(t){var e=this.flagEndTouch,a=this.throttleFlag;if(!e&&a){var i=t.touches[0].clientX,n=t.touches[0].clientY;if(this.setDiffData({throttleFlag:!1}),this.throttle(),this.moveDuring(),1===t.touches.length){var r=(0,s.imageTouchMoveOfCalcOffset)(this,i,n),o=r.left,u=r.top;this.setDiffData({imageLeft:o,imageTop:u}),this.imgMarginDetectionPosition()}else{var c=t.touches[1].clientX,l=t.touches[1].clientY,d=Math.abs(i-c),f=Math.abs(n-l),p=(0,s.calcPythagoreanTheorem)(d,f),h=this.scale*(p/this.hypotenuseLength);this.isDisableScale?h=1:(h=h<=this.minRatio?this.minRatio:h,h=h>=this.maxRatio?this.maxRatio:h,this.$emit("change",{width:this.imageWidth*h,height:this.imageHeight*h})),this.imgMarginDetectionScale(h),this.hypotenuseLength=Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),this.scale=h}}},imageTouchEnd:function(){this.setDiffData({flagEndTouch:!0}),this.moveStop()},uploadImage:function(){var t=this,e=Object.entries(this.source),a=["original","compressed"],i=function(e){var a=e.tempFilePaths,i=e.tempFiles;t.image=a?a[0]:i[0].path},n=function(t){"message"!==t&&uni.chooseImage({count:1,sizeType:a,sourceType:[t],success:i})};e.length>1?uni.showActionSheet({itemList:e.map((function(t){return t[1]})),success:function(t){var a=t.tapIndex;n(e[a][0])}}):n(e[0][0])},imageReset:function(){var t=this.sysinfo||uni.getSystemInfoSync();this.scale=1,this.angle=0,this.imageTop=t.windowHeight/2,this.imageLeft=t.windowWidth/2},imageLoad:function(t){this.imageReset(),uni.hideLoading(),this.$emit("ready",t.detail)},rotate:function(t){if(!this.isDisableRotate)if(this.image){var e=this.rotateAngle,a=this.angle,i=t.currentTarget.dataset.type;this.angle="along"===i?a+e:a-e,this.$emit("rotate",this.angle)}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},confirm:function(){var t=this;if(this.image){uni.showLoading({title:"\u52a0\u8f7d\u4e2d"});var e=this.canvasHeight,a=this.canvasWidth,i=this.clipHeight,n=this.clipWidth,r=this.ctx,s=this.scale,o=this.imageLeft,u=this.imageTop,c=this.clipX,l=this.clipY,d=this.angle,f=this.scaleRatio,p=this.image,h=this.quality,m=this.fileType,_=(this.type,this.canvasId),g=function(){var e=t.imageWidth*s*f,a=t.imageHeight*s*f,g=o-c,v=u-l;r.translate(g*f,v*f),r.rotate(d*Math.PI/180),r.drawImage(p,-e/2,-a/2,e,a),r.draw(!1,(function(){var e=n*f,a=i*f,r={x:0,y:0,width:e,height:a,destWidth:e,destHeight:a,canvasId:_,fileType:m,quality:h,success:function(e){s.url=e.tempFilePath,uni.hideLoading(),t.$emit("success",s),t.$emit("input",!1)},fail:function(e){t.$emit("fail",e),t.$emit("input",!1)}},s={url:"",width:e,height:a};uni.canvasToTempFilePath(r,t)}))};a!==n||e!==i?(this.canvasWidth=n,this.canvasHeight=i,r.draw(),this.$nextTick((function(){setTimeout((function(){g()}),100)}))):g()}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},cancel:function(){this.$emit("cancel",!1),this.$emit("input",!1)}}};e.default=u}).call(this,a("0de9")["default"])},"0fa3":function(t,e,a){"use strict";a.r(e);var i=a("5b0d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},1030:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"}')},"111b":function(t,e,a){"use strict";a.r(e);var i=a("76ad"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"115f":function(t,e,a){"use strict";a.r(e);var i=a("e091"),n=a("9adb");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"116d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),a("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(12,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{staticClass:t._$s(12,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:12},model:{value:t._$s(12,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:13}}),a("view",{staticClass:t._$s(14,"sc","uni-stat--x p-m"),attrs:{_i:14}},[a("view",{staticClass:t._$s(15,"sc","uni-stat-card-header"),attrs:{_i:15}}),a("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),a("view",{staticClass:t._$s(19,"sc","dispaly-grid"),attrs:{_i:19}},[a("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[a("view",{staticClass:t._$s(21,"sc","uni-stat-card-header"),attrs:{_i:21}},[a("view"),a("view",{staticClass:t._$s(23,"sc","uni-stat-card-header-link"),attrs:{_i:23},on:{click:function(e){return t.navTo("/pages/uni-stat/page-res/page-res")}}})]),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:24}},[a("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.resFieldsMap}),(function(e,i,n,r){return[t._$s("27-"+r,"i",e.title)?a("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"27-"+r}},[a("uni-tooltip",{attrs:{_i:"28-"+r},scopedSlots:t._u([t._$s("30-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("31-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"31-"+r+"-"+s}},[t._v(n._$s("31-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title))),t._$s("29-"+r,"i",e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"29-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(32,"f",{forItems:t.resTableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(32,"f",{forIndex:n,key:i}),attrs:{_i:"32-"+r}},[t._l(t._$s("33-"+r,"f",{forItems:t.resFieldsMap}),(function(i,n,s,o){return[t._$s("34-"+r+"-"+o,"i",i.title)?a("uni-td",{key:t._$s("33-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:0===n?"left":"center",_i:"34-"+r+"-"+o}},[t._v(t._$s("34-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)],1),a("view",{staticClass:t._$s(35,"sc","uni-stat--x uni-stat-card p-m"),attrs:{_i:35}},[a("view",{staticClass:t._$s(36,"sc","uni-stat-card-header"),attrs:{_i:36}},[a("view"),a("view",{staticClass:t._$s(38,"sc","uni-stat-card-header-link"),attrs:{_i:38},on:{click:function(e){return t.navTo("/pages/uni-stat/page-ent/page-ent")}}})]),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:39}},[a("uni-tr",{attrs:{_i:40}},[t._l(t._$s(41,"f",{forItems:t.entFieldsMap}),(function(e,i,n,r){return[t._$s("42-"+r,"i",e.title)?a("uni-th",{key:t._$s(41,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"42-"+r}},[a("uni-tooltip",{attrs:{_i:"43-"+r},scopedSlots:t._u([t._$s("45-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("46-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"46-"+r+"-"+s}},[t._v(n._$s("46-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("43-"+r,"t0-0",t._s(e.title))),t._$s("44-"+r,"i",e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"44-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(47,"f",{forItems:t.entTableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(47,"f",{forIndex:n,key:i}),attrs:{_i:"47-"+r}},[t._l(t._$s("48-"+r,"f",{forItems:t.entFieldsMap}),(function(i,n,s,o){return[t._$s("49-"+r+"-"+o,"i",i.title)?a("uni-td",{key:t._$s("48-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:0===n?"left":"center",_i:"49-"+r+"-"+o}},[t._v(t._$s("49-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)],1)])],1),a("fix-window",{attrs:{_i:50}})],1)},r=[]},"11a1":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("c2c8"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var a=this;e=(0,r.stringifyQuery)(this.query,null,["uni_platform"]);var i=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=(0,r.stringifyQuery)({appid:this.query.appid}),c=n.collection("uni-stat-pages").where(u).getTemp(),l=n.collection("uni-stat-page-result").where(e+" && entry_count > 0").getTemp();n.collection(l,c).field("".concat((0,r.stringifyField)(s.default),", stat_date, page_id")).groupBy("page_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("entry_count","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,n=e.data;a.options.total=i,a.tableData=[];var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.page_id;if(Array.isArray(d)){delete l.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var p in f)"_id"!==p&&(l[p]=f[p])}(0,r.mapfields)(s.default,l,l),a.tableData.push(l)}}catch(h){c.e(h)}finally{c.f()}})).catch((function(t){})).finally((function(){a.loading=!1}))},getPanelData:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),i=t.database();i.collection("uni-stat-page-result").where(a).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc ").get().then((function(t){var a=t.result.data[0];e.panelData=[],e.panelData=(0,r.mapfields)(s.default,a)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},"11b0":function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"11d2":function(t,e,a){"use strict";a.r(e);var i=a("9b17"),n=a("9a4a"),r=a("52fd"),s=a("e0e4"),o=a("68f3");e["default"]={en:i,es:n,fr:r,"zh-Hans":s,"zh-Hant":o}},1233:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=["pulldown","refreshempty","back","forward","more","more-filled","scan","qq","weibo","weixin","pengyouquan","loop","refresh","refresh-filled","arrowthindown","arrowthinleft","arrowthinright","arrowthinup","undo-filled","undo","redo","redo-filled","bars","chatboxes","camera","chatboxes-filled","camera-filled","cart-filled","cart","checkbox-filled","checkbox","arrowleft","arrowdown","arrowright","smallcircle-filled","arrowup","circle","eye-filled","eye-slash-filled","eye-slash","eye","flag-filled","flag","gear-filled","reload","gear","hand-thumbsdown-filled","hand-thumbsdown","hand-thumbsup-filled","heart-filled","hand-thumbsup","heart","home","info","home-filled","info-filled","circle-filled","chat-filled","chat","mail-open-filled","email-filled","mail-open","email","checkmarkempty","list","locked-filled","locked","map-filled","map-pin","map-pin-ellipse","map","minus-filled","mic-filled","minus","micoff","mic","clear","smallcircle","close","closeempty","paperclip","paperplane","paperplane-filled","person-filled","contact-filled","person","contact","images-filled","phone","images","image","image-filled","location-filled","location","plus-filled","plus","plusempty","help-filled","help","navigate-filled","navigate","mic-slash-filled","search","settings","sound","sound-filled","spinner-cycle","download-filled","personadd-filled","videocam-filled","personadd","upload","upload-filled","starhalf","star-filled","star","trash","phone-filled","compose","videocam","trash-filled","download","chatbubble-filled","chatbubble","cloud-download","cloud-upload-filled","cloud-upload","cloud-download-filled","headphones","shop"]},"12c4":function(t,e,a){"use strict";(function(t){var i=a("4ea4"),n=a("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("a34a")),s=i(a("9523")),o=i(a("c973")),u=(a("5680"),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var a=l(e);if(a&&a.has(t))return a.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,a&&a.set(t,i);return i}(a("b343"))),c=a("177f");function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(l=function(t){return t?a:e})(t)}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=t.database(),h=(p.command,c.appVersionListDbName);var m={mixins:[u.default],data:function(){return{latestVersion:"0.0.0",lastVersionId:"",uniFilePickerProvider:"unicloud",domain:""}},onLoad:function(t){var e=this;return(0,o.default)(r.default.mark((function a(){var i,n,s,o,u,c,l;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.appid,n=t.name,s=t.type,o=e.getCloudStorageConfig(),u=o.domain,c=o.provider,u&&(e.domain=u),c&&(e.uniFilePickerProvider=c),!(i&&s&&n)){a.next=14;break}return a.next=7,e.getStoreList(i);case 7:return l=a.sent,e.formData=f(f({},e.formData),{appid:i,name:n,type:s,store_list:l}),a.next=11,e.getDetail(i,s);case 11:e.latestStableData=a.sent,!e.isWGT&&e.latestStableData.length&&e.setFormData("Android"),e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 14:case"end":return a.stop()}}),a)})))()},onUnload:function(){this.setCloudStorage({provider:null})},watch:{isiOS:function(t){t||!this.hasPackage?this.formData.url="":this.formData.url=this.appFileList.url},"formData.platform":function(t){this.setFormData(t)},domain:function(t){this.setCloudStorage({domain:t}),this.formData.url&&(t||(t="\u8bf7\u8f93\u5165\u81ea\u5b9a\u4e49\u57df\u540d"),this.formData.url=this.formData.url.replace(/^(https?:\/\/)[^\/]+/,"$1".concat(t)))},uniFilePickerProvider:{immediate:!0,handler:function(t){this.setCloudStorage({provider:t})}}},methods:{setFormData:function(t){uni.showLoading({mask:!0}),this.latestVersion="0.0.0",this.lastVersionId="";var e=this.getData(this.latestStableData,t)[0];if(e){var a=e._id,i=e.version,n=e.name,r=e.platform,s=e.min_uni_version,o=e.url;this.lastVersionId=a,this.latestVersion=i,this.formData.name=n,this.isWGT?this.formData.min_uni_version=s:(delete this.formData.min_uni_version,this.formData.platform=r[0],this.isiOS&&(this.formData.url=o))}else this.isWGT&&(this.formData.min_uni_version="");uni.hideLoading()},submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate(["store_list"]).then((function(e){if(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";t=String(t).split("."),e=String(e).split(".");for(var a=Math.min(t.length,e.length),i=0,n=0;n<a;n++){var r=Number(t[n]),s=Number(e[n]);if(r>s){i=1;break}if(r<s){i=-1;break}}if(0===i&&t.length!==e.length)for(var o=t.length>e.length,u=o?t:e,c=a;c<u.length;c++){var l=Number(u[c]);if(l>0){i=o?1:-1;break}}return i}(t.latestVersion,e.version)>=0)throw uni.showModal({content:"\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\uff08".concat(t.latestVersion,"\uff09"),showCancel:!0}),new Error("\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5df2\u4e0a\u7ebf\u7248\u672c\uff08${this.latestVersion}\uff09");t.isWGT||(e.platform=[e.platform]),(t.isiOS||t.isWGT)&&delete e.store_list,e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;return(0,o.default)(r.default.mark((function a(){var i,n,s;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e.createCenterRecord(t),i=p.collection(h),n=[],e.isWGT){a.next=7;break}return a.next=6,e.getDetail(t.appid,t.type,e.createStatQuery(t));case 6:n=a.sent;case 7:n.length?(t.create_date=Date.now(),s=i.doc(n[0]._id).update(t)):s=i.add(t),s.then(function(){var a=(0,o.default)(r.default.mark((function a(n){return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.stable_publish||!e.lastVersionId){a.next=3;break}return a.next=3,i.doc(e.lastVersionId).update({stable_publish:!1});case 3:uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})),e.setCloudStorageConfig({provider:e.uniFilePickerProvider,domain:e.domain});case 10:case"end":return a.stop()}}),a)})))()},getDetail:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return uni.showLoading({mask:!0}),p.collection(h).where(Object.assign({appid:t,type:e,stable_publish:!0},a)).field(u.fields).get().then((function(t){return t.result.data})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return"string"===typeof e?t.filter((function(t){return t.platform.includes(e)})):t.filter((function(t){return t.platform.toString()===e.toString()}))},back:function(){var t=this;uni.showModal({title:"\u53d6\u6d88\u53d1\u5e03",content:this.hasPackage?"\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305":void 0,success:function(e){e.confirm&&(t.hasPackage&&t.deleteFile([t.appFileList.url]),uni.navigateBack())}})}}};e.default=m}).call(this,a("a9ff")["default"])},"130d":function(t,e,a){"use strict";a.r(e);var i=a("c63e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},1360:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resFieldsMap=e.fieldsMap=e.entFieldsMap=void 0;e.fieldsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u8bbe\u5907\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u8bbe\u5907\u8651\u91cd\u540e\u7ed3\u679c",value:0,contrast:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0,contrast:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,contrast:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.resFieldsMap=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u5165\u53e3\u9875\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u9875\u9762\u7684\u5165\u53e3\u9875\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}]},"136d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-file-picker"),attrs:{_i:0}},[t._$s(1,"i",t.title)?a("view",{staticClass:t._$s(1,"sc","uni-file-picker__header"),attrs:{_i:1}},[a("text",{staticClass:t._$s(2,"sc","file-title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))]),a("text",{staticClass:t._$s(3,"sc","file-count"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.filesList.length))+t._$s(3,"t0-1",t._s(t.limitLength)))])]):t._e(),t._$s(4,"i","image"===t.fileMediatype&&"grid"===t.showType)?a("upload-image",{attrs:{readonly:t.readonly,"image-styles":t.imageStyles,"files-list":t.filesList,limit:t.limitLength,disablePreview:t.disablePreview,delIcon:t.delIcon,_i:4},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[a("view",{staticClass:t._$s(6,"sc","is-add"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","icon-add"),attrs:{_i:7}}),a("view",{staticClass:t._$s(8,"sc","icon-add rotate"),attrs:{_i:8}})])],{_i:5})],2):t._e(),t._$s(9,"i","image"!==t.fileMediatype||"grid"!==t.showType)?a("upload-file",{attrs:{readonly:t.readonly,"list-styles":t.listStyles,"files-list":t.filesList,showType:t.showType,delIcon:t.delIcon,_i:9},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[a("button",{})],{_i:10})],2):t._e()],1)},n=[]},1377:function(t,e,a){"use strict";a.r(e);var i=a("9f4e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"13e8":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("26cb"),s=a("3390");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={data:function(){return{menus:[],userMenu:[],famliy:[]}},mixins:[t.mixinDatacom],props:{value:{type:String,default:""},activeTextColor:{type:String,default:"#42B983"},uniqueOpened:{type:Boolean,default:!1},staticMenu:{type:Array,default:function(){return[]}}},watch:{localdata:{handler:function(t){this.hasLocalData(t)&&(this.userMenu=t)},immediate:!0},$route:{immediate:!1,handler:function(t,e){if(t.fullPath!==e.fullPath){this.famliy=[];var a=this.menus.find((function(e){return e.value===t.path})),i=a&&a.menu_id;this.getMenuAncestor(i,this.menus),this.setRoutes&&this.setRoutes(this.famliy)}}}},created:function(){this.hasLocalData(this.localdata)||this.load()},methods:u(u({},(0,r.mapActions)({setRoutes:"app/setRoutes"})),{},{getUserMenu:function(e){var a=t.getCurrentUserInfo(),i=a.permission,n=a.role;return e.map((function(t){e.some((function(e){return e.parent_id===t.menu_id}))||(t.isLeafNode=!0)})),n.includes("admin")||(e=e.filter((function(t){return!t.isLeafNode||!(!t.permission||!t.permission.length)&&t.permission.some((function(t){return i.indexOf(t)>-1}))}))),(0,s.buildMenus)(e)},onSelect:function(t){this.famliy=[],this.getMenuAncestor(t.menu_id,this.menus),this.emit(t)},emit:function(t){this.$emit("select",t,this.famliy),this.$emit("input",t.value)},hasLocalData:function(t){return Array.isArray(t)&&t.length>0},load:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var a=e.result,i=a.data;a.count;t.menus=i,t.userMenu=t.getUserMenu(t.menus)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e})))},getMenuAncestor:function(t,e){var a=this;e.forEach((function(i){if(i.menu_id===t){var n={name:i.text},r=i.value;r&&(n.to={path:r}),a.famliy.unshift(n);var s=i.parent_id;s&&a.getMenuAncestor(s,e)}}))}})};e.default=c}).call(this,a("a9ff")["default"])},1469:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniCaptcha:a("b8af").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("uni-captcha",{ref:"captcha",attrs:{focus:t.focusCaptchaInput,scene:"send-sms-code",_i:1},model:{value:t._$s(1,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}),a("view",{staticClass:t._$s(2,"sc","box"),attrs:{_i:2}},[a("uni-easyinput",{staticClass:t._$s(3,"sc","input-box"),attrs:{focus:t.focusSmsCodeInput,type:"number",inputBorder:!1,maxlength:"6",clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",_i:3},on:{blur:function(e){t.focusSmsCodeInput=!1}},model:{value:t._$s(3,"v-model",t.modelValue),callback:function(e){t.modelValue=e},expression:"modelValue"}}),a("view",{staticClass:t._$s(4,"sc","short-code-btn"),attrs:{_i:4},on:{click:t.start}},[a("text",{staticClass:t._$s(5,"sc","inner-text"),class:t._$s(5,"c",0==t.reverseNumber?"inner-text-active":""),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.innerText)))])])],1)],1)},r=[]},"146d":function(t,e,a){"use strict";a.r(e);var i=a("4fc9"),n=a("97c3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},1484:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{}},onLoad:function(){},methods:{cancel:function(){uni.navigateBack()},nextStep:function(){uni.showModal({content:"\u5df2\u7ecf\u4ed4\u7ec6\u9605\u8bfb\u6ce8\u9500\u63d0\u793a\uff0c\u77e5\u6653\u53ef\u80fd\u5e26\u6765\u7684\u540e\u679c\uff0c\u5e76\u786e\u8ba4\u8981\u6ce8\u9500",complete:function(e){if(e.confirm){var a=t.importObject("uni-id-co");a.closeAccount().then((function(t){uni.showToast({title:"\u6ce8\u9500\u6210\u529f",duration:3e3}),uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"})}))}else uni.navigateBack()}})}}};e.default=a}).call(this,a("a9ff")["default"])},"14a0":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u786e\u5b9a","uni-popup.placeholder":"\u8bf7\u8f93\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},"153f":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniNoticeBar:a("6e1e").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button"),attrs:{_i:5},on:{click:t.search}})])],1),a("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","uni-stat--x flex p-1015"),attrs:{_i:7}},[a("uni-data-select",{ref:"appListRef",attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",label:"\u5e94\u7528\u9009\u62e9",_i:8},on:{change:t.search},model:{value:t._$s(8,"v-model",t.appid),callback:function(e){t.appid=e},expression:"appid"}})],1),a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"title,path,page_rules,appid",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",attrs:{loading:o,emptyText:t.errorMessage||u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,_i:"10-"+n}},[a("uni-tr",{attrs:{_i:"11-"+n}},[a("uni-th",{attrs:{align:"center",_i:"12-"+n}},[t._v("\u5e8f\u53f7")]),a("uni-th",{attrs:{align:"center","filter-type":"search",_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"title")}}},[t._v("\u9875\u9762\u6807\u9898")]),a("uni-th",{attrs:{align:"left","filter-type":"search",_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"path")}}},[t._v("\u9875\u9762URL")]),a("uni-th",{attrs:{align:"center","filter-type":"search",_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"appid")}}},[t._v("appid")]),a("uni-th",{attrs:{align:"center",_i:"16-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("17-"+n,"f",{forItems:r}),(function(e,r,o,u){return a("uni-tr",{key:i._$s("17-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"17-"+n+u}},[a("uni-td",{attrs:{align:"center",_i:"18-"+n+u}},[t._v(i._$s("18-"+n+u,"t0-0",t._s((s.current-1)*s.size+(r+1))))]),a("uni-td",{attrs:{align:"center",_i:"19-"+n+u}},[t._v(i._$s("19-"+n+u,"t0-0",t._s(e.title)))]),a("uni-td",{attrs:{align:"left",_i:"20-"+n+u}},[t._v(i._$s("20-"+n+u,"t0-0",t._s(e.path)))]),a("uni-td",{attrs:{align:"center",_i:"21-"+n+u}},[t._v(i._$s("21-"+n+u,"t0-0",t._s(e.appid)))]),a("uni-td",{attrs:{align:"center",_i:"22-"+n+u}},[a("view",{staticClass:i._$s("23-"+n+u,"sc","uni-group"),attrs:{_i:"23-"+n+u}},[a("button",{staticClass:i._$s("24-"+n+u,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"24-"+n+u},on:{click:function(a){return t.editRule(e)}}},[t._v("\u7f16\u8f91\u89c4\u5219")])])])],1)}))],2),a("view",{staticClass:i._$s("25-"+n,"sc","uni-pagination-box"),attrs:{_i:"25-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"26-"+n},on:{change:t.onPageChanged},model:{value:t._$s("26-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("uni-popup",{ref:"editRulePopup",attrs:{type:"center",_i:27}},[a("view",{staticClass:t._$s(28,"sc","edit-rule-popup"),attrs:{_i:28}},[a("view",{staticClass:t._$s(29,"sc","uni-title"),attrs:{_i:29}}),a("view",{staticClass:t._$s(30,"sc","edit-rule-popup-tips"),attrs:{_i:30}},[a("uni-notice-bar",{attrs:{"font-size":12,text:t.editRulePopup.tips,_i:31}})],1),a("view",{staticClass:t._$s(32,"sc","edit-rule-popup-list"),attrs:{_i:32}},t._l(t._$s(33,"f",{forItems:t.pageInfo.page_rules}),(function(e,i,n,r){return a("view",{key:t._$s(33,"f",{forIndex:n,key:i}),staticClass:t._$s("33-"+r,"sc","edit-rule-popup-item"),attrs:{_i:"33-"+r}},[a("view",{staticClass:t._$s("34-"+r,"sc","name"),attrs:{_i:"34-"+r}},[t._v(t._$s("34-"+r,"t0-0",t._s(t.pageInfo.page_rules.length-i)))]),a("view",{staticClass:t._$s("35-"+r,"sc","tags"),attrs:{_i:"35-"+r}},[t._l(t._$s("36-"+r,"f",{forItems:e}),(function(e,n,s,o){return a("view",{key:t._$s("36-"+r,"f",{forIndex:s,key:n}),staticClass:t._$s("36-"+r+"-"+o,"sc","tags-item tags-item-text"),attrs:{_i:"36-"+r+"-"+o}},[a("text",{staticClass:t._$s("37-"+r+"-"+o,"sc","text"),attrs:{_i:"37-"+r+"-"+o}},[t._v(t._$s("37-"+r+"-"+o,"t0-0",t._s(e)))]),a("uni-icons",{staticClass:t._$s("38-"+r+"-"+o,"sc","pointer"),attrs:{type:"closeempty",size:"12",color:"#42b983",_i:"38-"+r+"-"+o},on:{click:function(e){return t.deleteParamItem(i,n)}}})],1)})),a("view",{staticClass:t._$s("39-"+r,"sc","tags-item tags-item-add"),attrs:{_i:"39-"+r}},[t._$s("40-"+r,"i",t.editRulePopup.addParamInfo.index1===i&&t.editRulePopup.isAddParam)?a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.editRulePopup.addParamInfo.value,expression:"editRulePopup.addParamInfo.value",modifiers:{trim:!0}}],staticClass:t._$s("40-"+r,"sc","tags-item-add-input"),attrs:{focus:t._$s("40-"+r,"a-focus",t.editRulePopup.addParamInfo.index1===i&&t.editRulePopup.isAddParam),_i:"40-"+r},domProps:{value:t._$s("40-"+r,"v-model",t.editRulePopup.addParamInfo.value)},on:{blur:[function(e){return t.confirmAddParamItem(i)},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.editRulePopup.addParamInfo,"value",e.target.value.trim())}}}):a("button",{staticClass:t._$s("41-"+r,"sc","tags-item-add-btn"),attrs:{_i:"41-"+r},on:{click:function(e){return t.addParamItem(i)}}})])],2),a("view",{staticClass:t._$s("42-"+r,"sc","btn"),attrs:{_i:"42-"+r}},[t._$s("43-"+r,"i",0===i&&t.pageInfo.page_rules.length<5)?a("uni-icons",{staticClass:t._$s("43-"+r,"sc","pointer"),attrs:{type:"plus",size:"28",color:"#606266",_i:"43-"+r},on:{click:t.addRulesItem}}):a("uni-icons",{staticClass:t._$s("44-"+r,"sc","pointer"),attrs:{type:"minus",size:"28",color:"#606266",_i:"44-"+r},on:{click:function(e){return t.deleteRulesItem(i)}}})],1)])})),0),a("view",{staticClass:t._$s(45,"sc","edit-rule-popup-btn"),attrs:{_i:45}},[a("button",{staticClass:t._$s(46,"sc","uni-button btn"),attrs:{loading:t._$s(46,"a-loading",t.editRulePopup.loading),disabled:t._$s(46,"a-disabled",t.editRulePopup.loading),_i:46},on:{click:t.saveRule}}),a("button",{staticClass:t._$s(47,"sc","uni-button btn"),attrs:{_i:47},on:{click:t.closeEditRulePopup}})])])])],1)},r=[]},1562:function(t,e,a){"use strict";a.r(e);var i=a("9f0d"),n=a("eaac");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"159d":function(t,e,a){"use strict";a.r(e);var i=a("bcde"),n=a("089f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"42c10ec1",null,!1,i["a"],void 0);e["default"]=o.exports},1631:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("4bcb");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-roles").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-roles").doc(t).field("role_id,role_name,permission,comment,create_date").get().then((function(t){var a=t.result.data[0];a&&(e.formData=a)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,a("a9ff")["default"])},"166e":function(t,e,a){"use strict";a.r(e);var i=a("2707"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},1698:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_users",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_users/total_visit_users",computed:"visit_users/total_visit_users",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}]},1722:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),a("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),a("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:19}})],1)],1),a("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),a("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("fix-window",{attrs:{_i:24}})],1)},r=[]},"177f":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.appVersionListDbName=e.appListDbName=void 0,e.deepClone=function t(e){if([null,void 0,NaN,!1].includes(e))return e;if("object"!==(0,n.default)(e)&&"function"!==typeof e)return e;var a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&(a[i]="object"===(0,n.default)(e[i])?t(e[i]):e[i]);return a},e.defaultDisplayApp=void 0;var n=i(a("7037"));e.appListDbName="opendb-app-list";e.appVersionListDbName="opendb-app-versions";e.defaultDisplayApp=""},1897:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=u);break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={user_id:{rules:[{format:"string"}],label:"\u7528\u6237ID"},provider:{rules:[{format:"string"},{range:[{text:"\u5fae\u4fe1\u652f\u4ed8",value:"wxpay"},{text:"\u652f\u4ed8\u5b9d",value:"alipay"},{text:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8",value:"appleiap"}]}],label:"\u652f\u4ed8\u4f9b\u5e94\u5546"},provider_pay_type:{rules:[{format:"string"}],label:"\u652f\u4ed8\u65b9\u5f0f"},uni_platform:{rules:[{format:"string"}],label:"\u5e94\u7528\u5e73\u53f0"},status:{rules:[{format:"int"},{range:[{text:"\u5df2\u5173\u95ed",value:-1},{text:"\u672a\u652f\u4ed8",value:0},{text:"\u5df2\u652f\u4ed8",value:1},{text:"\u5df2\u90e8\u5206\u9000\u6b3e",value:2},{text:"\u5df2\u5168\u989d\u9000\u6b3e",value:3}]}],defaultValue:0,label:"\u8ba2\u5355\u72b6\u6001"},type:{rules:[{format:"string"}],label:"\u8ba2\u5355\u7c7b\u578b"},order_no:{rules:[{format:"string"},{minLength:20,maxLength:28}],label:"\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7"},out_trade_no:{rules:[{format:"string"}],label:"\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7"},transaction_id:{rules:[{format:"string"}],label:"\u4ea4\u6613\u5355\u53f7"},device_id:{rules:[{format:"string"}],label:"\u8bbe\u5907ID"},client_ip:{rules:[{format:"string"}],label:"\u5ba2\u6237\u7aefIP"},openid:{rules:[{format:"string"}],label:"openid"},description:{rules:[{format:"string"}],label:"\u652f\u4ed8\u63cf\u8ff0"},"err_msg ":{rules:[{format:"string"}],label:"\u652f\u4ed8\u5931\u8d25\u539f\u56e0"},total_fee:{rules:[{format:"int"}],label:"\u8ba2\u5355\u603b\u91d1\u989d"},refund_fee:{rules:[{format:"int"}],label:"\u8ba2\u5355\u603b\u9000\u6b3e\u91d1\u989d"},refund_count:{rules:[{format:"int"}],label:"\u5f53\u524d\u9000\u6b3e\u7b14\u6570"},refund_list:{rules:[{format:"array"}],label:"\u9000\u6b3e\u8be6\u60c5"},provider_appid:{rules:[{format:"string"}],label:"\u5f00\u653e\u5e73\u53f0appid"},appid:{rules:[{format:"string"}],label:"DCloud AppId"},user_order_success:{rules:[{format:"bool"}],label:"\u56de\u8c03\u72b6\u6001"},pay_date:{rules:[{format:"timestamp"}],label:"\u652f\u4ed8\u65f6\u95f4"},notify_date:{rules:[{format:"timestamp"}],label:"\u5f02\u6b65\u901a\u77e5\u65f6\u95f4"},cancel_date:{rules:[{format:"timestamp"}],label:"\u53d6\u6d88\u65f6\u95f4"}};e.enumConverter={provider_valuetotext:{wxpay:"\u5fae\u4fe1\u652f\u4ed8",alipay:"\u652f\u4ed8\u5b9d",appleiap:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8"},status_valuetotext:{0:"\u672a\u652f\u4ed8",1:"\u5df2\u652f\u4ed8",2:"\u5df2\u90e8\u5206\u9000\u6b3e",3:"\u5df2\u5168\u989d\u9000\u6b3e","-1":"\u5df2\u5173\u95ed"}}},"18b7":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("text",[this._v(this._$s(0,"t0-0",this._s(this.dateShow)))])},n=[]},"19a1":function(t,e,a){"use strict";a.r(e);var i=a("8fdf"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"19b1":function(t,e,a){"use strict";a.r(e);var i=a("d29f"),n=a("b161");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"1a25":function(t,e,a){"use strict";a.r(e);var i=a("77be"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"1a57":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-file-picker__container"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.filesList}),(function(e,i,n,r){return a("view",{key:t._$s(1,"f",{forIndex:n,key:i}),staticClass:t._$s("1-"+r,"sc","file-picker__box"),style:t._$s("1-"+r,"s",t.boxStyle),attrs:{_i:"1-"+r}},[a("view",{staticClass:t._$s("2-"+r,"sc","file-picker__box-content"),style:t._$s("2-"+r,"s",t.borderStyle),attrs:{_i:"2-"+r}},[a("image",{staticClass:t._$s("3-"+r,"sc","file-image"),attrs:{src:t._$s("3-"+r,"a-src",e.url),_i:"3-"+r},on:{click:function(a){return a.stopPropagation(),t.prviewImage(e,i)}}}),t._$s("4-"+r,"i",t.delIcon&&!t.readonly)?a("view",{staticClass:t._$s("4-"+r,"sc","icon-del-box"),attrs:{_i:"4-"+r},on:{click:function(e){return e.stopPropagation(),t.delFile(i)}}},[a("view",{staticClass:t._$s("5-"+r,"sc","icon-del"),attrs:{_i:"5-"+r}}),a("view",{staticClass:t._$s("6-"+r,"sc","icon-del rotate"),attrs:{_i:"6-"+r}})]):t._e(),t._$s("7-"+r,"i",e.progress&&100!==e.progress||0===e.progress)?a("view",{staticClass:t._$s("7-"+r,"sc","file-picker__progress"),attrs:{_i:"7-"+r}},[a("progress",{staticClass:t._$s("8-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("8-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("8-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"8-"+r}})]):t._e(),t._$s("9-"+r,"i",e.errMsg)?a("view",{staticClass:t._$s("9-"+r,"sc","file-picker__mask"),attrs:{_i:"9-"+r},on:{click:function(a){return a.stopPropagation(),t.uploadFiles(e,i)}}}):t._e()])])})),t._$s(10,"i",t.filesList.length<t.limit&&!t.readonly)?a("view",{staticClass:t._$s(10,"sc","file-picker__box"),style:t._$s(10,"s",t.boxStyle),attrs:{_i:10}},[a("view",{staticClass:t._$s(11,"sc","file-picker__box-content is-add"),style:t._$s(11,"s",t.borderStyle),attrs:{_i:11},on:{click:t.choose}},[t._t("default",[a("view",{staticClass:t._$s(13,"sc","icon-add"),attrs:{_i:13}}),a("view",{staticClass:t._$s(14,"sc","icon-add rotate"),attrs:{_i:14}})],{_i:12})],2)]):t._e()],2)},n=[]},"1ab7":function(t,e,a){"use strict";a.r(e);var i=a("3522"),n=a("2028");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"1b18":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesEmailForm:a("41bd").default,uniPopupCaptcha:a("e6c4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"email",_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusEmail,disabled:t.lock,inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:7},on:{blur:function(e){t.focusEmail=!1}},model:{value:t._$s(7,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("uni-forms-item",{attrs:{name:"code",_i:8}},[a("uni-id-pages-email-form",{ref:"shortCode",attrs:{email:t.formData.email,type:"reset-pwd-by-email",_i:9},model:{value:t._$s(9,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("uni-forms-item",{attrs:{name:"password",_i:10}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{attrs:{name:"password2",_i:12}},[a("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{focus:t.focusPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),a("button",{staticClass:t._$s(14,"sc","uni-btn send-btn-box"),attrs:{_i:14},on:{click:t.submit}}),a("uni-match-media",{attrs:{"min-width":690,_i:15}},[a("view",{staticClass:t._$s(16,"sc","link-box"),attrs:{_i:16}},[a("text",{staticClass:t._$s(17,"sc","link"),attrs:{_i:17},on:{click:t.retrieveByPhone}}),a("view"),a("text",{staticClass:t._$s(19,"sc","link"),attrs:{_i:19},on:{click:t.backLogin}})])])],1),a("uni-popup-captcha",{ref:"popup",attrs:{scene:"reset-pwd-by-sms",_i:20},on:{confirm:t.submit},model:{value:t._$s(20,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},"1cbe":function(t,e,a){"use strict";a.r(e);var i=a("2988"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"1cdc":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("c973")),s=i(a("7037")),o=a("220d"),u=function(t){return t?{name:"",extname:"",url:t}:{}};function c(t){var e={};for(var a in o.validator)t.includes(a)&&(e[a]=o.validator[a]);return e}var l=["mimarket","samsungapps","appmarket","oppomarket","vivomarket"],d=["xiaomi","samsung","huawei","oppo","vivo"],f={data:function(){var t={appid:"",name:"",icon_url:"",introduction:"",alias:"",description:"",screenshot:[],store_list:[],app_android:{},app_ios:{},mp_weixin:{},mp_alipay:{},mp_baidu:{},mp_toutiao:{},mp_qq:{},mp_lark:{},mp_kuaishou:{},mp_dingtalk:{},mp_jd:{},h5:{},quickapp:{}},e={formData:t,rules:Object.freeze(c(Object.keys(t))),mpPlatform:Object.freeze(o.mpPlatform),screenshotList:[],middleware_img:{},middleware_checkbox:{},appPackageInfo:{},appPlatformKeys:Object.freeze(["app_ios","app_android"]),appPlatformValues:Object.freeze({app_android:"Android",app_ios:"iOS"}),keepItems:Object.freeze([]),isEdit:!1,deletedStore:[]},a=Object.keys(o.mpPlatform);return e.mpPlatformKeys=Object.freeze(a),[].concat(a,["icon_url","quickapp"]).forEach((function(t){return e.middleware_img[t]={}})),e.platFormKeys=Object.freeze([].concat(a,e.appPlatformKeys)),e.platFormKeys.forEach((function(t){return e.middleware_checkbox[t]=!1})),e},methods:{requestCloudFunction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$request(t,e,{functionName:"uni-upgrade-center"})},hasValue:function(t){return"object"!==(0,s.default)(t)?!!t:t instanceof Array?!!t.length:!(!t||!Object.keys(t).length)},initFormData:function(t){if(t&&Object.keys(t).length)for(var e in t){var a=t[e];switch(e){case"icon_url":this.middleware_img[e]=u(a);break;case"screenshot":this.screenshotList=a.map((function(t){return u(t)}));break;default:-1===e.indexOf("mp")&&-1===e.indexOf("app")||!this.hasValue(a)||(this.setPlatformChcekbox(e,!0),a.qrcode_url&&(this.middleware_img[e]=u(a.qrcode_url)));break}this.setFormData(e,a)}},setFormData:function(t,e){var a=-1!==t.indexOf(".")?t.split("."):[t],i=a.length-1,n=this.formData;a.forEach((function(t,a){var r=n[t];"object"===(0,s.default)(r)&&a<i?n=r:n[t]=e}))},getFormData:function(t){for(var e=-1!==t.indexOf(".")?t.split("."):[t],a=(e.length,this.formData),i=0;i<e.length;i++){var n=e[i];if(a=a[n],null==a)return!1}return a},formatFormData:function(){var t=this;this.setFormData("screenshot",this.screenshotList.map((function(t){return t.fileID||t.url})));for(var e=0;e<this.formData.store_list.length;e++){var a=this.formData.store_list[e];if(0!==a.scheme.trim().length){var i=l.indexOf((a.scheme.match(/(.*):\/\//)||[])[1]);-1!==i&&(a.id!==d[i]&&this.deletedStore.push(a.id),a.id=d[i]),a.priority=parseFloat(a.priority)}else this.formData.store_list.splice(e,1),e--}this.keepItems=this.platFormKeys.filter((function(e){return t.getPlatformChcekbox(e)&&(t.formData[e].url||t.formData[e].qrcode_url)})).concat(["icon_url","screenshot","create_date","store_list"]),this.formData.h5&&this.formData.h5.url&&this.keepItems.push("h5")},autoFill:function(){var t=this,e=this.getFormData("appid");e&&(uni.showLoading({mask:!0}),this.requestCloudFunction("getAppInfo",{appid:e}).then((function(e){if(e.success)return t.setFormData("description",e.description),void t.setFormData("name",e.name)})).catch((function(t){})).finally((function(){uni.hideLoading()})))},autoFillApp:function(){var t=this,e=this.getFormData("appid");e&&this.appPlatformKeys.forEach((function(a){t.fetchAppInfo(e,t.appPlatformValues[a]).then((function(e){if(e&&e.success)return t.setPlatformChcekbox(a,!0),void t.setFormData(a,{name:e.name,url:e.url})}))}))},fetchAppInfo:function(t,e){return uni.showLoading({mask:!0}),this.requestCloudFunction("getAppVersionInfo",{appid:t,platform:e}).then((function(t){return t})).catch((function(t){})).finally((function(){uni.hideLoading()}))},iconUrlSuccess:function(t,e){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:500}),this.setFormData(e,t.tempFilePaths[0])},iconUrlDelete:function(t,e){var a=this;return(0,r.default)(n.default.mark((function i(){return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.requestCloudFunction("deleteFile",{fileList:[t.tempFile.fileID||t.tempFile.url]});case 2:if(i.sent,uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e){i.next=6;break}return i.abrupt("return");case 6:a.setFormData(e,""),a.$refs.form.clearValidate(e);case 8:case"end":return i.stop()}}),i)})))()},getPlatformChcekbox:function(t){return this.middleware_checkbox[t]},setPlatformChcekbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.middleware_checkbox[t]=e},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})}},computed:{hasPackage:function(){return this.appPackageInfo&&!!Object.keys(this.appPackageInfo).length}}};e.default=f}).call(this,a("0de9")["default"])},"1d06":function(t,e,a){"use strict";a.r(e);var i=a("fad3"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"1d9d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("e8ce"),n=a("6332").default||a("6332"),r={namespaced:!0,state:{inited:!1,navMenu:[],routes:[],theme:uni.getStorageSync(i.uniAdminCacheKey.theme)||"default",appName:"admin",appid:n&&n.appid||""},mutations:{SET_APP_NAME:function(t,e){t.appName=e},SET_NAV_MENU:function(t,e){t.inited=!0,t.navMenu=e},SET_ROUTES:function(t,e){t.routes=e},SET_THEME:function(t,e){uni.setStorageSync(i.uniAdminCacheKey.theme,e),t.theme=e}},actions:{init:function(t){t.commit;var e=t.dispatch;e("user/getUserInfo",null,{root:!0})},setAppName:function(t,e){var a=t.commit;a("SET_APP_NAME",e)},setRoutes:function(t,e){var a=t.commit;a("SET_ROUTES",e)}}};e.default=r},"1e30":function(t,e,a){"use strict";a.r(e);var i=a("1469"),n=a("8021");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"b8ac4d94",null,!1,i["a"],void 0);e["default"]=o.exports},"1e83":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniBreadcrumb:a("bcaa").default,uniBreadcrumbItem:a("e23a").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-x"),attrs:{_i:0}},[a("uni-breadcrumb",{attrs:{separator:"/",_i:1}},t._l(t._$s(2,"f",{forItems:t.routes}),(function(e,i,n,r){return a("uni-breadcrumb-item",{key:t._$s(2,"f",{forIndex:n,key:i}),attrs:{to:e.to&&e.to.path||"",_i:"2-"+r}},[t._v(t._$s("2-"+r,"t0-0",t._s(e.name)))])})),1)],1)},r=[]},"1f3d":function(t,e,a){"use strict";a.r(e);var i=a("eae8"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"1f5c":function(t,e,a){"use strict";a.r(e);var i=a("5115"),n=a("9fac");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},2028:function(t,e,a){"use strict";a.r(e);var i=a("ea5c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},2127:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={permission_id:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u6807\u8bc6"},permission_name:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u540d\u79f0"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"}};e.enumConverter={}},"220d":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=e.mpPlatform=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{required:!0},{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},icon_url:{rules:[{format:"string"}],label:"\u5e94\u7528\u56fe\u6807"},introduction:{rules:[{format:"string"}],label:"\u5e94\u7528\u7b80\u4ecb"},description:{rules:[{format:"string"}],label:"\u5e94\u7528\u63cf\u8ff0"},screenshot:{rules:[{format:"array"}],label:"\u5e94\u7528\u622a\u56fe"},create_date:{rules:[{format:"timestamp"}],label:"\u53d1\u884c\u65f6\u95f4"}};e.enumConverter={};e.mpPlatform={mp_weixin:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f",mp_alipay:"\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f",mp_baidu:"\u767e\u5ea6\u5c0f\u7a0b\u5e8f",mp_toutiao:"\u5b57\u8282\u5c0f\u7a0b\u5e8f",mp_qq:"QQ\u5c0f\u7a0b\u5e8f",mp_dingtalk:"\u9489\u9489\u5c0f\u7a0b\u5e8f",mp_kuaishou:"\u5feb\u624b\u5c0f\u7a0b\u5e8f",mp_lark:"\u98de\u4e66\u5c0f\u7a0b\u5e8f",mp_jd:"\u4eac\u4e1c\u5c0f\u7a0b\u5e8f",quickapp:"\u5feb\u5e94\u7528"}},2236:function(t,e,a){var i=a("5a43");t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"22cf":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[t._$s(1,"i",1==t.loadingType)?a("Loading1",{attrs:{_i:1}}):t._e(),t._$s(2,"i",2==t.loadingType)?a("Loading2",{attrs:{_i:2}}):t._e(),t._$s(3,"i",3==t.loadingType)?a("Loading3",{attrs:{_i:3}}):t._e(),t._$s(4,"i",4==t.loadingType)?a("Loading4",{attrs:{_i:4}}):t._e(),t._$s(5,"i",5==t.loadingType)?a("Loading5",{attrs:{_i:5}}):t._e()],1)},n=[]},2321:function(t,e,a){"use strict";a.r(e);var i=a("37a6"),n=a("7df5");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},2366:function(t,e,a){"use strict";a.r(e);var i=a("2b77"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"23a1":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=(n(a("b3af")),n(a("0ec9"))),o=(n(a("3015")),n(a("d107")));function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=t.importObject("uni-id-co"),d={mixins:[s.default],data:function(){return{formData:{email:"",nickname:"",password:"",password2:"",code:""},rules:c(c({email:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{format:"email",errorMessage:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,a,i){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&i("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&i("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"}},o.default.getPwdRules()),{},{code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e"}]}}),focusEmail:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){if(t.needAgreements&&!t.agree)return t.$refs.agreements.popup((function(){t.submitForm(e)}));t.submitForm(e)})).catch((function(e){var a=e[0].key;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))},submitForm:function(t){l.registerUserByEmail(this.formData).then((function(t){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd",complete:function(t){}})})).catch((function(t){t.message}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByUserName:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register"})}}};e.default=d}).call(this,a("a9ff")["default"],a("0de9")["default"])},"23b1":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={cloudImage:a("3735").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:t._$s(0,"sc","box"),class:t._$s(0,"c",{showBorder:t.border}),style:t._$s(0,"s",{width:t.width,height:t.height,lineHeight:t.height}),attrs:{_i:0},on:{chooseavatar:t.bindchooseavatar,click:t.uploadAvatarImg}},[t._$s(1,"i",t.avatar_file)?a("cloud-image",{attrs:{src:t.avatar_file.url,width:t.width,height:t.height,_i:1}}):a("uni-icons",{staticClass:t._$s(2,"sc","chooseAvatar"),style:t._$s(2,"s",{width:t.width,height:t.height,lineHeight:t.height}),attrs:{type:"plusempty",size:"30",color:"#dddddd",_i:2}})],1)},r=[]},"23e2":function(t,e,a){"use strict";a.r(e);var i=a("6d13"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"244d":function(t,e,a){"use strict";a.r(e);var i=a("9a16"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},2461:function(t,e,a){"use strict";a.r(e);var i=a("a240"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"24e4":function(t,e,a){"use strict";a.r(e);var i=a("f5a9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"24f9":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-file-picker__files"),attrs:{_i:0}},[t._$s(1,"i",!t.readonly)?a("view",{staticClass:t._$s(1,"sc","files-button"),attrs:{_i:1},on:{click:t.choose}},[t._t("default",null,{_i:2})],2):t._e(),t._$s(3,"i",t.list.length>0)?a("view",{staticClass:t._$s(3,"sc","uni-file-picker__lists is-text-box"),style:t._$s(3,"s",t.borderStyle),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.list}),(function(e,i,n,r){return a("view",{key:t._$s(4,"f",{forIndex:n,key:i}),staticClass:t._$s("4-"+r,"sc","uni-file-picker__lists-box"),class:t._$s("4-"+r,"c",{"files-border":0!==i&&t.styles.dividline}),style:t._$s("4-"+r,"s",0!==i&&t.styles.dividline&&t.borderLineStyle),attrs:{_i:"4-"+r}},[a("view",{staticClass:t._$s("5-"+r,"sc","uni-file-picker__item"),attrs:{_i:"5-"+r}},[a("view",{staticClass:t._$s("6-"+r,"sc","files__name"),attrs:{_i:"6-"+r}},[t._v(t._$s("6-"+r,"t0-0",t._s(e.name)))]),t._$s("7-"+r,"i",t.delIcon&&!t.readonly)?a("view",{staticClass:t._$s("7-"+r,"sc","icon-del-box icon-files"),attrs:{_i:"7-"+r},on:{click:function(e){return t.delFile(i)}}},[a("view",{staticClass:t._$s("8-"+r,"sc","icon-del icon-files"),attrs:{_i:"8-"+r}}),a("view",{staticClass:t._$s("9-"+r,"sc","icon-del rotate"),attrs:{_i:"9-"+r}})]):t._e()]),t._$s("10-"+r,"i",e.progress&&100!==e.progress||0===e.progress)?a("view",{staticClass:t._$s("10-"+r,"sc","file-picker__progress"),attrs:{_i:"10-"+r}},[a("progress",{staticClass:t._$s("11-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("11-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("11-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"11-"+r}})]):t._e(),t._$s("12-"+r,"i","error"===e.status)?a("view",{staticClass:t._$s("12-"+r,"sc","file-picker__mask"),attrs:{_i:"12-"+r},on:{click:function(a){return a.stopPropagation(),t.uploadFiles(e,i)}}}):t._e()])})),0):t._e()])},n=[]},2509:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIdPagesAvatar:a("9f26").default,uniList:a("62f6").default,uniListItem:a("097c").default,uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default,uniIdPagesBindMobile:a("2fc5").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","avatar"),attrs:{_i:1}},[a("uni-id-pages-avatar",{attrs:{width:"260rpx",height:"260rpx",_i:2}})],1),a("uni-list",{attrs:{_i:3}},[a("uni-list-item",{staticClass:t._$s(4,"sc","item"),attrs:{title:"\u6635\u79f0",rightText:t.userInfo.nickname||"\u672a\u8bbe\u7f6e",link:!0,_i:4},on:{click:function(e){return t.setNickname("")}}}),a("uni-list-item",{staticClass:t._$s(5,"sc","item"),attrs:{title:"\u624b\u673a\u53f7",rightText:t.userInfo.mobile||"\u672a\u7ed1\u5b9a",link:!0,_i:5},on:{click:t.bindMobile}}),t._$s(6,"i",t.userInfo.email)?a("uni-list-item",{staticClass:t._$s(6,"sc","item"),attrs:{title:"\u7535\u5b50\u90ae\u7bb1",rightText:t.userInfo.email,_i:6}}):t._e(),a("uni-list-item",{staticClass:t._$s(7,"sc","item"),attrs:{title:"\u5b9e\u540d\u8ba4\u8bc1",rightText:2!==t.realNameStatus?"\u672a\u8ba4\u8bc1":"\u5df2\u8ba4\u8bc1",link:!0,_i:7},on:{click:t.realNameVerify}}),t._$s(8,"i",t.hasPwd)?a("uni-list-item",{staticClass:t._$s(8,"sc","item"),attrs:{title:"\u4fee\u6539\u5bc6\u7801",link:!0,_i:8},on:{click:t.changePassword}}):t._e()],1),a("uni-list",{staticClass:t._$s(9,"sc","mt10"),attrs:{_i:9}},[a("uni-list-item",{attrs:{title:"\u6ce8\u9500\u8d26\u53f7",link:"navigateTo",_i:10},on:{click:t.deactivate}})],1),a("uni-popup",{ref:"dialog",attrs:{type:"dialog",_i:11}},[a("uni-popup-dialog",{attrs:{mode:"input",value:t.userInfo.nickname,inputType:t.setNicknameIng?"nickname":"text",title:"\u8bbe\u7f6e\u6635\u79f0",placeholder:"\u8bf7\u8f93\u5165\u8981\u8bbe\u7f6e\u7684\u6635\u79f0",_i:12},on:{confirm:t.setNickname}})],1),a("uni-id-pages-bind-mobile",{ref:"bind-mobile-by-sms",attrs:{_i:13},on:{success:t.bindMobileSuccess}}),t._$s(14,"i",t.showLoginManage)?[t._$s(15,"i",t.userInfo._id)?a("button",{attrs:{_i:15},on:{click:t.logout}}):a("button",{attrs:{_i:16},on:{click:t.login}})]:t._e()],2)},r=[]},"25a4":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniCaptcha:a("b8af").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("uni-captcha",{ref:"captcha",attrs:{focus:t.focusCaptchaInput,scene:"send-email-code",_i:1},model:{value:t._$s(1,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}),a("view",{staticClass:t._$s(2,"sc","box"),attrs:{_i:2}},[a("uni-easyinput",{staticClass:t._$s(3,"sc","input-box"),attrs:{focus:t.focusEmailCodeInput,type:"number",inputBorder:!1,maxlength:"6",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801",_i:3},on:{blur:function(e){t.focusEmailCodeInput=!1}},model:{value:t._$s(3,"v-model",t.modelValue),callback:function(e){t.modelValue=e},expression:"modelValue"}}),a("view",{staticClass:t._$s(4,"sc","short-code-btn"),attrs:{_i:4},on:{click:t.start}},[a("text",{staticClass:t._$s(5,"sc","inner-text"),class:t._$s(5,"c",0==t.reverseNumber?"inner-text-active":""),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.innerText)))])])],1)],1)},r=[]},"25dd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")},scroll:function(t){this.$emit("scroll",t)}}};e.default=i},"25f2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-content"),attrs:{_i:0}},[e("text",{staticClass:this._$s(1,"sc","words"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","button-group"),attrs:{_i:2}},[e("button",{staticClass:this._$s(3,"sc","next"),attrs:{_i:3},on:{click:this.nextStep}}),e("button",{attrs:{_i:4},on:{click:this.cancel}})])])},n=[]},"26cb":function(t,e,a){"use strict";(function(e){var a="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=a.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var a=function(t,e){return t.filter(e)[0]}(e,(function(e){return e.original===t}));if(a)return a.copy;var i=Array.isArray(t)?[]:{};return e.push({original:t,copy:i}),Object.keys(t).forEach((function(a){i[a]=n(t[a],e)})),i}function r(t,e){Object.keys(t).forEach((function(a){return e(t[a],a)}))}function s(t){return null!==t&&"object"===typeof t}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var a=t.state;this.state=("function"===typeof a?a():a)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.hasChild=function(t){return t in this._children},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){r(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,u);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,a){return e=e.getChild(a),t+(e.namespaced?a+"/":"")}),"")},c.prototype.update=function(t){(function t(e,a,i){0;if(a.update(i),i.modules)for(var n in i.modules){if(!a.getChild(n))return void 0;t(e.concat(n),a.getChild(n),i.modules[n])}})([],this.root,t)},c.prototype.register=function(t,e,a){var i=this;void 0===a&&(a=!0);var n=new o(e,a);if(0===t.length)this.root=n;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],n)}e.modules&&r(e.modules,(function(e,n){i.register(t.concat(n),e,a)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),a=t[t.length-1],i=e.getChild(a);i&&i.runtime&&e.removeChild(a)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),a=t[t.length-1];return!!e&&e.hasChild(a)};var l;var d=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!==typeof window&&window.Vue&&y(window.Vue);var a=t.plugins;void 0===a&&(a=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var r=this,s=this.dispatch,o=this.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,a){return o.call(r,t,e,a)},this.strict=n;var u=this._modules.root.state;_(this,u,[],this._modules.root),m(this,u),a.forEach((function(t){return t(e)}));var d=void 0!==t.devtools?t.devtools:l.config.devtools;d&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function p(t,e,a){return e.indexOf(t)<0&&(a&&a.prepend?e.unshift(t):e.push(t)),function(){var a=e.indexOf(t);a>-1&&e.splice(a,1)}}function h(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var a=t.state;_(t,a,[],t._modules.root,!0),m(t,a,e)}function m(t,e,a){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var n=t._wrappedGetters,s={};r(n,(function(e,a){s[a]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,a,{get:function(){return t._vm[a]},enumerable:!0})}));var o=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:s}),l.config.silent=o,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),i&&(a&&t._withCommit((function(){i._data.$$state=null})),l.nextTick((function(){return i.$destroy()})))}function _(t,e,a,i,n){var r=!a.length,s=t._modules.getNamespace(a);if(i.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=i),!r&&!n){var o=g(e,a.slice(0,-1)),u=a[a.length-1];t._withCommit((function(){l.set(o,u,i.state)}))}var c=i.context=function(t,e,a){var i=""===e,n={dispatch:i?t.dispatch:function(a,i,n){var r=v(a,i,n),s=r.payload,o=r.options,u=r.type;return o&&o.root||(u=e+u),t.dispatch(u,s)},commit:i?t.commit:function(a,i,n){var r=v(a,i,n),s=r.payload,o=r.options,u=r.type;o&&o.root||(u=e+u),t.commit(u,s,o)}};return Object.defineProperties(n,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var a={},i=e.length;Object.keys(t.getters).forEach((function(n){if(n.slice(0,i)===e){var r=n.slice(i);Object.defineProperty(a,r,{get:function(){return t.getters[n]},enumerable:!0})}})),t._makeLocalGettersCache[e]=a}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return g(t.state,a)}}}),n}(t,s,a);i.forEachMutation((function(e,a){var i=s+a;(function(t,e,a,i){var n=t._mutations[e]||(t._mutations[e]=[]);n.push((function(e){a.call(t,i.state,e)}))})(t,i,e,c)})),i.forEachAction((function(e,a){var i=e.root?a:s+a,n=e.handler||e;(function(t,e,a,i){var n=t._actions[e]||(t._actions[e]=[]);n.push((function(e){var n=a.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return function(t){return t&&"function"===typeof t.then}(n)||(n=Promise.resolve(n)),t._devtoolHook?n.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):n}))})(t,i,n,c)})),i.forEachGetter((function(e,a){var i=s+a;(function(t,e,a,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return a(i.state,i.getters,t.state,t.getters)}})(t,i,e,c)})),i.forEachChild((function(i,r){_(t,e,a.concat(r),i,n)}))}function g(t,e){return e.reduce((function(t,e){return t[e]}),t)}function v(t,e,a){return s(t)&&t.type&&(a=e,e=t,t=t.type),{type:t,payload:e,options:a}}function y(t){l&&t===l||(l=t,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var a=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,a.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(l))}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},d.prototype.commit=function(t,e,a){var i=this,n=v(t,e,a),r=n.type,s=n.payload,o=(n.options,{type:r,payload:s}),u=this._mutations[r];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(o,i.state)})))},d.prototype.dispatch=function(t,e){var a=this,i=v(t,e),n=i.type,r=i.payload,s={type:n,payload:r},o=this._actions[n];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,a.state)}))}catch(c){0}var u=o.length>1?Promise.all(o.map((function(t){return t(r)}))):o[0](r);return new Promise((function(t,e){u.then((function(e){try{a._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,a.state)}))}catch(c){0}t(e)}),(function(t){try{a._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,a.state,t)}))}catch(c){0}e(t)}))}))}},d.prototype.subscribe=function(t,e){return p(t,this._subscribers,e)},d.prototype.subscribeAction=function(t,e){var a="function"===typeof t?{before:t}:t;return p(a,this._actionSubscribers,e)},d.prototype.watch=function(t,e,a){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,a)},d.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},d.prototype.registerModule=function(t,e,a){void 0===a&&(a={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),_(this,this.state,t,this._modules.get(t),a.preserveState),m(this,this.state)},d.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var a=g(e.state,t.slice(0,-1));l.delete(a,t[t.length-1])})),h(this)},d.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},d.prototype[[104,111,116,85,112,100,97,116,101].map((function(t){return String.fromCharCode(t)})).join("")]=function(t){this._modules.update(t),h(this,!0)},d.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(d.prototype,f);var b=k((function(t,e){var a={};return $(e).forEach((function(e){var i=e.key,n=e.val;a[i]=function(){var e=this.$store.state,a=this.$store.getters;if(t){var i=D(this.$store,"mapState",t);if(!i)return;e=i.context.state,a=i.context.getters}return"function"===typeof n?n.call(this,e,a):e[n]},a[i].vuex=!0})),a})),x=k((function(t,e){var a={};return $(e).forEach((function(e){var i=e.key,n=e.val;a[i]=function(){var e=[],a=arguments.length;while(a--)e[a]=arguments[a];var i=this.$store.commit;if(t){var r=D(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"===typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}})),a})),w=k((function(t,e){var a={};return $(e).forEach((function(e){var i=e.key,n=e.val;n=t+n,a[i]=function(){if(!t||D(this.$store,"mapGetters",t))return this.$store.getters[n]},a[i].vuex=!0})),a})),C=k((function(t,e){var a={};return $(e).forEach((function(e){var i=e.key,n=e.val;a[i]=function(){var e=[],a=arguments.length;while(a--)e[a]=arguments[a];var i=this.$store.dispatch;if(t){var r=D(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"===typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}})),a}));function $(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function k(t){return function(e,a){return"string"!==typeof e?(a=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,a)}}function D(t,e,a){var i=t._modulesNamespaceMap[a];return i}function S(t,e,a){var i=a?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function T(t){try{t.groupEnd()}catch(e){t.log("\u2014\u2014 log end \u2014\u2014")}}function O(){var t=new Date;return" @ "+P(t.getHours(),2)+":"+P(t.getMinutes(),2)+":"+P(t.getSeconds(),2)+"."+P(t.getMilliseconds(),3)}function P(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t}var M={Store:d,install:y,version:"3.6.2",mapState:b,mapMutations:x,mapGetters:w,mapActions:C,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:w.bind(null,t),mapMutations:x.bind(null,t),mapActions:C.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var a=t.filter;void 0===a&&(a=function(t,e,a){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var o=t.actionTransformer;void 0===o&&(o=function(t){return t});var u=t.logMutations;void 0===u&&(u=!0);var c=t.logActions;void 0===c&&(c=!0);var l=t.logger;return void 0===l&&(l=console),function(t){var d=n(t.state);"undefined"!==typeof l&&(u&&t.subscribe((function(t,s){var o=n(s);if(a(t,d,o)){var u=O(),c=r(t),f="mutation "+t.type+u;S(l,f,e),l.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),l.log("%c mutation","color: #03A9F4; font-weight: bold",c),l.log("%c next state","color: #4CAF50; font-weight: bold",i(o)),T(l)}d=o})),c&&t.subscribeAction((function(t,a){if(s(t,a)){var i=O(),n=o(t),r="action "+t.type+i;S(l,r,e),l.log("%c action","color: #03A9F4; font-weight: bold",n),T(l)}})))}}};t.exports=M}).call(this,a("c8ba"))},2707:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup:function(t){}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop:function(){return this.popupWidth>=500&&this.popupHeight>=500},bg:function(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted:function(){var t=this;(function(){var e=uni.getSystemInfoSync(),a=e.windowWidth,i=e.windowHeight,n=e.windowTop,r=e.safeArea,s=(e.screenHeight,e.safeAreaInsets);t.popupWidth=a,t.popupHeight=i+(n||0),r&&t.safeArea?t.safeAreaInsets=s.bottom:t.safeAreaInsets=0})()},destroyed:function(){this.setH5Visible()},created:function(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible:function(){},closeMask:function(){this.maskShow=!1},disableMask:function(){this.mkclick=!1},clear:function(t){t.stopPropagation(),this.clearPropagation=!0},open:function(t){if(!this.showPopup){t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)||(t=this.type),this.config[t]&&(this[this.config[t]](),this.$emit("change",{show:!0,type:t}))}},close:function(t){var e=this;this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((function(){e.showPopup=!1}),300)},touchstart:function(){this.clearPropagation=!1},onTap:function(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top:function(t){var e=this;this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((function(){e.messageChild&&"message"===e.type&&e.messageChild.timerClose()})))},bottom:function(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center:function(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left:function(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right:function(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}};e.default=a}).call(this,a("0de9")["default"])},"273f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-tooltip",data:function(){return{}},props:{content:{type:String,default:""},placement:{type:String,default:"bottom"}}};e.default=i},"278c":function(t,e,a){var i=a("c135"),n=a("9b42"),r=a("6613"),s=a("c240");t.exports=function(t,e){return i(t)||n(t,e)||r(t,e)||s()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"27a0":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-window"),attrs:{_i:0}},[a("top-window",{staticClass:t._$s(1,"sc","fix-window-top"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","fix-window-button"),attrs:{_i:2},on:{click:t.tiggerWindow}}),a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(3,"v-show",t.visible),expression:"_$s(3,'v-show',visible)"}],staticClass:t._$s(3,"sc","fix-window--mask"),attrs:{_i:3},on:{click:t.tiggerWindow}}),a("left-window",{directives:[{name:"show",rawName:"v-show",value:t._$s(4,"v-show",t.visible),expression:"_$s(4,'v-show',visible)"}],staticClass:t._$s(4,"sc","fix-window--popup"),attrs:{_i:4}})],1)},n=[]},2820:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTooltip:a("0179").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--sum-x mb-m"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.items}),(function(e,i,n,r){return a("view",{key:t._$s(1,"f",{forIndex:n,key:i}),staticClass:t._$s("1-"+r,"sc","uni-stat--sum-item"),class:t._$s("1-"+r,"c",["\u4eca\u5929"===e.value?"uni-stat--sum-item-width":""]),attrs:{_i:"1-"+r}},[a("uni-tooltip",{attrs:{_i:"2-"+r},scopedSlots:t._u([t._$s("5-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("6-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"6-"+r+"-"+s}},[t._v(n._$s("6-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[a("view",{staticClass:t._$s("3-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"3-"+r}},[t._v(t._$s("3-"+r,"t0-0",t._s(e.title?e.title:""))),t._$s("4-"+r,"i",e.title)?a("uni-icons",{staticClass:t._$s("4-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"4-"+r}}):t._e()],1)]),a("view",{staticClass:t._$s("7-"+r,"sc","uni-stat--sum-item-value"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.value?e.value:0)))]),t._$s("8-"+r,"i",t.contrast)?a("view",{staticClass:t._$s("8-"+r,"sc","uni-stat--sum-item-contrast"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(e.contrast?e.contrast:0)))]):t._e()],1)})),0)},r=[]},"28b3":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("7037")),s=i(a("c973")),o=i(a("e4cc"));function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={name:"downloadExcel",props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:function(){return null}},exportFields:{type:Object,default:function(){return null}},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:function(){return[]}},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName:function(){var t=(new Date).getTime();return"export_"+t},downloadFields:function(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{generate:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var a,i;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof t.beforeGenerate){e.next=3;break}return e.next=3,t.beforeGenerate();case 3:if(a=t.data,"function"!==typeof t.fetch&&a){e.next=8;break}return e.next=7,t.fetch();case 7:a=e.sent;case 8:if(a&&a.length){e.next=10;break}return e.abrupt("return");case 10:if(i=t.getProcessedJson(a,t.downloadFields),"html"!==t.type){e.next=15;break}return e.abrupt("return",t.export(t.jsonToXLS(i),t.name.replace(".xls",".html"),"text/html"));case 15:if("csv"!==t.type){e.next=17;break}return e.abrupt("return",t.export(t.jsonToCSV(i),t.name.replace(".xls",".csv"),"application/csv"));case 17:return e.abrupt("return",t.export(t.jsonToXLS(i),t.name,"application/vnd.ms-excel"));case 18:case"end":return e.stop()}}),e)})))()},export:function(){var t=(0,s.default)(n.default.mark((function t(e,a,i){var r;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=this.base64ToBlob(e,i),"function"!==typeof this.beforeFinish){t.next=4;break}return t.next=4,this.beforeFinish();case 4:(0,o.default)(r,a,i);case 5:case"end":return t.stop()}}),t,this)})));return function(e,a,i){return t.apply(this,arguments)}}(),jsonToXLS:function(t){var e="<thead>",a=Object.keys(t[0]).length,i=this,n=this.header||this.$attrs.title;for(var r in n&&(e+=this.parseExtraData(n,'<tr><th colspan="'+a+'">${data}</th></tr>')),e+="<tr>",t[0])e+="<th>"+r+"</th>";return e+="</tr>",e+="</thead>",e+="<tbody>",t.map((function(t,a){for(var n in e+="<tr>",t)e+="<td>"+i.preprocessLongNum(i.valueReformattedForMultilines(t[n]))+"</td>";e+="</tr>"})),e+="</tbody>",null!=this.footer&&(e+="<tfoot>",e+=this.parseExtraData(this.footer,'<tr><td colspan="'+a+'">${data}</td></tr>'),e+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",e).replace("${worksheet}",this.worksheet)},jsonToCSV:function(t){var e=this,a=[],i=this.header||this.$attrs.title;for(var n in i&&a.push(this.parseExtraData(i,"${data}\r\n")),t[0])a.push(n),a.push(",");return a.pop(),a.push("\r\n"),t.map((function(t){for(var i in t){var n=t[i]+"";e.escapeCsv&&(n='="'+n+'"',n.match(/[,"\n]/)&&(n='"'+n.replace(/\"/g,'""')+'"')),a.push(n),a.push(",")}a.pop(),a.push("\r\n")})),null!=this.footer&&a.push(this.parseExtraData(this.footer,"${data}\r\n")),a.join("")},getProcessedJson:function(t,e){var a=this.getKeys(t,e),i=[],n=this;return t.map((function(t,e){var r={};for(var s in a){var o=a[s];r[s]=n.getValue(o,t)}i.push(r)})),i},getKeys:function(t,e){if(e)return e;var a={};for(var i in t[0])a[i]=i;return a},parseExtraData:function(t,e){var a="";if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&(a+=e.replace("${data}",t[i]));else a+=e.replace("${data}",t);return a},getValue:function(t,e){var a="object"!==(0,r.default)(t)?t:t.field,i="string"!==typeof a?[]:a.split("."),n=this.defaultValue;return n=a?i.length>1?this.getValueFromNestedItem(e,i):this.parseValue(e[a]):e,t.hasOwnProperty("callback")&&(n=this.getValueFromCallback(n,t.callback)),n},valueReformattedForMultilines:function(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum:function(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem:function(t,e){var a,i=t,n=u(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;i&&(i=i[r])}}catch(s){n.e(s)}finally{n.f()}return this.parseValue(i)},getValueFromCallback:function(t,e){if("function"!==typeof e)return this.defaultValue;var a=e(t);return this.parseValue(a)},parseValue:function(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob:function(t,e){var a=window.btoa(window.unescape(encodeURIComponent(t))),i=atob(a),n=i.length,r=new Uint8ClampedArray(n);while(n--)r[n]=i.charCodeAt(n);return new Blob([r],{type:e})}}};e.default=l},2924:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("7037")),s=i(a("9523")),o=i(a("c973")),u={name:"uniFormsItem",options:{virtualHost:!0},provide:function(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:function(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:function(){return{errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg}},watch:{"form.formRules":function(t){this.init()},"form.labelWidth":function(t){this.localLabelWidth=this._labelWidthUnit(t)},"form.labelPosition":function(t){this.localLabelPos=this._labelPosition()},"form.labelAlign":function(t){}},created:function(){var t=this;this.init(!0),this.name&&this.form&&this.$watch((function(){var e=t.form._getDataValue(t.name,t.form.localData);return e}),(function(e,a){var i=t.form._isEqual(e,a);if(!i){var n=t.itemSetValue(e);t.onFieldChange(n,!1)}}),{immediate:!1})},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{setRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.userRules=t,this.init(!1)},setValue:function(){},onFieldChange:function(t){var e=arguments,a=this;return(0,o.default)(n.default.mark((function i(){var r,o,u,c,l,d,f,p,h,m,_,g;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=!(e.length>1&&void 0!==e[1])||e[1],o=a.form,u=o.formData,o.localData,c=o.errShowType,l=o.validateCheck,d=o.validateTrigger,f=o._isRequiredField,p=o._realName,h=p(a.name),t||(t=a.form.formData[h]),m=a.itemRules.rules&&a.itemRules.rules.length,a.validator&&m&&0!==m){i.next=7;break}return i.abrupt("return");case 7:if(_=f(a.itemRules.rules||[]),g=null,"bind"!==d&&!r){i.next=18;break}return i.next=12,a.validator.validateUpdate((0,s.default)({},h,t),u);case 12:g=i.sent,_||void 0!==t&&""!==t||(g=null),g&&g.errorMessage?("undertext"===c&&(a.errMsg=g?g.errorMessage:""),"toast"===c&&uni.showToast({title:g.errorMessage||"\u6821\u9a8c\u9519\u8bef",icon:"none"}),"modal"===c&&uni.showModal({title:"\u63d0\u793a",content:g.errorMessage||"\u6821\u9a8c\u9519\u8bef"})):a.errMsg="",l(g||null),i.next=19;break;case 18:a.errMsg="";case 19:return i.abrupt("return",g||null);case 20:case"end":return i.stop()}}),i)})))()},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.form||{},a=e.validator,i=e.formRules,n=e.childrens,s=(e.formData,e.localData),o=e._realName,u=e.labelWidth,c=e._getDataValue;e._setDataValue;if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(u),this.localLabelPos=this._labelPosition(),this.form&&t&&n.push(this),a&&i){this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;var l=o(this.name),d=this.userRules||this.rules;"object"===(0,r.default)(i)&&d&&(i[l]={rules:d},a.updateSchema(i));var f=i[l]||{};this.itemRules=f,this.validator=a,this.itemSetValue(c(this.name,s))}},unInit:function(){var t=this;if(this.form){var e=this.form,a=e.childrens,i=e.formData,n=e._realName;a.forEach((function(e,a){e===t&&(t.form.childrens.splice(a,1),delete i[n(e.name)])}))}},itemSetValue:function(t){var e=this.form._realName(this.name),a=this.itemRules.rules||[],i=this.form._getValue(e,t,a);return this.form._setDataValue(e,this.form.formData,i),i},clearValidate:function(){this.errMsg=""},_isRequired:function(){return this.required},_justifyContent:function(){if(this.form){var t=this.form.labelAlign,e=this.labelAlign?this.labelAlign:t;if("left"===e)return"flex-start";if("center"===e)return"center";if("right"===e)return"flex-end"}return"flex-start"},_labelWidthUnit:function(t){return this.num2px(this.labelWidth?this.labelWidth:t||(this.label?65:"auto"))},_labelPosition:function(){return this.form&&this.form.labelPosition||"left"},isTrigger:function(t,e,a){return"submit"!==t&&t?"bind":void 0===t?"bind"!==e?e?"submit":""===a?"bind":"submit":"bind":"submit"},num2px:function(t){return"number"===typeof t?"".concat(t,"px"):t}}};e.default=u},2955:function(t,e,a){t.exports=a.p+"static/img/photo.bb72ed3e.svg"},"295f":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("c982"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_user",fields:[{_id:"new_user",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_user",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[],errorMessage:""}},computed:{fieldsMap:function(){var t="active_user"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,s.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(a){a._id===t.field&&(e=a.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){return[1,2,3,4,5,6,7,14,30].map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,a){var i=this;e&&(t=t.filter((function(t){return t.field===e}))),a&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(a)})));var n=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(i.field,".").concat(t.field,".user_count as ").concat("temp_"+t.field)})).join();return n},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user_count",e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,n=e||[1,2,3,4,5,6,7,14,30],r="d",s=this.fields.map((function(t){return t._id}));a=a||s;var o=n.map((function(e){return a.map((function(a){return"retention.".concat(a,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));i&&o.push(i);var u=o.join();return u},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.key,this.keyName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);this.createStr("user_count",[i],[this.field]);var n=t.database();n.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(i)),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap,"d_".concat(i))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,n=t.result,s=(n.count,n.data),u={categories:[],series:[{name:"".concat(i,"\u5929\u540e").concat(a.fieldName),data:[]}]},c=o(s);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=(0,r.formatDate)(l.start_time,"day"),f=l["d_".concat(i)];u.series[0].data.push(f),u.categories.push(d)}}catch(p){c.e(p)}finally{c.f()}a.chartData=u})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this,i=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.field+"_count";this.createStr("user_rate","",[this.field],n);this.loading=!0;var s=t.database();s.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,n=i.count,s=i.data,u=o(s);try{for(u.s();!(e=u.n()).done;){var c=e.value;(0,r.mapfields)(a.fieldsMap,c,c)}}catch(l){u.e(l)}finally{u.f()}a.options.total=n,a.tableData=[],a.tableData=s})).catch((function(t){})).finally((function(){a.loading=!1}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},2964:function(t,e,a){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(a){return e.resolve(t()).then((function(){return a}))}),(function(a){return e.resolve(t()).then((function(){throw a}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var i=uni.requireGlobal();ArrayBuffer=i.ArrayBuffer,Int8Array=i.Int8Array,Uint8Array=i.Uint8Array,Uint8ClampedArray=i.Uint8ClampedArray,Int16Array=i.Int16Array,Uint16Array=i.Uint16Array,Int32Array=i.Int32Array,Uint32Array=i.Uint32Array,Float32Array=i.Float32Array,Float64Array=i.Float64Array,BigInt64Array=i.BigInt64Array,BigUint64Array=i.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(a("e998").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-withpwd",(function(){return Vue.extend(a("37f2").default)})),__definePage("pages/error/404",(function(){return Vue.extend(a("6cb1").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",(function(){return Vue.extend(a("bac9").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/list",(function(){return Vue.extend(a("e497").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/add",(function(){return Vue.extend(a("e71c").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/detail",(function(){return Vue.extend(a("d0b6").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate",(function(){return Vue.extend(a("9ffc").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/userinfo",(function(){return Vue.extend(a("2bd0").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile",(function(){return Vue.extend(a("52ee").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/cropImage/cropImage",(function(){return Vue.extend(a("ad39").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-smscode",(function(){return Vue.extend(a("b735").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-withoutpwd",(function(){return Vue.extend(a("5ee0").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register",(function(){return Vue.extend(a("146d").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register-admin",(function(){return Vue.extend(a("d12b").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register-by-email",(function(){return Vue.extend(a("f092").default)})),__definePage("uni_modules/uni-id-pages/pages/retrieve/retrieve",(function(){return Vue.extend(a("ff02").default)})),__definePage("uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email",(function(){return Vue.extend(a("0c4d").default)})),__definePage("uni_modules/uni-id-pages/pages/common/webview/webview",(function(){return Vue.extend(a("f9e2").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd",(function(){return Vue.extend(a("159d").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify",(function(){return Vue.extend(a("c92a").default)})),__definePage("pages/system/menu/list",(function(){return Vue.extend(a("db3d").default)})),__definePage("pages/system/menu/add",(function(){return Vue.extend(a("9d3e").default)})),__definePage("pages/system/menu/edit",(function(){return Vue.extend(a("94e7").default)})),__definePage("pages/system/permission/list",(function(){return Vue.extend(a("5366").default)})),__definePage("pages/system/permission/add",(function(){return Vue.extend(a("c8de").default)})),__definePage("pages/system/permission/edit",(function(){return Vue.extend(a("b0a2").default)})),__definePage("pages/system/role/add",(function(){return Vue.extend(a("ef93").default)})),__definePage("pages/system/role/edit",(function(){return Vue.extend(a("9fe7").default)})),__definePage("pages/system/role/list",(function(){return Vue.extend(a("7ee6").default)})),__definePage("pages/system/user/add",(function(){return Vue.extend(a("8907").default)})),__definePage("pages/system/user/edit",(function(){return Vue.extend(a("404c").default)})),__definePage("pages/system/user/list",(function(){return Vue.extend(a("88b3").default)})),__definePage("pages/system/app/add",(function(){return Vue.extend(a("df0e").default)})),__definePage("pages/system/app/list",(function(){return Vue.extend(a("0f37").default)})),__definePage("pages/system/app/uni-portal/uni-portal",(function(){return Vue.extend(a("56cc").default)})),__definePage("pages/system/tag/add",(function(){return Vue.extend(a("2a67").default)})),__definePage("pages/system/tag/edit",(function(){return Vue.extend(a("ed67").default)})),__definePage("pages/system/tag/list",(function(){return Vue.extend(a("e4ac").default)})),__definePage("pages/system/safety/list",(function(){return Vue.extend(a("4a1e").default)})),__definePage("pages/demo/icons/icons",(function(){return Vue.extend(a("a138").default)})),__definePage("pages/demo/table/table",(function(){return Vue.extend(a("365d").default)})),__definePage("pages/uni-stat/page-res/page-res",(function(){return Vue.extend(a("7a68").default)})),__definePage("pages/uni-stat/page-ent/page-ent",(function(){return Vue.extend(a("6e9b").default)})),__definePage("pages/uni-stat/page-content/page-content",(function(){return Vue.extend(a("1ab7").default)})),__definePage("pages/uni-stat/page-rule/page-rule",(function(){return Vue.extend(a("299c").default)})),__definePage("pages/uni-stat/scene/scene",(function(){return Vue.extend(a("3480").default)})),__definePage("pages/uni-stat/channel/channel",(function(){return Vue.extend(a("a058").default)})),__definePage("pages/uni-stat/error/js/js",(function(){return Vue.extend(a("30e5").default)})),__definePage("pages/uni-stat/error/js/detail",(function(){return Vue.extend(a("e39c").default)})),__definePage("pages/uni-stat/error/app/app",(function(){return Vue.extend(a("6205").default)})),__definePage("pages/uni-stat/event/event",(function(){return Vue.extend(a("f94c").default)})),__definePage("pages/uni-stat/device/overview/overview",(function(){return Vue.extend(a("8a47").default)})),__definePage("pages/uni-stat/device/activity/activity",(function(){return Vue.extend(a("85b4").default)})),__definePage("pages/uni-stat/device/trend/trend",(function(){return Vue.extend(a("cabb").default)})),__definePage("pages/uni-stat/device/retention/retention",(function(){return Vue.extend(a("fda0").default)})),__definePage("pages/uni-stat/device/comparison/comparison",(function(){return Vue.extend(a("756f").default)})),__definePage("pages/uni-stat/device/stickiness/stickiness",(function(){return Vue.extend(a("3f9c").default)})),__definePage("pages/uni-stat/user/overview/overview",(function(){return Vue.extend(a("01e6").default)})),__definePage("pages/uni-stat/user/activity/activity",(function(){return Vue.extend(a("8028").default)})),__definePage("pages/uni-stat/user/trend/trend",(function(){return Vue.extend(a("8251").default)})),__definePage("pages/uni-stat/user/retention/retention",(function(){return Vue.extend(a("3496").default)})),__definePage("pages/uni-stat/user/comparison/comparison",(function(){return Vue.extend(a("b015").default)})),__definePage("pages/uni-stat/user/stickiness/stickiness",(function(){return Vue.extend(a("3cbc").default)})),__definePage("pages/uni-stat/pay-order/overview/overview",(function(){return Vue.extend(a("9d80").default)})),__definePage("pages/uni-stat/pay-order/list/list",(function(){return Vue.extend(a("3cfa").default)})),__definePage("pages/uni-stat/pay-order/funnel/funnel",(function(){return Vue.extend(a("4442").default)})),__definePage("pages/uni-stat/pay-order/ranking/ranking",(function(){return Vue.extend(a("42db").default)}))},2988:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-stat-tabs",data:function(){return{currentTab:0,renderTabs:[],cacheKey:"uni-admin-statTabsData"}},props:{type:{type:String,default:"line"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},current:{type:[String,Number],default:0},mode:{type:String,default:""},today:{type:Boolean,default:!1},yesterday:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1},all:{type:Boolean,default:!0},label:{type:String,default:""},placeholder:{type:String,default:"\u6682\u65e0\u9009\u9879"},tabs:{type:Array,default:function(){return[]}}},created:function(){this.last="".concat(this.mode.replace("-","_"),"_last_data")},mounted:function(){this.init()},computed:{},watch:{current:{immediate:!0,handler:function(t){this.currentTab=t}},tabs:{immediate:!1,handler:function(t){this.init()}},renderTabs:function(t){var e=this.current;this.mode&&t.length&&e>=0&&this.$nextTick((function(){var t=this.renderTabs[e];this.change(t,e)}))}},methods:{init:function(){if(this.mode.indexOf("platform")>-1)this.renderTabs=this.getCache()||[],this.getPlatform();else if("date"===this.mode){var t=[{_id:7,name:"\u6700\u8fd1\u4e03\u5929"},{_id:30,name:"\u6700\u8fd130\u5929"},{_id:90,name:"\u6700\u8fd190\u5929"}];this.yesterday&&t.unshift({_id:1,name:"\u6628\u5929"}),this.today&&t.unshift({_id:0,name:"\u4eca\u5929"}),this.renderTabs=t}else this.renderTabs=this.tabs},change:function(t,e){if(!t.disabled){var a=t._id,i=t.name;this.currentTab=e,this.emit(a,e,i,t)}},emit:function(t,e,a,i){this.$emit("change",t,e,a,i),this.$emit("input",t,e,a),this.$emit("update:modelValue",t,e,a)},getPlatform:function(){var e=this,a=t.database();a.collection("uni-stat-app-platforms").get().then((function(t){var a=t.result.data;if(a=a.filter((function(t){return!t.hasOwnProperty("enable")||t.enable})),a.sort((function(t,e){return t.order-e.order})),"platform-channel"===e.mode){a=a.filter((function(t){return/^android|ios$/.test(t.code)}));var i=a.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");i="(".concat(i,")"),e.setAllItem(a,i)}else if("platform-scene"===e.mode){a=a.filter((function(t){return/mp-/.test(t.code)}));var n=a.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");n="(".concat(n,")"),e.setAllItem(a,n)}else e.setAllItem(a);e.setCache(a),e.renderTabs=a}))},setAllItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u5168\u90e8";this.all&&t.unshift({name:a,_id:e})},getCurrentCacheKey:function(){return this.mode},getCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),e=uni.getStorageSync(this.cacheKey)||{};return e[t]},setCache:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentCacheKey(),a=uni.getStorageSync(this.cacheKey)||{};a[e]=t,uni.setStorageSync(this.cacheKey,a)},removeCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),e=uni.getStorageSync(this.cacheKey)||{};delete e[t],uni.setStorageSync(this.cacheKey,e)}}};e.default=a}).call(this,a("a9ff")["default"])},"298b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-scene",all:!1,_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),a("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[a("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),a("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),a("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap.slice(0,t.fieldsMap.length-1),loading:t.loading,_i:20}}),a("view",{staticClass:t._$s(21,"sc","uni-pagination-box"),attrs:{_i:21}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:22},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("fix-window",{attrs:{_i:23}})],1)},r=[]},"299c":function(t,e,a){"use strict";a.r(e);var i=a("153f"),n=a("4772");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"3fad20ef",null,!1,i["a"],void 0);e["default"]=o.exports},"2a67":function(t,e,a){"use strict";a.r(e);var i=a("3bc1"),n=a("dcbe");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"2aad":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a")),r=i(a("028b")),s={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[r.default],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},created:function(){var t=this;this.managedMode||this.$nextTick((function(){t.loadData()}))},methods:{onPropsChange:function(){var t=this;this._treeData=[],this.selectedIndex=0,this.$nextTick((function(){t.loadData()}))},handleSelect:function(t){this.selectedIndex=t},handleNodeClick:function(t,e,a){var i=this;if(!t.disable){var r=this.dataList[e][a],s=r[this.map.text],o=r[this.map.value];if(e<this.selected.length-1?(this.selected.splice(e,this.selected.length-e),this.selected.push({text:s,value:o})):e===this.selected.length-1&&this.selected.splice(e,1,{text:s,value:o}),r.isleaf)this.onSelectedChange(r,r.isleaf);else{var u=this._updateBindData(),c=u.isleaf,l=u.hasNodes;this.isLocalData?this.onSelectedChange(r,!l||c):this.isCloudDataList?this.onSelectedChange(r,!0):this.isCloudDataTree&&(c?this.onSelectedChange(r,r.isleaf):l||this.loadCloudDataNode((function(t){var e;t.length?((e=i._treeData).push.apply(e,(0,n.default)(t)),i._updateBindData(r)):r.isleaf=!0;i.onSelectedChange(r,r.isleaf)})))}}},updateData:function(t){this._treeData=t.treeData,this.selected=t.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange:function(){this.$emit("datachange")},onSelectedChange:function(t,e){e&&this._dispatchEvent(),t&&this.$emit("nodeclick",t)},_dispatchEvent:function(){this.$emit("change",this.selected.slice(0))}}};e.default=s},"2abe":function(t,e,a){"use strict";a.r(e);var i=a("af21"),n=a("4dc6");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"2ac4":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{id:""}},onLoad:function(t){var e=t.id;this.id=e},methods:{publish:function(){this.id?this.$request("createPublishHtml",{id:this.id},{functionName:"uni-portal",showModal:!1}).then((function(t){})).catch((function(t){uni.showModal({content:t.errMsg,showCancel:!1})})):uni.showModal({content:"\u9875\u9762\u51fa\u9519\uff0c\u8bf7\u8fd4\u56de\u91cd\u8fdb",showCancel:!1,success:function(t){uni.redirectTo({url:"/pages/system/app/list"})}})}}};e.default=i},"2b77":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("7c5a"),s=(i(a("6195")),a("963a"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",panelData:s.fieldsGroupMap,loading:!1}},created:function(){var t=this;this.getCloudDataDebounce=(0,r.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,a=this.query;if(a.appid){this.loading=!0;var i=(0,r.stringifyQuery)(u(u({},a),{},{start_time:[(0,r.getTimeOfSomeDayAgo)(0),Date.now()]}),!0,["uni_platform"]),n=t.database();n.collection(this.tableName).where(i).field("".concat((0,r.stringifyField)(s.fieldsMap),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("stat_time, dimension").groupField((0,r.stringifyGroupField)(s.fieldsMap)).orderBy("stat_time","desc").get().then((function(t){var a=t.result.data;a=(0,r.formatterData)({fieldsMap:s.fieldsMap,data:a});var i=a.find((function(t){return"day"===t.dimension&&t.stat_time===(0,r.parseDateTime)((0,r.getTimeOfSomeDayAgo)(0),"")}));i||(i=a.find((function(t){return"hour"===t.dimension&&t.stat_time===(0,r.parseDateTime)((0,r.getTimeOfSomeDayAgo)(0),"")}))||{}),e.loading=!1,e.panelData=e.setPanelData(i)}))}},setPanelData:function(t){var e=this.panelData;return e.map((function(e,a){e.list.map((function(e,a){e.value=t[e.field]||0}))})),e}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}}};e.default=c}).call(this,a("a9ff")["default"])},"2bd0":function(t,e,a){"use strict";a.r(e);var i=a("2509"),n=a("c14d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"07212dda",null,!1,i["a"],void 0);e["default"]=o.exports},"2bde":function(t,e,a){"use strict";a.r(e);var i=a("5ae4"),n=a("23e2");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"28993e7f",null,!1,i["a"],void 0);e["default"]=o.exports},"2d11":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniTag",emits:["click"],props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1},customStyle:{type:String,default:""}},computed:{classes:function(){var t=this.type,e=this.disabled,a=this.inverted,i=this.circle,n=this.mark,r=this.size,s=this.isTrue,o=["uni-tag--"+t,"uni-tag--"+r,s(e)?"uni-tag--disabled":"",s(a)?"uni-tag--"+t+"--inverted":"",s(i)?"uni-tag--circle":"",s(n)?"uni-tag--mark":"",s(a)?"uni-tag--inverted uni-tag-text--"+t:"","small"===r?"uni-tag-text--small":""];return o.join(" ")}},methods:{isTrue:function(t){return!0===t||"true"===t},onClick:function(){this.isTrue(this.disabled)||this.$emit("click")}}};e.default=i},"2d36":function(t,e,a){"use strict";a.r(e);var i=a("f005"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"2d65":function(t,e,a){"use strict";a.r(e);var i=a("c9b4"),n=a("5db0");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"fcb66c2c",null,!1,i["a"],void 0);e["default"]=o.exports},"2d8b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calcImageOffset=function(t,e){var a=t.imageLeft,i=t.imageTop;e=e||t.scale;var n=t.imageWidth,r=t.imageHeight;t.angle/90%2&&(n=t.imageHeight,r=t.imageWidth);var s=t.clipX,o=t.clipWidth,u=t.clipY,c=t.clipHeight,l=function(t){return t*e/2},d=l(n),f=l(r);return a=s+d>=a?a:s+d,a=s+o-d<=a?a:s+o-d,i=u+f>=i?i:u+f,i=u+c-f<=i?i:u+c-f,{left:a,top:i,scale:e}},e.calcImageScale=function(t,e){e=e||t.scale;var a=t.imageWidth,i=t.imageHeight,n=t.clipWidth,r=t.clipHeight,s=t.angle;s/90%2&&(a=i,i=a);a*e<n&&(e=n/a);i*e<r&&(e=Math.max(e,r/i));return e},e.calcImageSize=function(t,e,a){var i=t,n=e,r=a.clipWidth,s=a.clipHeight,o=a.sysinfo,u=a.width,c=a.height;if(i&&n)i/n>(r||u)/(r||c)?(n=s||c,i=t/e*n):(i=r||u,n=e/t*i);else{var l=o||uni.getSystemInfoSync();i=l.windowWidth,n=0}return{imageWidth:i,imageHeight:n}},e.calcPythagoreanTheorem=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},e.clipTouchMoveOfCalculate=function(t,e){var a=e.touches[0].clientX,i=e.touches[0].clientY,n=t.clipWidth,r=t.clipHeight,s=t.clipY,o=t.clipX,u=t.clipStart,c=t.isLockRatio,l=t.maxWidth,d=t.minWidth,f=t.maxHeight,p=t.minHeight;l/=2,d/=2,p/=2,f/=2;var h=n,m=r,_=s,g=o,v=function(){return function(){h=h<=l?h>=d?h:d:l,m=m<=f?m>=p?m:p:f}(),!(h>l||h<d||m>f||m<p)||!c};switch(m=u.height+(u.corner>1&&u.corner<4?1:-1)*(u.y-i),u.corner){case 1:if(h=u.width-u.x+a,c&&(m=h/(n/r)),!v())return;break;case 2:if(h=u.width-u.x+a,c&&(m=h/(n/r)),!v())return;_=u.clipY-(m-u.height);break;case 3:if(h=u.width+u.x-a,c&&(m=h/(n/r)),!v())return;_=u.clipY-(m-u.height),g=u.clipX-(h-u.width);break;case 4:if(h=u.width+u.x-a,c&&(m=h/(n/r)),!v())return;g=u.clipX-(h-u.width);break;default:break}return{width:h,height:m,clipX:g,clipY:_}},e.determineDirection=function(t,e,a,i,n,r){var s,o=[t+a/2,e+i/2],u=[n,r];u[0]<=o[0]&&u[1]<=o[1]?s=3:u[0]>=o[0]&&u[1]<=o[1]?s=2:u[0]<=o[0]&&u[1]>=o[1]?s=4:u[0]>=o[0]&&u[1]>=o[1]&&(s=1);return s},e.imageTouchMoveOfCalcOffset=function(t,e,a){var i=e-t.touchRelative[0].x,n=a-t.touchRelative[0].y;return{left:i,top:n}}},"2d98":function(t,e,a){"use strict";a.r(e);var i=a("6845"),n=a("80c7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"2da1":function(t,e,a){"use strict";function i(t){return Promise.resolve([])}Object.defineProperty(e,"__esModule",{value:!0}),e.initFetch=function(t){t.prototype.$fetch=i}},"2fc5":function(t,e,a){"use strict";a.r(e);var i=a("4f4f"),n=a("24e4");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"0c5ef59a",null,!1,i["a"],void 0);e["default"]=o.exports},3015:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={debug:!1,isAdmin:!0,loginTypes:["univerify","username","apple"],appid:{weixin:{h5:"xxxxxx",web:"xxxxxx"}},passwordStrength:"medium"}},3091:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-date"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-date-editor"),attrs:{_i:1},on:{click:t.show}},[t._t("default",[a("view",{staticClass:t._$s(3,"sc","uni-date-editor--x"),class:t._$s(3,"c",{"uni-date-editor--x__disabled":t.disabled,"uni-date-x--border":t.border}),attrs:{_i:3}},[t._$s(4,"i",!t.isRange)?a("view",{staticClass:t._$s(4,"sc","uni-date-x uni-date-single"),attrs:{_i:4}},[a("uni-icons",{staticClass:t._$s(5,"sc","icon-calendar"),attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:5}}),a("view",{staticClass:t._$s(6,"sc","uni-date__x-input"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.displayValue||t.singlePlaceholderText)))])],1):a("view",{staticClass:t._$s(7,"sc","uni-date-x uni-date-range"),attrs:{_i:7}},[a("uni-icons",{staticClass:t._$s(8,"sc","icon-calendar"),attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:8}}),a("view",{staticClass:t._$s(9,"sc","uni-date__x-input text-center"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.displayRangeValue.startDate||t.startPlaceholderText)))]),a("view",{staticClass:t._$s(10,"sc","range-separator"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.rangeSeparator)))]),a("view",{staticClass:t._$s(11,"sc","uni-date__x-input text-center"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.displayRangeValue.endDate||t.endPlaceholderText)))])],1),t._$s(12,"i",t.showClearIcon)?a("view",{staticClass:t._$s(12,"sc","uni-date__icon-clear"),attrs:{_i:12},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[a("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"22",_i:13}})],1):t._e()])],{_i:2})],2),a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(14,"v-show",t.pickerVisible),expression:"_$s(14,'v-show',pickerVisible)"}],staticClass:t._$s(14,"sc","uni-date-mask--pc"),attrs:{_i:14},on:{click:t.close}}),t._$s(15,"i",!t.isPhone)?a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",t.pickerVisible),expression:"_$s(15,'v-show',pickerVisible)"}],ref:"datePicker",staticClass:t._$s(15,"sc","uni-date-picker__container"),attrs:{_i:15}},[t._$s(16,"i",!t.isRange)?a("view",{staticClass:t._$s(16,"sc","uni-date-single--x"),style:t._$s(16,"s",t.pickerPositionStyle),attrs:{_i:16}},[a("view",{staticClass:t._$s(17,"sc","uni-popper__arrow"),attrs:{_i:17}}),t._$s(18,"i",t.hasTime)?a("view",{staticClass:t._$s(18,"sc","uni-date-changed popup-x-header"),attrs:{_i:18}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDate,expression:"inputDate"}],staticClass:t._$s(19,"sc","uni-date__input text-center"),attrs:{placeholder:t._$s(19,"a-placeholder",t.selectDateText),_i:19},domProps:{value:t._$s(19,"v-model",t.inputDate)},on:{input:function(e){e.target.composing||(t.inputDate=e.target.value)}}}),a("time-picker",{attrs:{type:"time",border:!1,disabled:!t.inputDate,start:t.timepickerStartTime,end:t.timepickerEndTime,hideSecond:t.hideSecond,_i:20},model:{value:t._$s(20,"v-model",t.pickerTime),callback:function(e){t.pickerTime=e},expression:"pickerTime"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pickerTime,expression:"pickerTime"}],staticClass:t._$s(21,"sc","uni-date__input text-center"),attrs:{placeholder:t._$s(21,"a-placeholder",t.selectTimeText),disabled:t._$s(21,"a-disabled",!t.inputDate),_i:21},domProps:{value:t._$s(21,"v-model",t.pickerTime)},on:{input:function(e){e.target.composing||(t.pickerTime=e.target.value)}}})])],1):t._e(),a("Calendar",{ref:"pcSingle",attrs:{showMonth:!1,"start-date":t.calendarRange.startDate,"end-date":t.calendarRange.endDate,date:t.calendarDate,"default-value":t.defaultValue,_i:22},on:{change:t.singleChange}}),t._$s(23,"i",t.hasTime)?a("view",{staticClass:t._$s(23,"sc","popup-x-footer"),attrs:{_i:23}},[a("text",{staticClass:t._$s(24,"sc","confirm-text"),attrs:{_i:24},on:{click:t.confirmSingleChange}},[t._v(t._$s(24,"t0-0",t._s(t.okText)))])]):t._e()],1):a("view",{staticClass:t._$s(25,"sc","uni-date-range--x"),style:t._$s(25,"s",t.pickerPositionStyle),attrs:{_i:25}},[a("view",{staticClass:t._$s(26,"sc","uni-popper__arrow"),attrs:{_i:26}}),t._$s(27,"i",t.hasTime)?a("view",{staticClass:t._$s(27,"sc","popup-x-header uni-date-changed"),attrs:{_i:27}},[a("view",{staticClass:t._$s(28,"sc","popup-x-header--datetime"),attrs:{_i:28}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startDate,expression:"tempRange.startDate"}],staticClass:t._$s(29,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(29,"a-placeholder",t.startDateText),_i:29},domProps:{value:t._$s(29,"v-model",t.tempRange.startDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startDate",e.target.value)}}}),a("time-picker",{attrs:{type:"time",start:t.timepickerStartTime,border:!1,disabled:!t.tempRange.startDate,hideSecond:t.hideSecond,_i:30},model:{value:t._$s(30,"v-model",t.tempRange.startTime),callback:function(e){t.$set(t.tempRange,"startTime",e)},expression:"tempRange.startTime"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startTime,expression:"tempRange.startTime"}],staticClass:t._$s(31,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(31,"a-placeholder",t.startTimeText),disabled:t._$s(31,"a-disabled",!t.tempRange.startDate),_i:31},domProps:{value:t._$s(31,"v-model",t.tempRange.startTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startTime",e.target.value)}}})])],1),a("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:32}}),a("view",{staticClass:t._$s(33,"sc","popup-x-header--datetime"),attrs:{_i:33}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endDate,expression:"tempRange.endDate"}],staticClass:t._$s(34,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(34,"a-placeholder",t.endDateText),_i:34},domProps:{value:t._$s(34,"v-model",t.tempRange.endDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endDate",e.target.value)}}}),a("time-picker",{attrs:{type:"time",end:t.timepickerEndTime,border:!1,disabled:!t.tempRange.endDate,hideSecond:t.hideSecond,_i:35},model:{value:t._$s(35,"v-model",t.tempRange.endTime),callback:function(e){t.$set(t.tempRange,"endTime",e)},expression:"tempRange.endTime"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endTime,expression:"tempRange.endTime"}],staticClass:t._$s(36,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(36,"a-placeholder",t.endTimeText),disabled:t._$s(36,"a-disabled",!t.tempRange.endDate),_i:36},domProps:{value:t._$s(36,"v-model",t.tempRange.endTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endTime",e.target.value)}}})])],1)],1):t._e(),a("view",{staticClass:t._$s(37,"sc","popup-x-body"),attrs:{_i:37}},[a("Calendar",{ref:"left",attrs:{showMonth:!1,"start-date":t.calendarRange.startDate,"end-date":t.calendarRange.endDate,range:!0,pleStatus:t.endMultipleStatus,_i:38},on:{change:t.leftChange,firstEnterCale:t.updateRightCale}}),a("Calendar",{ref:"right",attrs:{showMonth:!1,"start-date":t.calendarRange.startDate,"end-date":t.calendarRange.endDate,range:!0,pleStatus:t.startMultipleStatus,_i:39},on:{change:t.rightChange,firstEnterCale:t.updateLeftCale}})],1),t._$s(40,"i",t.hasTime)?a("view",{staticClass:t._$s(40,"sc","popup-x-footer"),attrs:{_i:40}},[a("text",{attrs:{_i:41},on:{click:t.clear}},[t._v(t._$s(41,"t0-0",t._s(t.clearText)))]),a("text",{staticClass:t._$s(42,"sc","confirm-text"),attrs:{_i:42},on:{click:t.confirmRangeChange}},[t._v(t._$s(42,"t0-0",t._s(t.okText)))])]):t._e()])]):t._e(),t._$s(43,"i",t.isPhone)?a("Calendar",{ref:"mobile",attrs:{clearDate:!1,date:t.calendarDate,defTime:t.mobileCalendarTime,"start-date":t.calendarRange.startDate,"end-date":t.calendarRange.endDate,selectableTimes:t.mobSelectableTime,startPlaceholder:t.startPlaceholder,endPlaceholder:t.endPlaceholder,"default-value":t.defaultValue,pleStatus:t.endMultipleStatus,showMonth:!1,range:t.isRange,hasTime:t.hasTime,insert:!1,hideSecond:t.hideSecond,_i:43},on:{confirm:t.mobileChange,maskClose:t.close}}):t._e()],1)},r=[]},"30e5":function(t,e,a){"use strict";a.r(e);var i=a("039d"),n=a("a55c");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"30f6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTooltip:a("0179").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--tab-x"),attrs:{_i:0}},[t._$s(1,"i",t.label)?a("view",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),a("view",{staticClass:t._$s(2,"sc","uni-stat--tab"),attrs:{_i:2}},[t._$s(3,"i",!t.renderTabs.length)?a("view",{staticClass:t._$s(3,"sc","uni-stat--tab-item uni-stat--tab-item-disabled"),class:t._$s(3,"c",["uni-stat--tab-item-"+t.type]),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.placeholder)))]):t._l(t._$s(4,"f",{forItems:t.renderTabs}),(function(e,i,n,r){return a("view",{key:t._$s(4,"f",{forIndex:n,key:i}),staticClass:t._$s("4-"+r,"sc","uni-stat--tab-item"),class:t._$s("4-"+r,"c",[i===t.currentTab?"uni-stat--tab-item-"+t.type+"-active":"","uni-stat--tab-item-"+t.type,e.disabled?"uni-stat--tab-item-disabled":""]),attrs:{_i:"4-"+r},on:{click:function(a){return t.change(e,i)}}},[a("uni-tooltip",{attrs:{_i:"5-"+r},scopedSlots:t._u([t._$s("7-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("8-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"8-"+r+"-"+s}},[t._v(n._$s("8-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("5-"+r,"t0-0",t._s(e.name))),t._$s("6-"+r,"i",e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"6-"+r}}):t._e()],1)],1)}))],2)])},r=[]},"313e":function(t,e,a){"use strict";a.r(e);var i=a("25dd"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"317c":function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9875","uni-pagination.nextText":"\u4e0b\u4e00\u9875","uni-pagination.piecePerPage":"\u6761/\u9875"}')},3219:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-table",data:function(){return{}},props:{data:{type:Array,default:function(){return[]}},filedsMap:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1}}};e.default=i},3390:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.buildMenu=r,e.buildMenus=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t.sort((function(e,a){var i=s(e,t),n=s(a,t);return i.includes(a.menu_id)?1:i.length-n.length||e.sort-a.sort})),e)for(var a=function(e){var a=t[e],i=t.filter((function(t){return t.parent_id===a.menu_id}));a.isLeafNode||i.length||t.splice(e,1)},i=t.length-1;i>-1;i--)a(i);var o=[],u=t.filter((function(t){if(!t.parent_id)return o.push(t.menu_id),!0}));r(u,t,o),e||o.length===t.length||u.push.apply(u,(0,n.default)(t.filter((function(t){return!o.includes(t.menu_id)}))));return u};var n=i(a("448a"));function r(t,e,a){for(var i=[],n=function(n){var r=t[n],s=e.filter((function(t){if(t.parent_id===r.menu_id)return a.push(t.menu_id),!0}));i=i.concat(s),r.children=s},s=t.length-1;s>-1;s--)n(s);i.length&&r(i,e,a)}function s(t,e){var a=[],i=t;while(i&&i.parent_id)a.push(i.parent_id),i=e.find((function(t){return t.menu_id===i.parent_id}));return a}},"33fb":function(t,e,a){"use strict";a.r(e);var i=a("90d8"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},3480:function(t,e,a){"use strict";a.r(e);var i=a("298b"),n=a("a448");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},3496:function(t,e,a){"use strict";a.r(e);var i=a("ec10"),n=a("0b72");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"34d0":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-list uni-border-top-bottom"),attrs:{_i:0}},[t._$s(1,"i",t.border)?a("view",{staticClass:t._$s(1,"sc","uni-list--border-top"),attrs:{_i:1}}):t._e(),t._t("default",null,{_i:2}),t._$s(3,"i",t.border)?a("view",{staticClass:t._$s(3,"sc","uni-list--border-bottom"),attrs:{_i:3}}):t._e()],2)},n=[]},"34dc":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group hide-on-phone"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.table.title"))))])]),a("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(5,"sc","uni-search"),attrs:{placeholder:t._$s(5,"a-placeholder",t.$t("common.placeholder.query")),_i:5},domProps:{value:t._$s(5,"v-model",t.searchVal)},on:{confirm:t.search,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:t.search}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.search"))))]),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.add"))))]),a("button",{staticClass:t._$s(8,"sc","uni-button"),attrs:{_i:8},on:{click:t.delTable}},[t._v(t._$s(8,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])]),a("view",{staticClass:t._$s(9,"sc","uni-container"),attrs:{_i:9}},[a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,type:"selection",emptyText:t.$t("common.empty"),_i:10},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:11}},[a("uni-th",{attrs:{width:"150",align:"center",_i:12}},[t._v("")]),a("uni-th",{attrs:{width:"150",align:"center",_i:13}},[t._v("")]),a("uni-th",{attrs:{align:"center",_i:14}},[t._v("")]),a("uni-th",{attrs:{width:"204",align:"center",_i:15}},[t._v("")])],1),t._l(t._$s(16,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(16,"f",{forIndex:n,key:i}),attrs:{_i:"16-"+r}},[a("uni-td",{attrs:{_i:"17-"+r}},[t._v(t._$s("17-"+r,"t0-0",t._s(e.date)))]),a("uni-td",{attrs:{_i:"18-"+r}},[a("view",{staticClass:t._$s("19-"+r,"sc","name"),attrs:{_i:"19-"+r}},[t._v(t._$s("19-"+r,"t0-0",t._s(e.name)))])]),a("uni-td",{attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.address)))]),a("uni-td",{attrs:{_i:"21-"+r}},[a("view",{staticClass:t._$s("22-"+r,"sc","uni-group"),attrs:{_i:"22-"+r}},[a("button",{staticClass:t._$s("23-"+r,"sc","uni-button"),attrs:{_i:"23-"+r}},[t._v(t._$s("23-"+r,"t0-0",t._s(t.$t("common.button.edit"))))]),a("button",{staticClass:t._$s("24-"+r,"sc","uni-button"),attrs:{_i:"24-"+r}},[t._v(t._$s("24-"+r,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),a("view",{staticClass:t._$s(25,"sc","uni-pagination-box"),attrs:{_i:25}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":t.pageSize,current:t.pageCurrent,total:t.total,_i:26},on:{change:t.change}})],1)],1),a("fix-window",{attrs:{_i:27}})],1)},r=[]},"34fe":function(t,e,a){"use strict";a.r(e);var i=a("2ac4"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},3513:function(t,e,a){"use strict";a.r(e);var i=a("ddea"),n=a("4cc1");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},3522:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}})],1),a("view",{staticClass:t._$s(4,"sc","uni-container"),attrs:{_i:4}},[a("view",{staticClass:t._$s(5,"sc","uni-stat--x flex p-1015"),attrs:{_i:5}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:6},model:{value:t._$s(6,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(7,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:7},model:{value:t._$s(7,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(8,"sc","uni-stat--x flex"),attrs:{_i:8}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:9},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(10,"sc","uni-stat-datetime-picker"),class:t._$s(10,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:10},on:{change:t.useDatetimePicker},model:{value:t._$s(10,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(11,"sc","uni-stat--x"),attrs:{_i:11}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:12},on:{change:t.changePlatform},model:{value:t._$s(12,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(13,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(13,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:13},model:{value:t._$s(13,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,_i:14}}),a("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","uni-stat-right-btn"),attrs:{_i:16}},[a("button",{attrs:{_i:17},on:{click:function(e){return t.pageTo("/pages/uni-stat/page-rule/page-rule")}}})]),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.errorMessage||t.$t("common.empty"),_i:18}},[a("uni-tr",{attrs:{_i:19}},[t._l(t._$s(20,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("21-"+r,"i",e.title)?a("uni-th",{key:t._$s(20,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"21-"+r}},[a("uni-tooltip",{attrs:{_i:"22-"+r},scopedSlots:t._u([t._$s("24-"+r,"i",0===i&&e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("25-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"25-"+r+"-"+s}},[t._v(n._$s("25-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("22-"+r,"t0-0",t._s(e.title))),t._$s("23-"+r,"i",0===i&&e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"23-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(26,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(26,"f",{forIndex:n,key:i}),attrs:{_i:"26-"+r}},[t._l(t._$s("27-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return[t._$s("28-"+r+"-"+o,"i",1===n)?a("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:0,key:i.field+"_"+n+"_0"}),staticClass:t._$s("28-"+r+"-"+o,"sc","uni-stat-edit--x"),attrs:{_i:"28-"+r+"-"+o}},[t._v(t._$s("28-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-"))),a("uni-icons",{staticClass:t._$s("29-"+r+"-"+o,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"29-"+r+"-"+o},on:{click:function(a){return t.inputDialogToggle(e.page_link,e.page_title)}}})],1):a("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:-1,key:i.field}),attrs:{align:0===n?"left":"center",_i:"30-"+r+"-"+o}},[t._v(t._$s("30-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),a("view",{staticClass:t._$s(31,"sc","uni-pagination-box"),attrs:{_i:31}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:32},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),a("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:33}},[a("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:34},on:{confirm:t.editName},model:{value:t._$s(34,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),a("fix-window",{attrs:{_i:35}})],1)},r=[]},"35c0":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("814c")),r=i(a("ca32")),s={components:{topWindow:n.default,leftWindow:r.default},data:function(){return{visible:!1}},methods:{tiggerWindow:function(){this.visible=!this.visible}}};e.default=s},"365d":function(t,e,a){"use strict";a.r(e);var i=a("34dc"),n=a("bfd8");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"36c6":function(t,e){function a(e){return t.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,a(e)}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},"36d9":function(t,e,a){"use strict";a.r(e);var i=a("db85"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},3718:function(t,e,a){"use strict";a.r(e);var i=a("e9c5"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},3735:function(t,e,a){"use strict";a.r(e);var i=a("6786"),n=a("6dd0");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"37a6":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[t._l(t._$s(1,"f",{forItems:t.uploadTasks}),(function(e,i,n,r){return[a("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:0,key:i+"_0"}),staticClass:t._$s("2-"+r,"sc","upload-task-body"),attrs:{_i:"2-"+r}},[a("view",{staticClass:t._$s("3-"+r,"sc","upload-task-item"),attrs:{_i:"3-"+r}},[a("text",{staticClass:t._$s("4-"+r,"sc","upload-task-item-name"),attrs:{_i:"4-"+r}},[t._v(t._$s("4-"+r,"t0-0",t._s(e.name)))]),t._$s("5-"+r,"i",t.showProgress)?a("progress",{staticClass:t._$s("5-"+r,"sc","upload-task-item-progress"),attrs:{activeColor:t._$s("5-"+r,"a-activeColor",-1!==e.state?"#42b983":"#ff5a5f"),percent:t._$s("5-"+r,"a-percent",100*e.progress),_i:"5-"+r}}):t._e(),a("view",{staticClass:t._$s("6-"+r,"sc","flex"),attrs:{_i:"6-"+r}},[a("text",{staticClass:t._$s("7-"+r,"sc","upload-task-item-size"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.size)))]),a("text",{staticClass:t._$s("8-"+r,"sc","upload-task-item-size"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(-1!==e.state?"":"\u5931\u8d25")))])])])])]}))],2)},n=[]},"37ce":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-datetime-picker"),attrs:{_i:0}},[a("view",{attrs:{_i:1},on:{click:t.initTimePicker}},[t._t("default",[a("view",{staticClass:t._$s(3,"sc","uni-datetime-picker-timebox-pointer"),class:t._$s(3,"c",{"uni-datetime-picker-disabled":t.disabled,"uni-datetime-picker-timebox":t.border}),attrs:{_i:3}},[a("text",{staticClass:t._$s(4,"sc","uni-datetime-picker-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.time)))]),t._$s(5,"i",!t.time)?a("view",{staticClass:t._$s(5,"sc","uni-datetime-picker-time"),attrs:{_i:5}},[a("text",{staticClass:t._$s(6,"sc","uni-datetime-picker-text"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.selectTimeText)))])]):t._e()])],{_i:2})],2),t._$s(7,"i",t.visible)?a("view",{staticClass:t._$s(7,"sc","uni-datetime-picker-mask"),attrs:{id:"mask",_i:7},on:{click:t.tiggerTimePicker}}):t._e(),t._$s(8,"i",t.visible)?a("view",{staticClass:t._$s(8,"sc","uni-datetime-picker-popup"),class:t._$s(8,"c",[t.dateShow&&t.timeShow?"":"fix-nvue-height"]),style:t._$s(8,"s",t.fixNvueBug),attrs:{_i:8}},[a("view",{staticClass:t._$s(9,"sc","uni-title"),attrs:{_i:9}},[a("text",{staticClass:t._$s(10,"sc","uni-datetime-picker-text"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.selectTimeText)))])]),t._$s(11,"i",t.dateShow)?a("view",{staticClass:t._$s(11,"sc","uni-datetime-picker__container-box"),attrs:{_i:11}},[a("picker-view",{staticClass:t._$s(12,"sc","uni-datetime-picker-view"),attrs:{"indicator-style":t._$s(12,"a-indicator-style",t.indicatorStyle),value:t._$s(12,"a-value",t.ymd),_i:12},on:{change:t.bindDateChange}},[a("picker-view-column",t._l(t._$s(14,"f",{forItems:t.years}),(function(e,i,n,r){return a("view",{key:t._$s(14,"f",{forIndex:n,key:i}),staticClass:t._$s("14-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"14-"+r}},[a("text",{staticClass:t._$s("15-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),a("picker-view-column",t._l(t._$s(17,"f",{forItems:t.months}),(function(e,i,n,r){return a("view",{key:t._$s(17,"f",{forIndex:n,key:i}),staticClass:t._$s("17-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"17-"+r}},[a("text",{staticClass:t._$s("18-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"18-"+r}},[t._v(t._$s("18-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),a("picker-view-column",t._l(t._$s(20,"f",{forItems:t.days}),(function(e,i,n,r){return a("view",{key:t._$s(20,"f",{forIndex:n,key:i}),staticClass:t._$s("20-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"20-"+r}},[a("text",{staticClass:t._$s("21-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"21-"+r}},[t._v(t._$s("21-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0)]),a("text",{staticClass:t._$s(22,"sc","uni-datetime-picker-sign sign-left"),attrs:{_i:22}}),a("text",{staticClass:t._$s(23,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:23}})]):t._e(),t._$s(24,"i",t.timeShow)?a("view",{staticClass:t._$s(24,"sc","uni-datetime-picker__container-box"),attrs:{_i:24}},[a("picker-view",{staticClass:t._$s(25,"sc","uni-datetime-picker-view"),class:t._$s(25,"c",[t.hideSecond?"time-hide-second":""]),attrs:{"indicator-style":t._$s(25,"a-indicator-style",t.indicatorStyle),value:t._$s(25,"a-value",t.hms),_i:25},on:{change:t.bindTimeChange}},[a("picker-view-column",t._l(t._$s(27,"f",{forItems:t.hours}),(function(e,i,n,r){return a("view",{key:t._$s(27,"f",{forIndex:n,key:i}),staticClass:t._$s("27-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"27-"+r}},[a("text",{staticClass:t._$s("28-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),a("picker-view-column",t._l(t._$s(30,"f",{forItems:t.minutes}),(function(e,i,n,r){return a("view",{key:t._$s(30,"f",{forIndex:n,key:i}),staticClass:t._$s("30-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"30-"+r}},[a("text",{staticClass:t._$s("31-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),t._$s(32,"i",!t.hideSecond)?a("picker-view-column",t._l(t._$s(33,"f",{forItems:t.seconds}),(function(e,i,n,r){return a("view",{key:t._$s(33,"f",{forIndex:n,key:i}),staticClass:t._$s("33-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"33-"+r}},[a("text",{staticClass:t._$s("34-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"34-"+r}},[t._v(t._$s("34-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0):t._e()]),a("text",{staticClass:t._$s(35,"sc","uni-datetime-picker-sign"),class:t._$s(35,"c",[t.hideSecond?"sign-center":"sign-left"]),attrs:{_i:35}}),t._$s(36,"i",!t.hideSecond)?a("text",{staticClass:t._$s(36,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:36}}):t._e()]):t._e(),a("view",{staticClass:t._$s(37,"sc","uni-datetime-picker-btn"),attrs:{_i:37}},[a("view",{attrs:{_i:38},on:{click:t.clearTime}},[a("text",{staticClass:t._$s(39,"sc","uni-datetime-picker-btn-text"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.clearText)))])]),a("view",{staticClass:t._$s(40,"sc","uni-datetime-picker-btn-group"),attrs:{_i:40}},[a("view",{staticClass:t._$s(41,"sc","uni-datetime-picker-cancel"),attrs:{_i:41},on:{click:t.tiggerTimePicker}},[a("text",{staticClass:t._$s(42,"sc","uni-datetime-picker-btn-text"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.cancelText)))])]),a("view",{attrs:{_i:43},on:{click:t.setTime}},[a("text",{staticClass:t._$s(44,"sc","uni-datetime-picker-btn-text"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.okText)))])])])])]):t._e()])},n=[]},"37dc":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.LOCALE_ZH_HANT=e.LOCALE_ZH_HANS=e.LOCALE_FR=e.LOCALE_ES=e.LOCALE_EN=e.I18n=e.Formatter=void 0,e.compileI18nJsonStr=function(t,e){var a=e.locale,i=e.locales,n=e.delimiters;if(!$(t,n))return t;w||(w=new l);var r=[];Object.keys(i).forEach((function(t){t!==a&&r.push({locale:t,values:i[t]})})),r.unshift({locale:a,values:i[a]});try{return JSON.stringify(D(JSON.parse(t),r,n),null,2)}catch(s){}return t},e.hasI18nJson=function t(e,a){w||(w=new l);return S(e,(function(e,i){var n=e[i];return C(n)?!!$(n,a)||void 0:t(n,a)}))},e.initVueI18n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if("string"!==typeof t){var n=[e,t];t=n[0],e=n[1]}"string"!==typeof t&&(t=x());"string"!==typeof a&&(a="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var r=new y({locale:t,fallbackLocale:a,messages:e,watcher:i}),s=function(t,e){if("function"!==typeof getApp)s=function(t,e){return r.t(t,e)};else{var a=!1;s=function(t,e){var i=getApp().$vm;return i&&(i.$locale,a||(a=!0,b(i,r))),r.t(t,e)}}return s(t,e)};return{i18n:r,f:function(t,e,a){return r.f(t,e,a)},t:function(t,e){return s(t,e)},add:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.add(t,e,a)},watch:function(t){return r.watchLocale(t)},getLocale:function(){return r.getLocale()},setLocale:function(t){return r.setLocale(t)}}},e.isI18nStr=$,e.isString=void 0,e.normalizeLocale=v,e.parseI18nJson=function t(e,a,i){w||(w=new l);return S(e,(function(e,n){var r=e[n];C(r)?$(r,i)&&(e[n]=k(r,a,i)):t(r,a,i)})),e},e.resolveLocale=function(t){return function(e){return e?(e=v(e)||e,function(t){var e=[],a=t.split("-");while(a.length)e.push(a.join("-")),a.pop();return e}(e).find((function(e){return t.indexOf(e)>-1}))):e}};var n=i(a("278c")),r=i(a("970b")),s=i(a("5bc3")),o=i(a("7037")),u=function(t){return null!==t&&"object"===(0,o.default)(t)},c=["{","}"],l=function(){function t(){(0,r.default)(this,t),this._caches=Object.create(null)}return(0,s.default)(t,[{key:"interpolate",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;if(!e)return[t];var i=this._caches[t];return i||(i=p(t,a),this._caches[t]=i),h(i,e)}}]),t}();e.Formatter=l;var d=/^(?:\d)+/,f=/^(?:\w)+/;function p(t,e){var a=(0,n.default)(e,2),i=a[0],r=a[1],s=[],o=0,u="";while(o<t.length){var c=t[o++];if(c===i){u&&s.push({type:"text",value:u}),u="";var l="";c=t[o++];while(void 0!==c&&c!==r)l+=c,c=t[o++];var p=c===r,h=d.test(l)?"list":p&&f.test(l)?"named":"unknown";s.push({value:l,type:h})}else u+=c}return u&&s.push({type:"text",value:u}),s}function h(t,e){var a=[],i=0,n=Array.isArray(e)?"list":u(e)?"named":"unknown";if("unknown"===n)return a;while(i<t.length){var r=t[i];switch(r.type){case"text":a.push(r.value);break;case"list":a.push(e[parseInt(r.value,10)]);break;case"named":"named"===n&&a.push(e[r.value]);break;case"unknown":0;break}i++}return a}e.LOCALE_ZH_HANS="zh-Hans";e.LOCALE_ZH_HANT="zh-Hant";e.LOCALE_EN="en";e.LOCALE_FR="fr";e.LOCALE_ES="es";var m=Object.prototype.hasOwnProperty,_=function(t,e){return m.call(t,e)},g=new l;function v(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),"chinese"===t)return"zh-Hans";if(0===t.indexOf("zh"))return t.indexOf("-hans")>-1?"zh-Hans":t.indexOf("-hant")>-1||function(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}(t,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var a=["en","fr","es"];e&&Object.keys(e).length>0&&(a=Object.keys(e));var i=function(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}(t,a);return i||void 0}}var y=function(){function t(e){var a=e.locale,i=e.fallbackLocale,n=e.messages,s=e.watcher,o=e.formater;(0,r.default)(this,t),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=o||g,this.messages=n||{},this.setLocale(a||"en"),s&&this.watchLocale(s)}return(0,s.default)(t,[{key:"setLocale",value:function(t){var e=this,a=this.locale;this.locale=v(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],a!==this.locale&&this.watchers.forEach((function(t){t(e.locale,a)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,a=this.watchers.push(t)-1;return function(){e.watchers.splice(a,1)}}},{key:"add",value:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.messages[t];i?a?Object.assign(i,e):Object.keys(e).forEach((function(t){_(i,t)||(i[t]=e[t])})):this.messages[t]=e}},{key:"f",value:function(t,e,a){return this.formater.interpolate(t,e,a).join("")}},{key:"t",value:function(t,e,a){var i=this.message;return"string"===typeof e?(e=v(e,this.messages),e&&(i=this.messages[e])):a=e,_(i,t)?this.formater.interpolate(i[t],a).join(""):t}}]),t}();function b(t,e){t.$watchLocale?t.$watchLocale((function(t){e.setLocale(t)})):t.$watch((function(){return t.$locale}),(function(t){e.setLocale(t)}))}function x(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof t&&t.getLocale?t.getLocale():"en"}e.I18n=y;var w,C=function(t){return"string"===typeof t};function $(t,e){return t.indexOf(e[0])>-1}function k(t,e,a){return w.interpolate(t,e,a).join("")}function D(t,e,a){return S(t,(function(t,i){(function(t,e,a,i){var n=t[e];if(C(n)){if($(n,i)&&(t[e]=k(n,a[0].values,i),a.length>1)){var r=t[e+"Locales"]={};a.forEach((function(t){r[t.locale]=k(n,t.values,i)}))}}else D(n,a,i)})(t,i,e,a)})),t}function S(t,e){if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(e(t,a))return!0}else if(u(t))for(var i in t)if(e(t,i))return!0;return!1}e.isString=C}).call(this,a("c8ba"))},"37f2":function(t,e,a){"use strict";a.r(e);var i=a("ae0b"),n=a("1377");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4b988eb6",null,!1,i["a"],void 0);e["default"]=o.exports},"390f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uploadFile",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},delIcon:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},showType:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},readonly:{type:Boolean,default:!1}},computed:{list:function(){var t=[];return this.filesList.forEach((function(e){t.push(e)})),t},styles:function(){return Object.assign({border:!0,dividline:!0,"border-style":{}},this.listStyles)},borderStyle:function(){var t=this.styles,e=t.borderStyle,a=t.border,i={};if(a){var n=e&&e.width||1;n=this.value2px(n);var r=e&&e.radius||5;r=this.value2px(r),i={"border-width":n,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":r}}else i.border="none";var s="";for(var o in i)s+="".concat(o,":").concat(i[o],";");return s},borderLineStyle:function(){var t={},e=this.styles.borderStyle;if(e&&e.color&&(t["border-color"]=e.color),e&&e.width){var a=e&&e.width||1,i=e&&e.style||0;"number"===typeof a?a+="px":a=a.indexOf("px")?a:a+"px",t["border-width"]=a,"number"===typeof i?i+="px":i=i.indexOf("px")?i:i+"px",t["border-top-style"]=i}var n="";for(var r in t)n+="".concat(r,":").concat(t[r],";");return n}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",{item:t,index:e})},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},value2px:function(t){return"number"===typeof t?t+="px":t=-1!==t.indexOf("px")?t:t+"px",t}}};e.default=i},"397b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{focus:!1}},props:{modelValue:String,value:String,scene:{type:String,default:function(){return""}},title:{type:String,default:function(){return""}}},computed:{val:{get:function(){return this.value||this.modelValue},set:function(t){this.$emit("input",t)}}},methods:{open:function(){this.focus=!0,this.val="",this.$refs.popup.open()},close:function(){this.focus=!1,this.$refs.popup.close()},confirm:function(){if(!this.val)return uni.showToast({title:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801",icon:"none"});this.close(),this.$emit("confirm")}}};e.default=i},3998:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u66f4\u591a\u6570\u636e",_i:2}},[a("uni-tr",{attrs:{_i:3}},[a("uni-th",{staticClass:t._$s(4,"sc","th"),attrs:{align:"center",_i:4}}),t._l(t._$s(5,"f",{forItems:t.panelData}),(function(e,i,n,r){return a("uni-th",{key:t._$s(5,"f",{forIndex:n,key:i}),staticClass:t._$s("5-"+r,"sc","th"),attrs:{align:"center",_i:"5-"+r}},[a("uni-tooltip",{attrs:{_i:"6-"+r},scopedSlots:t._u([{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("10-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"10-"+r+"-"+s}},t._l(n._$s("11-"+r+"-"+s,"f",{forItems:e.list}),(function(e,i,o,u){return a("view",{key:n._$s("11-"+r+"-"+s,"f",{forIndex:o,key:i}),attrs:{_i:"11-"+s+r+"-"+u}},[t._v(n._$s("11-"+s+r+"-"+u,"t0-0",t._s(e.tooltip)))])})),0)]}}],null,!0)},[a("view",{staticClass:t._$s("7-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.title))),a("uni-icons",{staticClass:t._$s("8-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"8-"+r}})],1)])],1)}))],2),a("uni-tr",{attrs:{_i:12}},[a("uni-td",{staticClass:t._$s(13,"sc","td"),attrs:{align:"center",_i:13}},[t._v("")]),t._l(t._$s(14,"f",{forItems:t.panelData}),(function(e,i,n,r){return a("uni-td",{key:t._$s(14,"f",{forIndex:n,key:i}),staticClass:t._$s("14-"+r,"sc","td"),attrs:{align:"center",_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(e.list[0].value)))])}))],2),a("uni-tr",{attrs:{_i:15}},[a("uni-td",{staticClass:t._$s(16,"sc","td"),attrs:{align:"center",_i:16}},[t._v("")]),t._l(t._$s(17,"f",{forItems:t.panelData}),(function(e,i,n,r){return a("uni-td",{key:t._$s(17,"f",{forIndex:n,key:i}),staticClass:t._$s("17-"+r,"sc","td"),attrs:{align:"center",_i:"17-"+r}},[t._v(t._$s("17-"+r,"t0-0",t._s(e.list[1].value)))])}))],2),a("uni-tr",{attrs:{_i:18}},[a("uni-td",{staticClass:t._$s(19,"sc","td"),attrs:{align:"center",_i:19}},[t._v("")]),t._l(t._$s(20,"f",{forItems:t.panelData}),(function(e,i,n,r){return a("uni-td",{key:t._$s(20,"f",{forIndex:n,key:i}),staticClass:t._$s("20-"+r,"sc","td"),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.list[2].value)))])}))],2)],1)],1)},r=[]},"39f5":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{minLength:3,maxLength:32,errorMessage:"\u7528\u6237\u540d\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,a,i){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&i("\u7528\u6237\u540d\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&i("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),/[\u4E00-\u9FA5\uF900-\uFA2D]{1,}/.test(e)&&i("\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u4e2d\u6587"),!0}}],label:"\u7528\u6237\u540d"},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,a,i){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&i("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&i("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"},password:{rules:[{required:!0},{format:"password"},{minLength:6}],label:"\u5bc6\u7801"},mobile:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"\u624b\u673a\u53f7\u7801"},status:{rules:[{format:"int"},{range:[{text:"\u6b63\u5e38",value:0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}],defaultValue:0,label:"\u7528\u6237\u72b6\u6001"},email:{rules:[{format:"string"},{format:"email"}],label:"\u90ae\u7bb1"},role:{rules:[{format:"array"}],label:"\u89d2\u8272"},last_login_date:{rules:[{format:"timestamp"}]}};e.enumConverter={status_valuetotext:{0:"\u6b63\u5e38",1:"\u7981\u7528",2:"\u5ba1\u6838\u4e2d",3:"\u5ba1\u6838\u62d2\u7edd"}}},"39ff":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initRequest=function(t){t.prototype.$request=o},e.request=o;var n=i(a("4082")),r=(i(a("96c83")),i(a("f808"))),s=["objectName","functionName","showModal"];r.default.navBar.debug,t.database();function o(e,a,i){var r,o=Object.assign({objectName:"uni-id-co",functionName:"",showModal:!1,customUI:!0,loadingOptions:{title:"xxx"}},i),u=o.objectName,c=o.functionName,l=o.showModal,d=(0,n.default)(o,s);if(c)r=t.callFunction({name:c,data:{action:e,params:a}});else{var f=t.importObject(u,d);r=f[e](a)}return r.then((function(t){return t=c?t.result:t,t&&t.errCode?Promise.reject(t):Promise.resolve(t)})).catch((function(t){return l&&uni.showModal({content:t.errMsg||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1}),Promise.reject(t)}))}}).call(this,a("a9ff")["default"])},"3a09":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initPermission=function(t){t.prototype.$hasPermission=function(t){var e=this.$uniIdPagesStore.store.userInfo.permission||[],a=this.$uniIdPagesStore.store.userInfo.role||[];return a.indexOf("admin")>-1||e.indexOf(t)>-1},t.prototype.$hasRole=function(t){var e=this.$uniIdPagesStore.store.userInfo.role||[];return e.indexOf(t)>-1}}},"3a9e":function(t,e,a){"use strict";a.r(e);var i=a("8b27"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"3b94":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[a("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),a("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[a("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[a("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:20}})],1)])]),a("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),a("fix-window",{attrs:{_i:23}})],1)},r=[]},"3bc1":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7etagid",required:!0,_i:2}},[a("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u7684tagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),a("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[a("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),a("navigator",{},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},"3c09":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[a("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),a("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"date",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}}),t._$s(5,"i",t.dateTabs.timeStr)?a("view",{staticClass:t._$s(5,"sc","uni-stat--tips"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.dateTabs.timeStr)))]):t._e()],1),t._$s(6,"i",!t.notData)?a("view",{staticClass:t._$s(6,"sc","uni-charts-box"),attrs:{_i:6}},[a("qiun-data-charts",{attrs:{type:"funnel",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:7}})],1):a("view",{staticClass:t._$s(8,"sc","uni-charts-box flex center"),attrs:{_i:8}},[a("view")])])},r=[]},"3c96":function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"3cbc":function(t,e,a){"use strict";a.r(e);var i=a("3b94"),n=a("7c77");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"3cfa":function(t,e,a){"use strict";a.r(e);var i=a("fd7e"),n=a("8bd7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"7c95bcba",null,!1,i["a"],void 0);e["default"]=o.exports},"3d42":function(t,e,a){"use strict";a.r(e);var i=a("12c4"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"3e38":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("c63b")),s=i(a("1f5c"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=t.database();c.command;function l(t){var e={};for(var a in r.default)t.includes(a)&&(e[a]=r.default[a]);return e}var d={components:{Icons:s.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:null,parent_id:"",permission:[],enable:!0},rules:u({},l(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){t.parent_id&&(this.formData.parent_id=t.parent_id)},methods:{submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,a=t.detail,i=a.value,n=a.errors;n||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),c.collection("opendb-admin-menus").add(i).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=d}).call(this,a("a9ff")["default"])},"3e5a":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),a("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[a("unicloud-db",{ref:"udb",attrs:{collection:"opendb-app-list",field:"appid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",staticClass:i._$s("10-"+n,"sc","table-pc"),attrs:{loading:o||t.addAppidLoading,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"11-"+n}},[a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"appid")},"sort-change":function(e){return t.sortChange(e,"appid")}}},[t._v("AppID")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u5e94\u7528\u540d\u79f0")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,width:t.descriptionThWidth,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u5e94\u7528\u63cf\u8ff0")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",width:t.buttonThWidth,_i:"16-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("17-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("17-"+n,"f",{forIndex:s,key:r}),attrs:{disabled:e.appid===t.appid,_i:"17-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"18-"+n+o}},[t._v(i._$s("18-"+n+o,"t0-0",t._s(e.appid)))]),a("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(i._$s("19-"+n+o,"t0-0",t._s(e.name)))]),a("uni-td",{attrs:{align:"left",_i:"20-"+n+o}},[t._v(i._$s("20-"+n+o,"t0-0",t._s(e.description)))]),a("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[i._$s("24-"+n+o,"i",e.appid===t.appid)?a("view",{attrs:{_i:"24-"+n+o}},[t._v("-")]):a("view",{staticClass:i._$s("25-"+o,"sc","uni-group"),attrs:{_i:"25-"+o}},[a("button",{staticClass:i._$s("26-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"26-"+o},on:{click:function(a){return t.publish(e._id)}}},[t._v(i._$s("26-"+o+n,"t0-0",t._s(t.$t("common.button.publish"))))]),a("button",{staticClass:i._$s("27-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+o},on:{click:function(a){return t.navigateTo("/uni_modules/uni-upgrade-center/pages/version/list?appid="+e.appid,!1)}}},[t._v(i._$s("27-"+o+n,"t0-0",t._s(t.$t("common.button.version"))))]),a("button",{staticClass:i._$s("28-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"28-"+o},on:{click:function(a){return t.navigateTo("./add?id="+e.appid,!1)}}},[t._v(i._$s("28-"+o+n,"t0-0",t._s(t.$t("common.button.edit"))))]),a("button",{staticClass:i._$s("29-"+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"29-"+o},on:{click:function(a){return t.confirmDelete(e._id)}}},[t._v(i._$s("29-"+o+n,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),a("view",{staticClass:i._$s("30-"+n,"sc","uni-pagination-box"),attrs:{_i:"30-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"31-"+n},on:{change:t.onPageChanged,pageSizeChange:t.pageSizeChange},model:{value:t._$s("31-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("fix-window",{attrs:{_i:32}})],1)},r=[]},"3e8f":function(t,e){},"3f15":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a")),r=a("7c5a");function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var u={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,r.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[]}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getChartData(t.query),t.getRangeCountData(t.query,"month")}),300)},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat((0,n.default)(this.dayChartsData),(0,n.default)(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,r.stringifyQuery)({appid:t});return e}},methods:{getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var n=(0,r.getTimeOfSomeDayAgo)(0);if(e.start_time>=n){var s=(new Date).getTime();e.start_time=[n,s],e=(0,r.stringifyQuery)(e,!0)}else e=(0,r.stringifyQuery)(e);var o=t.database();o.collection("uni-stat-result").where(e).field("active_user_count,new_user_count,total_users,platform_id").groupBy("platform_id").groupField("sum(active_user_count) as ".concat(i,"_active_user_count, sum(new_user_count) as ").concat(i,"_new_user_count, max(total_users) as ").concat(i,"_total_users")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,a){var i=this;e=(0,r.stringifyQuery)(e);var n=t.database();n.collection("uni-stat-result").where(e).field("active_user_count, new_user_count, platform_id, ".concat(a,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(a,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(a?a+",":"","platform_id")).groupField("sum(active_user_count) as ".concat(a,"_active_user_count, sum(new_user_count) as ").concat(a,"_new_user_count")).orderBy("year asc, ".concat(a," asc")).get().then((function(t){var e=t.result.data;i.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,a){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=t.database();r.collection("uni-stat-app-platforms").get().then((function(t){var r=[{field:"".concat(n,"_new_user_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u65b0\u589e\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(n,"_active_user_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u6d3b\u8dc3\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===n&&r.unshift({field:"day_total_users",title:"\u603b\u7528\u6237\u6570\u5bf9\u6bd4",series:[{data:[]}]}),i[a]=r;var o=t.result.data,u={};o.forEach((function(t){u[t._id]=t.name}));var c,l=s(i[a]);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,p=f.series[0].data,h=JSON.parse(JSON.stringify(u)),m=s(e);try{for(m.s();!(d=m.n()).done;){var _=d.value;for(var g in _)if(f.field===g){var v=_.platform_id,y={name:h[v],value:_[g]};p.push(y),delete h[v]}}}catch(w){m.e(w)}finally{m.f()}for(var b in h){var x={name:h[b],value:0};p.push(x)}}}catch(w){l.e(w)}finally{l.f()}}))}}};e.default=u}).call(this,a("a9ff")["default"])},"3f9c":function(t,e,a){"use strict";a.r(e);var i=a("f0a1"),n=a("078c");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"404c":function(t,e,a){"use strict";a.r(e);var i=a("7d06"),n=a("493b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},4082:function(t,e,a){var i=a("f0e4");t.exports=function(t,e){if(null==t)return{};var a,n,r=i(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)a=s[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r},t.exports.__esModule=!0,t.exports["default"]=t.exports},"40ee":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initError=function(t){var e=r.default.navBar.debug;if(e&&!0===e.enable){var a=t.config.errorHandler;t.config.errorHandler=function(t,e,i){var r=e.$page&&e.$page.route;return n.default.dispatch("error/add",{err:t.toString(),info:i,route:r,time:(new Date).toLocaleTimeString()}),a(t,e,i)}}};var n=i(a("96c83")),r=i(a("f808"))}).call(this,a("0de9")["default"])},"410b":function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7d71\u767b\u9304","prompt":"\u5982\u7121\u7ba1\u7406\u54e1\u8cec\u865f\uff0c\u8acb\u5148\u5275\u5efa\u7ba1\u7406\u54e1..."},"field":{"username":"\u8cec\u865f","password":"\u5bc6\u78bc","captcha":"\u9a57\u8b49\u78bc"},"button":{"login":"\u767b\u9304"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6a94","plugin":"\u700f\u89bd\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u78bc","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5167\u5bb9\u4e3b\u9ad4\uff0c\u53ef\u81ea\u5b9a\u7fa9\u5167\u5bb9\u53ca\u6a23\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u7576\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u78bc"},"field":{"oldPassword":"\u820a\u5bc6\u78bc","newPassword":"\u65b0\u5bc6\u78bc","passwordConfirmation":"\u78ba\u8a8d\u65b0\u5bc6\u78bc"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"},"button":{"search":"\u6aa2\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u522a\u9664","batchDelete":"\u6279\u91cf\u522a\u9664","exportExcel":"\u5c0e\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6a19\u7c3d\u7ba1\u7406","publish":"\u767c\u5e03\u9801\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406","sendSMS":"\u7fa4\u767c\u77ed\u4fe1"},"empty":"\u6c92\u6709\u66f4\u591a\u6578\u64da","piecePerPage":"\u689d/\u9801"},"user":{"text":{"userManager":"\u7528\u6236\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6b0a\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u61c9\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6236\u53ef\u767b\u9304\u7684\u61c9\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u55ae\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u55ae"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7d1a\u83dc\u55ae","addChildMenu":"\u5b50\u83dc\u55ae","updateBuiltInMenu":"\u66f4\u65b0\u5167\u5bd8\u9078\u55ae"}},"demo":{"icons":{"title":"\u5716\u6a19","describle":"\u9ede\u64ca\u5716\u6a19\u5373\u53ef\u8907\u88fd\u5716\u6a19\u4ee3\u78bc"},"table":{"title":"\u8868\u683c"}}}')},4118:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("h3",{staticClass:t._$s(1,"sc","text-separated"),attrs:{_i:1}}),a("view",[a("view",{staticClass:t._$s(3,"sc","text-separated"),attrs:{_i:3}},[a("text",{staticClass:t._$s(4,"sc","strong"),attrs:{_i:4}}),a("text")]),a("view",{staticClass:t._$s(6,"sc","text-separated"),attrs:{_i:6}},[a("text",{staticClass:t._$s(7,"sc","strong"),attrs:{_i:7}}),a("text")])]),a("h3",{staticClass:t._$s(9,"sc","text-separated"),attrs:{_i:9}}),a("view",{staticClass:t._$s(10,"sc","flex text-separated"),attrs:{_i:10}},[a("text",[a("view",{staticClass:t._$s(12,"sc","strong"),attrs:{_i:12}})]),a("button",{staticClass:t._$s(13,"sc","custom-button"),attrs:{_i:13},on:{click:t.publish}})]),a("h3",{staticClass:t._$s(14,"sc","text-separated"),attrs:{_i:14}}),a("view",[a("view",{staticClass:t._$s(16,"sc","text-separated"),attrs:{_i:16}},[a("text")]),a("view",{staticClass:t._$s(18,"sc","text-separated"),attrs:{_i:18}},[a("text",[a("a",{staticClass:t._$s(20,"sc","a-label"),attrs:{_i:20}})])])])])},n=[]},"412a":function(t,e,a){"use strict";a.r(e);var i=a("3e38"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"413d":function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"select date","uni-datetime-picker.selectTime":"select time","uni-datetime-picker.selectDateTime":"select date and time","uni-datetime-picker.startDate":"start date","uni-datetime-picker.endDate":"end date","uni-datetime-picker.startTime":"start time","uni-datetime-picker.endTime":"end time","uni-datetime-picker.ok":"ok","uni-datetime-picker.clear":"clear","uni-datetime-picker.cancel":"cancel","uni-datetime-picker.year":"-","uni-datetime-picker.month":"","uni-calender.MON":"MON","uni-calender.TUE":"TUE","uni-calender.WED":"WED","uni-calender.THU":"THU","uni-calender.FRI":"FRI","uni-calender.SAT":"SAT","uni-calender.SUN":"SUN","uni-calender.confirm":"confirm"}')},4162:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userFeildsMap=e.deviceFeildsMap=void 0;e.deviceFeildsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_devices",title:"\u603b\u8bbe\u5907\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_device_count",title:"\u65b0\u589e\u8bbe\u5907",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_device_count",title:"\u6d3b\u8dc3\u8bbe\u5907",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.userFeildsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_users",title:"\u603b\u7528\u6237\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_user_count",title:"\u65b0\u589e\u7528\u6237",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_user_count",title:"\u6d3b\u8dc3\u7528\u6237",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}]},"41b5":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1030")),r=i(a("efa1")),s=i(a("ea02")),o=i(a("317c")),u=i(a("5a6b")),c={en:n.default,es:r.default,fr:s.default,"zh-Hans":o.default,"zh-Hant":u.default};e.default=c},"41bd":function(t,e,a){"use strict";a.r(e);var i=a("25a4"),n=a("d34f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"1f06c581",null,!1,i["a"],void 0);e["default"]=o.exports},4204:function(t,e,a){"use strict";a.r(e);var i=a("b0eb"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},4216:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTransition:a("5647").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.showPopup)?a("view",{staticClass:t._$s(0,"sc","uni-popup"),class:t._$s(0,"c",[t.popupstyle,t.isDesktop?"fixforpc-z-index":""]),attrs:{_i:0}},[a("view",{attrs:{_i:1},on:{touchstart:t.touchstart}},[t._$s(2,"i",t.maskShow)?a("uni-transition",{key:"1",attrs:{name:"mask","mode-class":"fade",styles:t.maskClass,duration:t.duration,show:t.showTrans,_i:2},on:{click:t.onTap}}):t._e(),a("uni-transition",{key:"2",attrs:{"mode-class":t.ani,name:"content",styles:t.transClass,duration:t.duration,show:t.showTrans,_i:3},on:{click:t.onTap}},[a("view",{staticClass:t._$s(4,"sc","uni-popup__wrapper"),class:t._$s(4,"c",[t.popupstyle]),style:t._$s(4,"s",{backgroundColor:t.bg}),attrs:{_i:4},on:{click:t.clear}},[t._t("default",null,{_i:5})],2)])],1)]):t._e()},r=[]},4275:function(t,e,a){"use strict";a.r(e);var i=a("6269"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"427d":function(t,e,a){"use strict";a.r(e);var i=a("cf44"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"42db":function(t,e,a){"use strict";a.r(e);var i=a("00a3"),n=a("445a");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"3238fad6",null,!1,i["a"],void 0);e["default"]=o.exports},"430d":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={tagid:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u7684tagid"},name:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u540d\u79f0"},description:{rules:[{format:"string"}],label:"\u6807\u7b7e\u63cf\u8ff0"}};e.enumConverter={}},"432e":function(t,e,a){"use strict";a.r(e);var i=a("0f57"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},4362:function(t,e,a){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=a("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},4419:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a4b9")),r=i(a("14a0")),s=i(a("652c")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},4423:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t._$s(0,"a-id",t.idName),_i:0},on:{click:t.generate}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.name)))],{_i:1})],2)},n=[]},4442:function(t,e,a){"use strict";a.r(e);var i=a("c016"),n=a("d007");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"445a":function(t,e,a){"use strict";a.r(e);var i=a("7436"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"445c":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b3af")),r=i(a("0ec9")),s=(i(a("3015")),t.importObject("uni-id-co",{customUI:!0})),o={mixins:[r.default],data:function(){return{formData:{username:"",nickname:"",password:"",password2:"",captcha:""},rules:n.default,focusUsername:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){if(t.needAgreements&&!t.agree)return t.$refs.agreements.popup((function(){t.submitForm(e)}));t.submitForm(e)})).catch((function(e){var a=e[0].key;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))},submitForm:function(t){s.registerAdmin(this.formData).then((function(t){uni.navigateBack()})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.errMsg||"\u521b\u5efa\u5931\u8d25: ".concat(t.errCode),showCancel:!1})}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register-by-email"})}}};e.default=o}).call(this,a("a9ff")["default"])},"448a":function(t,e,a){var i=a("2236"),n=a("11b0"),r=a("6613"),s=a("0676");t.exports=function(t){return i(t)||n(t)||r(t)||s()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"45dd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniMenuSidebar",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},methods:{}};e.default=i},"46a8":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1562")),r={name:"uniTr",components:{tableCheckbox:n.default},props:{disabled:{type:Boolean,default:!1},keyValue:{type:[String,Number],default:""}},options:{virtualHost:!0},data:function(){return{value:!1,border:!1,selection:!1,widthThArr:[],ishead:!0,checked:!1,indeterminate:!1}},created:function(){var t=this;this.root=this.getTable(),this.head=this.getTable("uniThead"),this.head&&(this.ishead=!1,this.head.init(this)),this.border=this.root.border,this.selection=this.root.type,this.root.trChildren.push(this);var e=this.root.data.find((function(e){return e[t.root.rowKey]===t.keyValue}));e&&(this.rowData=e),this.root.isNodata()},mounted:function(){if(this.widthThArr.length>0){var t="selection"===this.selection?50:0;this.root.minWidth=this.widthThArr.reduce((function(t,e){return Number(t)+Number(e)}))+t}},destroyed:function(){var t=this,e=this.root.trChildren.findIndex((function(e){return e===t}));this.root.trChildren.splice(e,1),this.root.isNodata()},methods:{minWidthUpdate:function(t){this.widthThArr.push(t)},checkboxSelected:function(t){var e=this,a=this.root.data.find((function(t){return t[e.root.rowKey]===e.keyValue}));this.checked=t.checked,this.root.check(a||this,t.checked,a?this.keyValue:null)},change:function(t){var e=this;this.root.trChildren.forEach((function(a){a===e&&e.root.check(e,t.detail.value.length>0)}))},getTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniTable",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}};e.default=r},"46f2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("0edc"),n={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,i.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=n},4712:function(t,e,a){"use strict";a.r(e);var i=a("b0d4"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},4723:function(t,e,a){"use strict";a.r(e);var i=a("0789"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},4751:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("e950"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",uni_platform:"android",platform_id:"",version_id:"",start_time:[]},paginationOptions:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,days:0,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count",queryId:"",updateValue:"",errorMessage:""}},computed:{chartTabs:function(){var t=[];return s.default.forEach((function(e){var a=e.field,i=e.title,n=e.hasOwnProperty("value");a&&i&&n&&t.push({_id:a,name:i})})),t},queryStr:function(){return(0,r.stringifyQuery)(this.query,!0)},dimension:function(){return(0,r.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a,type:"native_app"});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.queryStr)}),300)},watch:{query:{deep:!0,handler:function(t){this.paginationOptions.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,r.getTimeOfSomeDayAgo)(t),i=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.paginationOptions.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.paginationOptions.pageSize=t,this.paginationOptions.pageCurrent=1,this.getTableData()},changeChartTab:function(t,e,a){this.getChartData(t,a)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(),this.getChartData(),this.getTableData()):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chartTab,i=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),n=(this.paginationOptions.pageCurrent,t.database());n.collection("uni-stat-result").where(i).field("".concat((0,r.stringifyField)(s.default,a),", start_time, channel_id")).groupBy("channel_id,start_time").groupField((0,r.stringifyGroupField)(s.default,a)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var i=t.result,n=(i.count,i.data),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},c=u.categories;if("hour"===e.dimension)for(var l=0;l<24;++l){var d=l<10?"0"+l:l,f="".concat(d,":00 ~ ").concat(d,":59");c.push(f)}var p=[];n.forEach((function(t){p.indexOf(t.channel_id)<0&&p.push(t.channel_id)}));var h=[];e.getChannels().then((function(t){h=t.result.data})).finally((function(){p.forEach((function(t,i){var l=h.find((function(e){return e._id===t})),d=u.series[i]={name:l&&l.channel_name||"\u672a\u77e5",data:[]};if("hour"===e.dimension)for(var f=0;f<24;++f)d.data[f]=0;var p=s.default.filter((function(t){return t.field===a}));p=JSON.parse(JSON.stringify(p)),delete p[0].value,p[0].formatter="";var m,_=o(n);try{for(_.s();!(m=_.n()).done;){var g=m.value;(0,r.mapfields)(p,g,g);var v=g.start_time,y=(0,r.formatDate)(v,e.dimension),b=g[a],x=c.indexOf(y);t===g.channel_id&&(x<0?(c.push(y),d.data.push(b)):d.data[x]=b)}}catch(w){_.e(w)}finally{_.f()}})),u.series=u.series.sort((function(t,e){return t.name.localeCompare(e.name)})),e.chartData=u}))})).catch((function(t){})).finally((function(){}))},getChannels:function(){var e=t.database();return e.collection("uni-stat-app-channels").where((0,r.stringifyQuery)({appid:this.query.appid,platform_id:this.query.platform_id})).get()},getTableData:function(){var e=this,a=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),i=this.paginationOptions.pageCurrent;this.loading=!0;var n=t.database();n.collection("uni-stat-result").where(a).field("".concat((0,r.stringifyField)(s.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("new_device_count","desc").skip((i-1)*this.paginationOptions.pageSize).limit(this.paginationOptions.pageSize).get({getCount:!0}).then((function(t){var a=t.result,i=a.count,n=a.data;e.getChannels().then((function(t){var e,a=t.result.data,i=o(n);try{var r=function(){var t=e.value;a.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(i.s();!(e=i.n()).done;)r()}catch(s){i.e(s)}finally{i.f()}})).finally((function(){var t,a=o(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;(0,r.mapfields)(s.default,u,u,"total_")}}catch(c){a.e(c)}finally{a.f()}e.tableData=[],e.paginationOptions.total=i,e.tableData=n,e.loading=!1}))})).catch((function(t){e.loading=!1}))},createStr:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",i=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var n=t.field;i.push("".concat(e,"(").concat(n,") as ").concat(a+n))}})),i.join()},getPanelData:function(){var e=this,a=JSON.parse(JSON.stringify(this.query));a.dimension="day";var i=(0,r.stringifyQuery)(a,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(i).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc").get().then((function(t){var i=t.result.data[0];i&&(i.total_devices=0),r.getFieldTotal.call(e,a),e.panelData=[],e.panelData=(0,r.mapfields)(s.default,i)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(e){var a=this,i=t.database();i.collection("uni-stat-app-channels").where({channel_code:this.queryId}).update({channel_name:e}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),a.getTableData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},4753:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("7c5a"),s=i(a("6195")),o=a("f220");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",fieldsMap:o.fieldsMap,chartData:{},errorMessage:"",notData:!1,opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right",linearType:"custom",minSize:20}}},dateTabs:{time:Date.now(),timeStr:"",index:0,list:[{_id:"day",name:"\u65e5\u7ef4\u5ea6"},{_id:"week",name:"\u5468\u7ef4\u5ea6"},{_id:"month",name:"\u6708\u7ef4\u5ea6"}]}}},created:function(){var t=this;this.getCloudDataDebounce=(0,r.debounce)((function(){t.getCloudData()}),400),this.getCloudDataDebounce()},methods:{calcPercentage:function(t,e){return e>0?parseFloat((t/e*100).toFixed(2)):0},getCloudData:function(){var e=this,a=this.query;if(a.appid){var i=this.getWhere(),n=c(c({},a),i);n=(0,r.stringifyQuery)(n,!1,["uni_platform"]);var s=t.database();s.collection(this.tableName).where(n).field("".concat((0,r.stringifyField)(o.fieldsMap),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("null").groupField((0,r.stringifyGroupField)(o.fieldsMap)).get().then((function(t){var a=t.result.data;if(a.length){e.errorMessage="",a.map((function(t){for(var e in t)e.indexOf("_amount")>1&&(t[e]=Number((t[e]/100).toFixed(2)))}));var i=a[0]||{},n=i.activity_device_count,r=void 0===n?0:n,s=i.activity_user_count,o=void 0===s?0:s,u=i.pay_user_count,c=void 0===u?0:u;e.notData=!(r||o||c);var l={series:[{data:[{name:"\u6d3b\u8dc3\u8bbe\u5907\u6570\u91cf",value:r,centerText:"".concat(r),labelText:"\u6d3b\u8dc3\u8bbe\u5907\u6570"},{name:"\u6d3b\u8dc3\u7528\u6237\u6570\u91cf",value:o,centerText:"".concat(o),labelText:"\u6d3b\u8dc3\u7528\u6237\u6570\uff08\u7528\u6237\u8f6c\u5316\u7387\uff1a".concat(e.calcPercentage(o,r),"%\uff09")},{name:"\u652f\u4ed8\u7528\u6237\u6570\u91cf",value:c,centerText:"".concat(c),labelText:"\u652f\u4ed8\u7528\u6237\u6570\uff08\u652f\u4ed8\u8f6c\u5316\u7387\uff1a".concat(e.calcPercentage(c,o),"%\uff09")}]}]};e.chartData=l}else e.errorMessage="\u6682\u65e0\u6570\u636e"}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},dateTabsChange:function(t,e){this.dateTabs.index=e,this.getCloudData()},datePickerChange:function(t){this.dateTabs.time=t,this.getCloudData()},getWhere:function(){var t=this.dateTabs.time,e=this.dateTabs.list[this.dateTabs.index]._id||"day",a=[];if("day"===e){var i=s.default.getOffsetStartAndEnd("day",0,t),n=i.startTime,r=i.endTime;a=[n,r]}else if("week"===e){var o=s.default.getOffsetStartAndEnd("week",0,t),u=o.startTime,c=o.endTime;a=[u,c]}else if("month"===e){var l=s.default.getOffsetStartAndEnd("month",0,t),d=l.startTime,f=l.endTime;a=[d,f]}return this.dateTabs.timeStr="".concat(s.default.timeFormat(a[0])," ~ ").concat(s.default.timeFormat(a[1])),{dimension:e,start_time:a}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=l}).call(this,a("a9ff")["default"])},4772:function(t,e,a){"use strict";a.r(e);var i=a("ffd2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"47b7":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[a("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),a("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"datetimerange",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}})],1),a("uni-stat-tabs",{attrs:{type:"box",current:t.statTabs.index,tabs:t.statTabs.list,_i:5},on:{change:t.statTabsChange}}),a("view",{staticClass:t._$s(6,"sc","uni-charts-box"),attrs:{_i:6}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:7}})],1)],1)},r=[]},"47f3":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),a("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"11-"+n}},[a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"role_id")},"sort-change":function(e){return t.sortChange(e,"role_id")}}},[t._v("\u552f\u4e00ID")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"role_name")},"sort-change":function(e){return t.sortChange(e,"role_name")}}},[t._v("\u540d\u79f0")]),a("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("\u6743\u9650")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",_i:"17-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("18-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("18-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"18-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(i._$s("19-"+n+o,"t0-0",t._s(e.role_id)))]),a("uni-td",{attrs:{align:"center",_i:"20-"+n+o}},[t._v(i._$s("20-"+n+o,"t0-0",t._s(e.role_name)))]),a("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[t._v(i._$s("21-"+n+o,"t0-0",t._s(e.permission)))]),a("uni-td",{attrs:{align:"center",_i:"22-"+n+o}},[t._v(i._$s("22-"+n+o,"t0-0",t._s(e.comment)))]),a("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"24-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[a("view",{staticClass:i._$s("26-"+n+o,"sc","uni-group"),attrs:{_i:"26-"+n+o}},[a("button",{staticClass:i._$s("27-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+n+o},on:{click:function(a){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("27-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),a("button",{staticClass:i._$s("28-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"28-"+n+o},on:{click:function(a){return t.confirmDelete(e._id)}}},[t._v(i._$s("28-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),a("view",{staticClass:i._$s("29-"+n,"sc","uni-pagination-box"),attrs:{_i:"29-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"30-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("30-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("fix-window",{attrs:{_i:31}})],1)},r=[]},4842:function(t,e,a){"use strict";a.r(e);var i=a("562f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},4921:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("ae2d")),r={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:n.default.glyphs}},computed:{unicode:function(){var t=this,e=this.icons.find((function(e){return e.font_class===t.type}));return e?unescape("%u".concat(e.unicode)):""},iconSize:function(){return function(t){return"number"===typeof t||/^[0-9]*$/g.test(t)?t+"px":t}(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};e.default=r},"493b":function(t,e,a){"use strict";a.r(e);var i=a("a52f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"498b":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("278c")),s=a("7c5a"),o=a("08bd");function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l=o.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),d={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.fieldsMap,resFieldsMap:o.resFieldsMap,entFieldsMap:o.entFieldsMap,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:l,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0,errorMessage:""}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,a=t.pageSizeIndex;return e[a]},chartTabs:function(){var t=[];return o.fieldsMap.forEach((function(e){var a=e.field,i=e.title;a&&i&&t.push({_id:a,name:i})})),t},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,s.stringifyQuery)({appid:e,uni_platform:a});return i},channelQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=(0,s.stringifyQuery)({appid:e,platform_id:a});return i}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,s.getTimeOfSomeDayAgo)(t),i=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,a){this.tabIndex=e,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],a=t[1],i=a-e>=864e5;return i},getPanelData:function(){var e=this,a=this.query,i=a.appid,n=a.platform_id,r=a.version_id,u=(0,s.stringifyQuery)({appid:i,platform_id:n,version_id:r,start_time:[(0,s.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),c=t.database();c.collection(this.tableName).where(u).field("".concat((0,s.stringifyField)(o.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,s.stringifyGroupField)(o.fieldsMap)).orderBy("stat_date","desc").get().then((function(t){var a=t.result.data,i=a.find((function(t){return t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(0),"","")}))||{};i.total_users=0;var n=a.find((function(t){return"day"===t.dimension&&t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(1),"","")}));e.panelData=[],e.panelData=(0,s.mapfields)(o.fieldsMap,i),e.panelData.map((function(t){(0,s.mapfields)(o.fieldsMap,n,t,"","contrast")})),s.getFieldTotal.call(e,u,"total_users")}))},getChartData:function(e){var a,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,l=(this.options.pageCurrent,this.currentDateTab),d=(0,s.getTimeOfSomeDayAgo)(l),f=864e5;if(!this.getDays()){var p=d-f,h=d+f-1;e=JSON.parse(JSON.stringify(e)),a=e.start_time=[p,h]}e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var m=t.database();m.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.fieldsMap,n),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.fieldsMap,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,l=(e.count,e.data),f={categories:[],series:[{name:c,data:[]}]},p=o.fieldsMap.filter((function(t){return t.field===n}));if(p=JSON.parse(JSON.stringify(p)),delete p[0].value,p[0].formatter="",i.getDays()){var h,m=u(l);try{for(m.s();!(h=m.n()).done;){var _=h.value;(0,s.mapfields)(p,_,_);var g=(0,s.formatDate)(_.start_time,"day"),v=Number(_[n]);f.series[0].data.push(v),f.categories.push(g)}}catch(y){m.e(y)}finally{m.f()}}else(function(){for(var t=a,e=(0,r.default)(t,2),i=e[0],o=e[1],u=f.series[1]={name:(0,s.formatDate)(i),data:[]},c=f.series[0]={name:(0,s.formatDate)(o),data:[]},h=function(t){var e=t<10?"0"+t:t,a="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(a),u.data[t]=0,c.data[t]=0,l.forEach((function(e){(0,s.mapfields)(p,e,e);var a=Number(e[n]),i=new Date(e.start_time);e.start_time<d?i.getHours()===t&&(u.data[t]=a):i.getHours()===t&&(c.data[t]=a)}))},m=0;m<24;++m)h(m)})();i.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(e){var a=t.database();return a.collection(this.tableName).where(e).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=d}).call(this,a("a9ff")["default"],a("0de9")["default"])},"49c2":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{ref:"app-versions",staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",all:!1,mode:"platform-channel",_i:9},on:{change:t.changePlatform},model:{value:t._$s(9,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-stat--x flex"),attrs:{_i:10}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:11},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[a("uni-stat-panel",{staticClass:t._$s(14,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:14}}),a("uni-stat-tabs",{staticClass:t._$s(15,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:15},model:{value:t._$s(15,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(16,"sc","uni-charts-box"),attrs:{_i:16}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:17}})],1)],1),a("view",{staticClass:t._$s(18,"sc","uni-stat--x p-m"),attrs:{_i:18}},[a("view",{staticClass:t._$s(19,"sc","flex-between"),attrs:{_i:19}},[a("view",{staticClass:t._$s(20,"sc","uni-stat-card-header"),attrs:{_i:20}}),a("view",{staticClass:t._$s(21,"sc","uni-group"),attrs:{_i:21}})]),a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"appid,version,platform,channel,sdk_version,device_id,device_net,device_os,device_os_version,device_vendor,device_model,device_is_root,device_os_name,device_batt_level,device_batt_temp,device_memory_use_size,device_memory_total_size,device_disk_use_size,device_disk_total_size,device_abis,app_count,app_use_memory_size,app_webview_count,app_use_duration,app_run_fore,package_name,package_version,page_url,error_msg,create_time",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,loadtime:"manual",options:t.options,_i:22},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){e.data;var r=e.pagination,s=e.loading;e.error,e.options;return[a("uni-table",{ref:"table",staticStyle:{"overflow-y":"scroll"},attrs:{loading:s,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:"23-"+n}},[a("uni-tr",{attrs:{_i:"24-"+n}},[t._l(i._$s("25-"+n,"f",{forItems:t.fieldsMap}),(function(e,r,s,o){return[i._$s("26-"+n+o,"i",e.title)?a("uni-th",{key:i._$s("25-"+n,"f",{forIndex:s,keyIndex:0,key:r+"_"+r+"_0"}),style:i._$s("26-"+n+o,"s",{minWidth:15*e.title.length+80+"px"}),attrs:{align:"center",_i:"26-"+n+o}},[a("uni-tooltip",{attrs:{_i:"27-"+n+o},scopedSlots:t._u([t._$s("29-"+o,"i",e.tooltip)?{key:"content",fn:function(i,n,r){return[a("view",{staticClass:n._$s("30-"+o+"-"+r,"sc","uni-stat-tooltip-s"),attrs:{_i:"30-"+o+"-"+r}},[t._v(n._$s("30-"+o+"-"+r,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(i._$s("27-"+n+o,"t0-0",t._s(e.title))),i._$s("28-"+n+o,"i",e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"28-"+n+o}}):t._e()],1)],1):t._e()]}))],2),t._l(i._$s("31-"+n,"f",{forItems:t.tableData}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("31-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"31-"+n+o}},[t._l(i._$s("32-"+n+"-"+o,"f",{forItems:t.fieldsMap}),(function(r,s,u,c){return[i._$s("33-"+n+o+"-"+c,"i","error_msg"===r.field)?a("uni-td",{key:i._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:0,key:r.field+"_"+s+"_0"}),staticStyle:{"min-width":"500px"},attrs:{align:"left",_i:"33-"+n+o+"-"+c}},[a("uni-tooltip",{attrs:{_i:"34-"+n+o+"-"+c},scopedSlots:t._u([t._$s("36-"+o+"-"+c,"i",e.error_msg)?{key:"content",fn:function(i,n,r){return[a("view",{staticClass:n._$s("37-"+o+"-"+c+"-"+r,"sc","uni-stat-tooltip-l"),attrs:{_i:"37-"+o+"-"+c+"-"+r}},[t._v(n._$s("37-"+o+"-"+c+"-"+r,"t0-0",t._s(e.error_msg)))])]}}:null],null,!0)},[t._v(i._$s("34-"+n+o+"-"+c,"t0-0",t._s(e.error_msg?e.error_msg.substring(0,100)+"...":""))),i._$s("35-"+n+o+"-"+c,"i",e.error_msg)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"35-"+n+o+"-"+c}}):t._e()],1)],1):i._$s("38-"+o+"-"+c,"e","create_time"===r.field)?a("uni-td",{key:i._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"38-"+o+"-"+c}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_time,_i:"39-"+o+"-"+c}})],1):a("uni-td",{key:i._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"40-"+o+"-"+c}},[t._v(i._$s("40-"+o+"-"+c+n,"t0-0",t._s(void 0!==e[r.field]?e[r.field]:"-")))])]}))],2)}))],2),a("view",{staticClass:i._$s("41-"+n,"sc","uni-pagination-box"),attrs:{_i:"41-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":r.size,total:r.count,_i:"42-"+n},on:{change:t.onPageChanged},model:{value:t._$s("42-"+n,"v-model",r.current),callback:function(e){t.$set(r,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)]),a("fix-window",{attrs:{_i:43}})],1)},r=[]},"4a1e":function(t,e,a){"use strict";a.r(e);var i=a("bc17"),n=a("2d36");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"4a4b":function(t,e){function a(e,i){return t.exports=a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports["default"]=t.exports,a(e,i)}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},"4ae3":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("1698"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_users",fields:[{_id:"visit_users",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[],errorMessage:""}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",a=t.length,i=this.options[e].prefix,n=this.options[e].value,r=n.map((function(n){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(i+"_"+n,") as ").concat(a>1?t+"_"+i+"_"+n:i+"_"+n)}))})),s=r.join();return s},parseChars:function(t){t=t.split("_");var e=this.options[this.type],a=e.title;e.value.forEach((function(i,n){var r=e.value[n+1];i===Number(t[t.length-1])&&(a=r?i+1===r?i+a:i+"-"+(r-1)+a:i+"+"+a)}));return a},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===a.field})).name;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.createStr([i],this.type),s=t.database();s.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(n).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);i=i[0];var n={series:[{data:[]}]};for(var r in i)if("appid"!==r){var s=a.parseChars(r),o=i[r];n.series[0].data.push({name:s,value:o})}a.chartData=n})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var i=this.createStr(["visit_users","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===a.type})).name,this.loading=!0;var n=t.database();n.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(i).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),n=a.type,u=[],c=a.options[n].prefix;c="_".concat(c,"_");var l,d=o(i);try{for(d.s();!(l=d.n()).done;){var f=l.value;for(var p in f)if("appid"!==p){var h={},m=p.split(c);h.name=m[1],h[m[0]]=f[p],u.push(h)}}}catch($){d.e($)}finally{d.f()}var _=[],g={},v=function(t,e){return t+e},y=u.filter((function(t){return t.visit_users})).map((function(t){return t.visit_users}));y=y.length?y.reduce(v):0;var b=u.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));b=b.length?b.reduce(v):0,g.visit_times=b,g.visit_users=y,a.options[n].value.forEach((function(t){var e={};e.name=t+"p",u.forEach((function(a){if(Number(a.name)===t)for(var i in a)i!==name&&(e[i]=a[i],e["total_"+i]=g[i])})),e.name=a.parseChars(String(t)),_.push(e)}));for(var x=0,w=_;x<w.length;x++){var C=w[x];(0,r.mapfields)(s.default,C,C)}a.tableData=[],a.tableData=_})).catch((function(t){})).finally((function(){a.loading=!1}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},"4b14":function(t,e,a){"use strict";a.r(e);var i=a("30f6"),n=a("1cbe");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"4b33":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniLink:a("e328").default,uniTag:a("b7bd").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default,uniPopup:a("6a38").default,uniDataCheckbox:a("86d4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))]),a("button",{staticClass:t._$s(8,"sc","uni-button"),attrs:{disabled:t._$s(8,"a-disabled",!t.selectedIndexs.length),_i:8},on:{click:t.openTagsPopup}},[t._v(t._$s(8,"t0-0",t._s(t.$t("common.button.tagManager"))))])])],1),a("view",{staticClass:t._$s(9,"sc","uni-container"),attrs:{_i:9}},[a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:10},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[a("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"11-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"12-"+n}},[a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"username")},"sort-change":function(e){return t.sortChange(e,"username")}}},[t._v("\u7528\u6237\u540d")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"nickname")},"sort-change":function(e){return t.sortChange(e,"nickname")}}},[t._v("\u7528\u6237\u6635\u79f0")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"mobile")},"sort-change":function(e){return t.sortChange(e,"mobile")}}},[t._v("\u624b\u673a\u53f7\u7801")]),a("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.status_localdata,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"status")}}},[t._v("\u7528\u6237\u72b6\u6001")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"email")},"sort-change":function(e){return t.sortChange(e,"email")}}},[t._v("\u90ae\u7bb1")]),a("uni-th",{attrs:{align:"center",_i:"18-"+n}},[t._v("\u89d2\u8272")]),a("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":t.tagsData,_i:"19-"+n},on:{"filter-change":function(e){return t.filterChange(e,"tags")}}},[t._v("\u7528\u6237\u6807\u7b7e")]),a("uni-th",{attrs:{align:"center",_i:"20-"+n}},[t._v("\u53ef\u767b\u5f55\u5e94\u7528")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"21-"+n},on:{"filter-change":function(e){return t.filterChange(e,"last_login_date")},"sort-change":function(e){return t.sortChange(e,"last_login_date")}}},[t._v("\u6700\u540e\u767b\u5f55\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("23-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("23-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"23-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"24-"+n+o}},[t._v(i._$s("24-"+n+o,"t0-0",t._s(e.username)))]),a("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[t._v(i._$s("25-"+n+o,"t0-0",t._s(e.nickname)))]),a("uni-td",{attrs:{align:"center",_i:"26-"+n+o}},[t._v(i._$s("26-"+n+o,"t0-0",t._s(e.mobile)))]),a("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[t._v(i._$s("27-"+n+o,"t0-0",t._s(c.status_valuetotext[e.status])))]),a("uni-td",{attrs:{align:"center",_i:"28-"+n+o}},[a("uni-link",{attrs:{href:"mailto:"+e.email,text:e.email,_i:"29-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"30-"+n+o}},[t._v(i._$s("30-"+n+o,"t0-0",t._s(e.role)))]),a("uni-td",{attrs:{align:"center",_i:"31-"+n+o}},[t._l(i._$s("32-"+n+"-"+o,"f",{forItems:e.tags}),(function(r,s,u,c){return[i._$s("33-"+n+o+"-"+c,"i",e.tags)?a("uni-tag",{key:i._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:0,key:s+"_0"}),staticStyle:{margin:"0 5px"},attrs:{type:"primary",inverted:!0,size:"small",text:r,_i:"33-"+n+o+"-"+c}}):t._e()]}))],2),a("uni-td",{attrs:{align:"center",_i:"34-"+n+o}},[i._$s("35-"+n+o,"i",void 0===e.dcloud_appid)?a("uni-link",{attrs:{href:t.noAppidWhatShouldIDoLink,_i:"35-"+n+o}},[t._v("\u672a\u7ed1\u5b9a\u53ef\u767b\u5f55\u5e94\u7528"),a("view",{staticClass:i._$s("36-"+n+o,"sc","uni-icons-help"),attrs:{_i:"36-"+n+o}})]):t._e(),t._v(i._$s("34-"+n+o,"t1-0",t._s(e.dcloud_appid)))],1),a("uni-td",{attrs:{align:"center",_i:"37-"+n+o}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.last_login_date,_i:"38-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"39-"+n+o}},[a("view",{staticClass:i._$s("40-"+n+o,"sc","uni-group"),attrs:{_i:"40-"+n+o}},[a("button",{staticClass:i._$s("41-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"41-"+n+o},on:{click:function(a){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("41-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),a("button",{staticClass:i._$s("42-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"42-"+n+o},on:{click:function(a){return t.confirmDelete(e._id)}}},[t._v(i._$s("42-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),a("view",{staticClass:i._$s("43-"+n,"sc","uni-pagination-box"),attrs:{_i:"43-"+n}},[a("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"44-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("44-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("fix-window",{attrs:{_i:45}}),a("uni-popup",{ref:"tagsPopup",attrs:{type:"center",_i:46}},[a("view",{staticClass:t._$s(47,"sc","tags-manager--x"),attrs:{_i:47}},[a("view",{staticClass:t._$s(48,"sc","tags-manager--header mb"),attrs:{_i:48}}),a("uni-data-checkbox",{ref:"checkbox",staticClass:t._$s(49,"sc","mb ml"),attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:49},model:{value:t._$s(49,"v-model",t.managerTags),callback:function(e){t.managerTags=e},expression:"managerTags"}}),a("view",{staticClass:t._$s(50,"sc","uni-group"),attrs:{_i:50}},[a("button",{staticClass:t._$s(51,"sc","uni-button"),attrs:{_i:51},on:{click:t.managerMultiTag}})])],1)])],1)},r=[]},"4b9b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMenuItem:a("8360").default,uniSubMenu:a("4eee").default,uniMenuSidebar:a("8f91").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","pointer"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.data,fill:!0}),(function(e,i,n,r){return[t._$s("2-"+r,"i",!e.children||!e.children.length)?[a("uni-menu-item",{attrs:{index:e,_i:"3-"+r}},[a("view",{class:t._$s("4-"+r,"c",e.icon),attrs:{_i:"4-"+r}}),a("text",{class:t._$s("5-"+r,"c",{title:e.icon}),attrs:{_i:"5-"+r}},[t._v(t._$s("5-"+r,"t0-0",t._s(e.text)))])])]:a("uni-sub-menu",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+r}),attrs:{index:e,_i:"6-"+r},scopedSlots:t._u([{key:"title",fn:function(i,n,s){return[a("view",{class:n._$s("8-"+r+"-"+s,"c",e.icon),attrs:{_i:"8-"+r+"-"+s}}),a("text",{class:n._$s("9-"+r+"-"+s,"c",{title:e.icon}),attrs:{_i:"9-"+r+"-"+s}},[t._v(n._$s("9-"+r+"-"+s,"t0-0",t._s(e.text)))])]}}],null,!0)},[a("uni-menu-sidebar",{key:t._$s("10-"+r,"a-key",e._id),staticClass:t._$s("10-"+r,"sc","item-bg"),attrs:{data:e.children,_i:"10-"+r}})],1)]}))],2)},r=[]},"4bcb":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={role_id:{rules:[{required:!0},{format:"string"}],label:"\u552f\u4e00ID"},role_name:{rules:[{required:!0},{format:"string"}],label:"\u540d\u79f0"},permission:{rules:[{format:"array"}],label:"\u6743\u9650"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"},create_date:{rules:[{format:"timestamp"}]}};e.enumConverter={}},"4c16":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={qiunLoading:a("029c").default,qiunError:a("8d40").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{id:t._$s(0,"a-id","ChartBoxId"+t.cid),_i:0}},[t._$s(1,"i",t.mixinDatacomLoading)?a("view",[a("qiun-loading",{attrs:{loadingType:t.loadingType,_i:2}})],1):t._e(),t._$s(3,"i",t.mixinDatacomErrorMessage&&t.errorShow)?a("view",{attrs:{_i:3},on:{click:t.reloading}},[a("qiun-error",{attrs:{errorMessage:t.errorMessage,_i:4}})],1):t._e(),t._$s(5,"i",t.echarts)?[a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.showchart),expression:"_$s(6,'v-show',showchart)"}],wxsProps:{"change:resize":"echartsResize","change:prop":"echartsOpts"},style:t._$s(6,"s",{background:t.background}),attrs:{"data-directory":t._$s(6,"a-data-directory",t.directory),id:t._$s(6,"a-id","EC"+t.cid),prop:t._$s(6,"change:echartsOpts",t.echartsOpts),resize:t._$s(6,"change:echartsResize",t.echartsResize),_i:6}})]:[a("view",{wxsProps:{"change:prop":"uchartsOpts"},attrs:{id:t._$s(8,"a-id","UC"+t.cid),prop:t._$s(8,"change:uchartsOpts",t.uchartsOpts),_i:8},on:{}},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.showchart),expression:"_$s(9,'v-show',showchart)"}],style:t._$s(9,"s",{width:t.cWidth+"px",height:t.cHeight+"px",background:t.background}),attrs:{id:t._$s(9,"a-id",t.cid),canvasId:t._$s(9,"a-canvasId",t.cid),"disable-scroll":t._$s(9,"a-disable-scroll",t.disableScroll),_i:9},on:{error:t._error}})])]],2)},r=[]},"4cc1":function(t,e,a){"use strict";a.r(e);var i=a("46a8"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"4cd6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),a("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[a("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("20-"+r,"i",e.title)?a("uni-th",{key:t._$s(19,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"20-"+r}},[a("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===i&&e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("24-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+s}},[t._v(n._$s("24-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===i&&e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(25,"f",{forIndex:n,key:i}),attrs:{_i:"25-"+r}},[t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return[t._$s("27-"+r+"-"+o,"i",1===n)?a("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,keyIndex:0,key:i.field+"_"+n+"_0"}),staticClass:t._$s("27-"+r+"-"+o,"sc","uni-stat-edit--x"),attrs:{_i:"27-"+r+"-"+o}},[t._v(t._$s("27-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-"))),a("uni-icons",{staticClass:t._$s("28-"+r+"-"+o,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"28-"+r+"-"+o},on:{click:function(a){return t.inputDialogToggle(e.path,e.title)}}})],1):a("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,keyIndex:-1,key:i.field}),attrs:{align:0===n?"left":"center",_i:"29-"+r+"-"+o}},[t._v(t._$s("29-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),a("view",{staticClass:t._$s(30,"sc","uni-pagination-box"),attrs:{_i:30}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:31},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),a("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:32}},[a("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:33},on:{confirm:t.editName},model:{value:t._$s(33,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),a("fix-window",{attrs:{_i:34}})],1)},r=[]},"4d2b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIdPagesAgreements:a("c25c").default,uniEasyinput:a("5fc7").default,uniIdPagesFabLogin:a("95e4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[a("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),a("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),t._$s(4,"i",["apple","weixin","weixinMobile"].includes(t.type))?[a("text",{staticClass:t._$s(5,"sc","tip"),attrs:{_i:5}}),a("view",{staticClass:t._$s(6,"sc","quickLogin"),attrs:{_i:6}},[t._$s(7,"i","weixinMobile"!==t.type)?a("image",{staticClass:t._$s(7,"sc","quickLoginBtn"),attrs:{src:t._$s(7,"a-src",t.imgSrc),_i:7},on:{click:t.quickLogin}}):a("button",{staticClass:t._$s(8,"sc","uni-btn"),attrs:{_i:8},on:{getphonenumber:t.quickLogin}}),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:9}})],1)]:[a("text",{staticClass:t._$s(11,"sc","tip"),attrs:{_i:11}}),a("view",{staticClass:t._$s(12,"sc","phone-box"),attrs:{_i:12}},[a("view",{staticClass:t._$s(13,"sc","area"),attrs:{_i:13},on:{click:t.chooseArea}}),a("uni-easyinput",{staticClass:t._$s(14,"sc","input-box"),attrs:{focus:t.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:14},on:{blur:function(e){t.focusPhone=!1}},model:{value:t._$s(14,"v-model",t.phone),callback:function(e){t.phone=e},expression:"phone"}})],1),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:15}}),a("button",{staticClass:t._$s(16,"sc","uni-btn"),attrs:{_i:16},on:{click:t.toSmsPage}})],a("uni-id-pages-fab-login",{ref:"uniFabLogin",attrs:{_i:17}})],2)},r=[]},"4d70":function(t,e,a){"use strict";a.r(e);var i=a("c55e"),n=a("a3a4");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"4d74":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("278c")),s=a("7c5a"),o=a("1360");function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l=o.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),d={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.fieldsMap,resFieldsMap:o.resFieldsMap,entFieldsMap:o.entFieldsMap,query:{dimension:"hour",appid:"",version_id:"",platform_id:"",uni_platform:"",start_time:[],channel_id:""},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},errorMessage:"",loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:l,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0,tabName:"\u65b0\u589e\u8bbe\u5907"}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,a=t.pageSizeIndex;return e[a]},chartTabs:function(){var t=[];return o.fieldsMap.forEach((function(e){var a=e.field,i=e.title;a&&i&&t.push({_id:a,name:i})})),t},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,s.stringifyQuery)({appid:e,uni_platform:a});return i},channelQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=(0,s.stringifyQuery)({appid:e,platform_id:a});return i}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,s.getTimeOfSomeDayAgo)(t),i=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,a){this.tabIndex=e,this.tabName=a,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t),this.getPageData(t,"res"),this.getPageData(t,"ent")):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],a=t[1],i=a-e>=864e5;return i},getPanelData:function(){var e=this,a=this.query,i=a.appid,n=a.platform_id,r=a.version_id,u=a.channel_id,c=(0,s.stringifyQuery)({appid:i,platform_id:n,version_id:r,channel_id:u,start_time:[(0,s.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),l=t.database();l.collection(this.tableName).where(c).field("".concat((0,s.stringifyField)(o.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,s.stringifyGroupField)(o.fieldsMap)).orderBy("stat_date","desc").get().then((function(t){var a=t.result.data,i=a.find((function(t){return t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(0),"","")}))||{};i.total_devices=0;var n=a.find((function(t){return"day"===t.dimension&&t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(1),"","")}));e.panelData=[],e.panelData=(0,s.mapfields)(o.fieldsMap,i),e.panelData.map((function(t){(0,s.mapfields)(o.fieldsMap,n,t,"","contrast")})),s.getFieldTotal.call(e,c)}))},getChartData:function(e){var a,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,l=(this.options.pageCurrent,this.currentDateTab),d=(0,s.getTimeOfSomeDayAgo)(l),f=864e5;if(!this.getDays()){var p=d-f,h=d+f-1;e=JSON.parse(JSON.stringify(e)),a=e.start_time=[p,h]}e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var m=t.database();m.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.fieldsMap,n),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.fieldsMap,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,l=(e.count,e.data),f={categories:[],series:[{name:c,data:[]}]},p=o.fieldsMap.filter((function(t){return t.field===n}));if(p=JSON.parse(JSON.stringify(p)),delete p[0].value,p[0].formatter="",i.getDays()){var h,m=u(l);try{for(m.s();!(h=m.n()).done;){var _=h.value;(0,s.mapfields)(p,_,_);var g=(0,s.formatDate)(_.start_time,"day"),v=Number(_[n]);f.series[0].data.push(v),f.categories.push(g)}}catch(y){m.e(y)}finally{m.f()}}else(function(){for(var t=a,e=(0,r.default)(t,2),i=e[0],o=e[1],u=f.series[1]={name:(0,s.formatDate)(i),data:[]},c=f.series[0]={name:(0,s.formatDate)(o),data:[]},h=function(t){var e=t<10?"0"+t:t,a="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(a),u.data[t]=0,c.data[t]=0,l.forEach((function(e){(0,s.mapfields)(p,e,e);var a=Number(e[n]),i=new Date(e.start_time);e.start_time<d?i.getHours()===t&&(u.data[t]=a):i.getHours()===t&&(c.data[t]=a)}))},m=0;m<24;++m)h(m)})();i.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(e){var a=t.database();return a.collection(this.tableName).where(e).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},getPageData:function(e,a){var i=this;e=JSON.parse(JSON.stringify(e)),e.dimension="day",e=(0,s.stringifyQuery)(e,!1,["uni_platform"]);this.options.pageCurrent;var n=this["".concat(a,"FieldsMap")],r=n[1].field;this.loading=!0;var o=t.database(),c=(0,s.stringifyQuery)({appid:this.query.appid}),l=o.collection("uni-stat-pages").where(c).field("_id, title, path").getTemp(),d=o.collection("uni-stat-page-result").where("".concat(e," && ").concat(r," > 0")).getTemp();o.collection(d,l).field("".concat((0,s.stringifyField)(n,r),", stat_date, page_id")).groupBy("page_id").groupField((0,s.stringifyGroupField)(n,r)).orderBy(r,"desc").limit(10).get({getCount:!0}).then((function(t){var r,o=t.result,c=(o.count,o.data);i.getAppAccessTimes(e).then((function(t){var e=t.result.data[0];r=e&&e.total_app_access})).finally((function(){i["".concat(a,"TableData")]=[];var t,e=u(c);try{for(e.s();!(t=e.n()).done;){var o=t.value;o.total_app_access=r;var l=o.page_id;if(Array.isArray(l)){delete o.page_id;var d=l[0];if(d&&Object.keys(d).length)for(var f in d)"_id"!==f&&(o[f]=d[f])}(0,s.mapfields)(n,o,o),i["".concat(a,"TableData")].push(o)}}catch(p){e.e(p)}finally{e.f()}i.loading=!1}))})).catch((function(t){})).finally((function(){}))},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=d}).call(this,a("a9ff")["default"],a("0de9")["default"])},"4dc6":function(t,e,a){"use strict";a.r(e);var i=a("00b9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"4e52":function(t,e,a){"use strict";a.r(e);var i=a("8871"),n=a("0cc9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"4e9d":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("2127");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-permissions").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-permissions").doc(t).field("permission_id,permission_name,comment").get().then((function(t){var a=t.result.data[0];a&&(e.formData=a)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,a("a9ff")["default"])},"4ea4":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"4eee":function(t,e,a){"use strict";a.r(e);var i=a("0625"),n=a("3718");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"4f00":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7037")),r=(i(a("0ad7")),i(a("8ae4"))),s=i(a("6588"));function o(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];for(var r in a)for(var s in a[r])a[r].hasOwnProperty(s)&&(t[s]=a[r][s]&&"object"===(0,n.default)(a[r][s])?o(Array.isArray(a[r][s])?[]:{},t[s],a[r][s]):a[r][s]);return t}function u(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var n=e+"-"+a+"-"+i;return n}var c={name:"qiun-data-charts",mixins:[t.mixinDatacom],props:{type:{type:String,default:null},canvasId:{type:String,default:"uchartsid"},canvas2d:{type:Boolean,default:!1},background:{type:String,default:"rgba(0,0,0,0)"},animation:{type:Boolean,default:!0},chartData:{type:Object,default:function(){return{categories:[],series:[]}}},opts:{type:Object,default:function(){return{}}},eopts:{type:Object,default:function(){return{}}},loadingType:{type:Number,default:2},errorShow:{type:Boolean,default:!0},errorReload:{type:Boolean,default:!0},errorMessage:{type:String,default:null},inScrollView:{type:Boolean,default:!1},reshow:{type:Boolean,default:!1},reload:{type:Boolean,default:!1},disableScroll:{type:Boolean,default:!1},optsWatch:{type:Boolean,default:!0},onzoom:{type:Boolean,default:!1},ontap:{type:Boolean,default:!0},ontouch:{type:Boolean,default:!1},onmouse:{type:Boolean,default:!0},onmovetip:{type:Boolean,default:!1},echartsH5:{type:Boolean,default:!1},echartsApp:{type:Boolean,default:!1},tooltipShow:{type:Boolean,default:!0},tooltipFormat:{type:String,default:void 0},tooltipCustom:{type:Object,default:void 0},startDate:{type:String,default:void 0},endDate:{type:String,default:void 0},textEnum:{type:Array,default:function(){return[]}},groupEnum:{type:Array,default:function(){return[]}},pageScrollTop:{type:Number,default:0},directory:{type:String,default:"/"},tapLegend:{type:Boolean,default:!0},menus:{type:Array,default:function(){return[]}}},data:function(){return{cid:"uchartsid",inWx:!1,inAli:!1,inTt:!1,inBd:!1,inH5:!1,inApp:!1,inWin:!1,type2d:!0,disScroll:!1,openmouse:!1,pixel:1,cWidth:375,cHeight:250,showchart:!1,echarts:!1,echartsResize:{state:!1},uchartsOpts:{},echartsOpts:{},drawData:{},lastDrawTime:null}},created:function(){if(this.cid=this.canvasId,"uchartsid"==this.canvasId||""==this.canvasId){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=t.length,a="",i=0;i<32;i++)a+=t.charAt(Math.floor(Math.random()*e));this.cid=a}var n=uni.getSystemInfoSync();"windows"!==n.platform&&"mac"!==n.platform||(this.inWin=!0),this.type2d=!1,this.disScroll=this.disableScroll},mounted:function(){var t=this;this.inApp=!0,!0===this.echartsApp&&(this.echarts=!0,this.openmouse=!1),this.$nextTick((function(){t.beforeInit()}))},destroyed:function(){!0===this.echarts?(delete s.default.option[this.cid],delete s.default.instance[this.cid]):(delete r.default.option[this.cid],delete r.default.instance[this.cid]),uni.offWindowResize((function(){}))},watch:{chartDataProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&(this._clearChart(),t.series&&t.series.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this.showchart=!1,this.mixinDatacomErrorMessage=null)):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1achartData\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},localdata:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(t.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null))},immediate:!1,deep:!0},optsProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&!1===this.echarts&&1==this.optsWatch&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},eoptsProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&!0===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aeopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},reshow:function(t,e){var a=this;!0===t&&!1===this.mixinDatacomLoading&&setTimeout((function(){a.mixinDatacomErrorMessage=null,a.echartsResize.state=!a.echartsResize.state,a.checkData(a.drawData)}),200)},reload:function(t,e){!0===t&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())},mixinDatacomErrorMessage:function(t,e){t&&(this.emitMsg({name:"error",params:{type:"error",errorShow:this.errorShow,msg:t,id:this.cid}}),this.errorShow)},errorMessage:function(t,e){t&&this.errorShow&&null!==t&&"null"!==t&&""!==t?(this.showchart=!1,this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=t):(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())}},computed:{optsProps:function(){return JSON.parse(JSON.stringify(this.opts))},eoptsProps:function(){return JSON.parse(JSON.stringify(this.eopts))},chartDataProps:function(){return JSON.parse(JSON.stringify(this.chartData))}},methods:{beforeInit:function(){this.mixinDatacomErrorMessage=null,"object"===(0,n.default)(this.chartData)&&null!=this.chartData&&void 0!==this.chartData.series&&this.chartData.series.length>0?(this.drawData=o({},this.chartData),this.mixinDatacomLoading=!1,this.showchart=!0,this.checkData(this.chartData)):this.localdata.length>0?(this.mixinDatacomLoading=!1,this.showchart=!0,this.localdataInit(this.localdata)):""!==this.collection?(this.mixinDatacomLoading=!1,this.getCloudData()):this.mixinDatacomLoading=!0},localdataInit:function(t){if(this.groupEnum.length>0)for(var e=0;e<t.length;e++)for(var a=0;a<this.groupEnum.length;a++)t[e].group===this.groupEnum[a].value&&(t[e].group=this.groupEnum[a].text);if(this.textEnum.length>0)for(var i=0;i<t.length;i++)for(var n=0;n<this.textEnum.length;n++)t[i].text===this.textEnum[n].value&&(t[i].text=this.textEnum[n].text);var c=!1,l={categories:[],series:[]},d=[],f=[];if(c=!0===this.echarts?s.default.categories.includes(this.type):r.default.categories.includes(this.type),!0===c){if(this.chartData&&this.chartData.categories&&this.chartData.categories.length>0)d=this.chartData.categories;else if(this.startDate&&this.endDate){var p=new Date(this.startDate),h=new Date(this.endDate);while(p<=h)d.push(u(p)),p=p.setDate(p.getDate()+1),p=new Date(p)}else{var m={};t.map((function(t,e){void 0==t.text||m[t.text]||(d.push(t.text),m[t.text]=!0)}))}l.categories=d}var _={};if(t.map((function(t,e){void 0==t.group||_[t.group]||(f.push({name:t.group,data:[]}),_[t.group]=!0)})),0==f.length)if(f=[{name:"\u9ed8\u8ba4\u5206\u7ec4",data:[]}],!0===c)for(var g=0;g<d.length;g++){for(var v=0,y=0;y<t.length;y++)t[y].text==d[g]&&(v=t[y].value);f[0].data.push(v)}else for(var b=0;b<t.length;b++)f[0].data.push({name:t[b].text,value:t[b].value});else for(var x=0;x<f.length;x++)if(d.length>0)for(var w=0;w<d.length;w++){for(var C=0,$=0;$<t.length;$++)f[x].name==t[$].group&&t[$].text==d[w]&&(C=t[$].value);f[x].data.push(C)}else for(var k=0;k<t.length;k++)f[x].name==t[k].group&&f[x].data.push(t[k].value);l.series=f,this.drawData=o({},l),this.checkData(l)},reloading:function(){!1!==this.errorReload&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,""!==this.collection?(this.mixinDatacomLoading=!1,this.onMixinDatacomPropsChange(!0)):this.beforeInit())},checkData:function(t){var e=this,a=this.cid;!0===this.echarts?(s.default.option[a]=o({},this.eopts),s.default.option[a].id=a,s.default.option[a].type=this.type):this.type&&r.default.type.includes(this.type)?(r.default.option[a]=o({},r.default[this.type],this.opts),r.default.option[a].canvasId=a):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aprops\u53c2\u6570\u4e2dtype\u7c7b\u578b\u4e0d\u6b63\u786e");var i=o({},t);void 0!==i.series&&i.series.length>0&&(this.mixinDatacomErrorMessage=null,!0===this.echarts?(s.default.option[a].chartData=i,this.$nextTick((function(){e.init()}))):(r.default.option[a].categories=i.categories,r.default.option[a].series=i.series,this.$nextTick((function(){e.init()}))))},resizeHandler:function(){var t=this,e=Date.now(),a=this.lastDrawTime?this.lastDrawTime:e-3e3,i=e-a;if(!(i<1e3))uni.createSelectorQuery().in(this).select("#ChartBoxId"+this.cid).boundingClientRect((function(e){t.showchart=!0,e.width>0&&e.height>0&&(e.width===t.cWidth&&e.height===t.cHeight||t.checkData(t.drawData))})).exec()},getCloudData:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,t.localdataInit(t.mixinDatacomResData)})).catch((function(e){t.mixinDatacomLoading=!1,t.showchart=!1,t.mixinDatacomErrorMessage="\u8bf7\u6c42\u9519\u8bef\uff1a"+e})))},onMixinDatacomPropsChange:function(t,e){1==t&&""!==this.collection&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this._clearChart(),this.getCloudData())},_clearChart:function(){var t=this.cid;if(!0!==this.echarts&&r.default.option[t]&&r.default.option[t].context){var e=r.default.option[t].context;"object"!==(0,n.default)(e)||r.default.option[t].update||(e.clearRect(0,0,this.cWidth*this.pixel,this.cHeight*this.pixel),e.draw())}},init:function(){var t=this,e=this.cid;uni.createSelectorQuery().in(this).select("#ChartBoxId"+e).boundingClientRect((function(a){a.width>0&&a.height>0?(t.mixinDatacomLoading=!1,t.showchart=!0,t.lastDrawTime=Date.now(),t.cWidth=a.width,t.cHeight=a.height,!0!==t.echarts&&(r.default.option[e].background="rgba(0,0,0,0)"==t.background?"#FFFFFF":t.background,r.default.option[e].canvas2d=t.type2d,r.default.option[e].pixelRatio=t.pixel,r.default.option[e].animation=t.animation,r.default.option[e].width=a.width*t.pixel,r.default.option[e].height=a.height*t.pixel,r.default.option[e].onzoom=t.onzoom,r.default.option[e].ontap=t.ontap,r.default.option[e].ontouch=t.ontouch,r.default.option[e].onmouse=t.openmouse,r.default.option[e].onmovetip=t.onmovetip,r.default.option[e].tooltipShow=t.tooltipShow,r.default.option[e].tooltipFormat=t.tooltipFormat,r.default.option[e].tooltipCustom=t.tooltipCustom,r.default.option[e].inScrollView=t.inScrollView,r.default.option[e].lastDrawTime=t.lastDrawTime,r.default.option[e].tapLegend=t.tapLegend),t.inH5||t.inApp?1==t.echarts?(s.default.option[e].ontap=t.ontap,s.default.option[e].onmouse=t.openmouse,s.default.option[e].tooltipShow=t.tooltipShow,s.default.option[e].tooltipFormat=t.tooltipFormat,s.default.option[e].tooltipCustom=t.tooltipCustom,s.default.option[e].lastDrawTime=t.lastDrawTime,t.echartsOpts=o({},s.default.option[e])):(r.default.option[e].rotateLock=r.default.option[e].rotate,t.uchartsOpts=o({},r.default.option[e])):(r.default.option[e]=function t(e,a){for(var i in e)e.hasOwnProperty(i)&&null!==e[i]&&"object"===(0,n.default)(e[i])?t(e[i],a):"format"===i&&"string"===typeof e[i]&&(e["formatter"]=a[e[i]]?a[e[i]]:void 0);return e}(r.default.option[e],r.default.formatter),t.mixinDatacomErrorMessage=null,t.mixinDatacomLoading=!1,t.showchart=!0,t.$nextTick((function(){if(!0===t.type2d){var i=uni.createSelectorQuery().in(t);i.select("#"+e).fields({node:!0,size:!0}).exec((function(i){if(i[0]){var n=i[0].node,s=n.getContext("2d");r.default.option[e].context=s,r.default.option[e].rotateLock=r.default.option[e].rotate,r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):(n.width=a.width*t.pixel,n.height=a.height*t.pixel,n._width=a.width*t.pixel,n._height=a.height*t.pixel,setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100))}else t.showchart=!1,t.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1a\u5f00\u542f2d\u6a21\u5f0f\u540e\uff0c\u672a\u83b7\u53d6\u5230dom\u8282\u70b9\uff0ccanvas-id:"+e}))}else t.inAli&&(r.default.option[e].rotateLock=r.default.option[e].rotate),r.default.option[e].context=uni.createCanvasContext(e,t),r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100)})))):(t.mixinDatacomLoading=!1,t.showchart=!1,1==t.reshow&&(t.mixinDatacomErrorMessage="\u5e03\u5c40\u9519\u8bef\uff1a\u672a\u83b7\u53d6\u5230\u7236\u5143\u7d20\u5bbd\u9ad8\u5c3a\u5bf8\uff01canvas-id:"+e))})).exec()},saveImage:function(){uni.canvasToTempFilePath({canvasId:this.cid,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f",duration:2e3})}})}},this)},getImage:function(){var t=this;if(0==this.type2d)uni.canvasToTempFilePath({canvasId:this.cid,success:function(e){t.emitMsg({name:"getImage",params:{type:"getImage",base64:e.tempFilePath}})}},this);else{var e=uni.createSelectorQuery().in(this);e.select("#"+this.cid).fields({node:!0,size:!0}).exec((function(e){if(e[0]){var a=e[0].node;t.emitMsg({name:"getImage",params:{type:"getImage",base64:a.toDataURL("image/png")}})}}))}},_error:function(t){this.mixinDatacomErrorMessage=t.detail.errMsg},emitMsg:function(t){this.$emit(t.name,t.params)},getRenderType:function(){!0===this.echarts&&!1===this.mixinDatacomLoading&&this.beforeInit()},toJSON:function(){return this}}};e.default=c}).call(this,a("a9ff")["default"])},"4f37":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-load-more"),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.webviewHide&&("circle"===t.iconType||"auto"===t.iconType&&"android"===t.platform)&&"loading"===t.status&&t.showIcon)?a("view",{staticClass:t._$s(1,"sc","uni-load-more__img uni-load-more__img--android-MP"),style:t._$s(1,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-load-more__img-icon"),style:t._$s(2,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-load-more__img-icon"),style:t._$s(3,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","uni-load-more__img-icon"),style:t._$s(4,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:4}})]):t._$s(5,"e",!t.webviewHide&&"loading"===t.status&&t.showIcon)?a("view",{staticClass:t._$s(5,"sc","uni-load-more__img uni-load-more__img--ios-H5"),style:t._$s(5,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:5}},[a("image",{attrs:{src:t._$s(6,"a-src",t.imgBase64),_i:6}})]):t._e(),t._$s(7,"i",t.showText)?a("text",{staticClass:t._$s(7,"sc","uni-load-more__text"),style:t._$s(7,"s",{color:t.color}),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s("more"===t.status?t.contentdownText:"loading"===t.status?t.contentrefreshText:t.contentnomoreText)))]):t._e()])},n=[]},"4f4f":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniPopup:a("6a38").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uni-popup",{ref:"popup",attrs:{type:"bottom",_i:0}},[a("view",{staticClass:t._$s(1,"sc","box"),attrs:{_i:1}},[a("text",{staticClass:t._$s(2,"sc","headBox"),attrs:{_i:2}}),a("text",{staticClass:t._$s(3,"sc","tip"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","btnBox"),attrs:{_i:4}},[a("text",{staticClass:t._$s(5,"sc","close"),attrs:{_i:5},on:{click:t.closeMe}}),a("button",{staticClass:t._$s(6,"sc","agree uni-btn"),attrs:{_i:6},on:{getphonenumber:t.bindMobileByMpWeixin}})])])])},r=[]},"4f67":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}},[e("limeClipper",{attrs:{width:this.options.width,"scale-ratio":2,"is-lock-width":!1,"is-lock-height":!1,height:this.options.height,"image-url":this.path,_i:1},on:{success:this.successFn,cancel:this.cancel}})],1)},n=[]},"4fc9":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniCaptcha:a("b8af").default,uniIdPagesAgreements:a("c25c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"username",required:!0,_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusUsername,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",trim:"both",_i:7},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(7,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("uni-forms-item",{attrs:{name:"nickname",_i:8}},[a("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),a("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[a("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),a("uni-forms-item",{attrs:{_i:14}},[a("uni-captcha",{ref:"captcha",attrs:{scene:"register",_i:15},model:{value:t._$s(15,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:16}}),a("button",{staticClass:t._$s(17,"sc","uni-btn"),attrs:{_i:17},on:{click:t.submit}}),a("button",{staticClass:t._$s(18,"sc","register-back"),attrs:{_i:18},on:{click:t.navigateBack}}),a("uni-match-media",{attrs:{"min-width":690,_i:19}},[a("view",{staticClass:t._$s(20,"sc","link-box"),attrs:{_i:20}},[a("text",{staticClass:t._$s(21,"sc","link"),attrs:{_i:21},on:{click:t.registerByEmail}}),a("text",{staticClass:t._$s(22,"sc","link"),attrs:{_i:22},on:{click:t.toLogin}})])])],1)],1)},r=[]},"4fea":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),a("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[a("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),a("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,i,n,r){return a("view",{key:t._$s(13,"f",{forIndex:n,key:i}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[a("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[i].title)))]),a("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[i],echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:"15-"+r}})],1)})),0)]),a("fix-window",{attrs:{_i:16}})],1)},r=[]},"504d":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("530b")),r=i(a("ebc2")),s=i(a("96c7")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},5113:function(t,e,a){"use strict";a.r(e);var i=a("4f00"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},5115:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,i,n,r){return a("view",{key:t._$s(7,"f",{forIndex:n,key:i}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[a("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(a){return t.setClipboardData("tag",e)}}}),a("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(a){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?a("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},"51f1":function(t,e,a){"use strict";a.r(e);var i=a("27a0"),n=a("ac1d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"521d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{content:String,top:{type:[Number,String],default:-60},left:{type:[Number,String],default:-100},width:{type:[Number,String],default:200}},data:function(){return{showStableInfo:!1,arrowStyle:{}}},methods:{mouseenter:function(t){this.showStableInfo=!0}}};e.default=i},5269:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9078\u64c7\u65e5\u671f","uni-datetime-picker.selectTime":"\u9078\u64c7\u6642\u9593","uni-datetime-picker.selectDateTime":"\u9078\u64c7\u65e5\u671f\u6642\u9593","uni-datetime-picker.startDate":"\u958b\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7d50\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u958b\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7d50\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u78ba\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u78ba\u8a8d"}')},"527a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.popupFieldsMap=e.fieldsMap=void 0;e.fieldsMap=[{title:"\u6700\u8fd1\u53d1\u751f\u65f6\u95f4",field:"last_time",tooltip:"",formatter:""},{title:"\u9519\u8bef\u6b21\u6570",field:"count",tooltip:"\u76f8\u540c\u9519\u8bef\u5728\u67d0\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u7684\u6b21\u6570"},{title:"\u9519\u8bef\u5360\u6bd4",computed:"count/total_count",field:"count/total_count",formatter:"%",tooltip:"\u67d0\u4e2a\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570/\u603b\u9519\u8bef\u6570"},{title:"\u5e73\u53f0",field:"platform",formatter:""},{title:"\u5e73\u53f0\u7248\u672c\u53f7",field:"version",tooltip:"\u539f\u751f\u5e73\u53f0\u4e3a\u5ba2\u6237\u7aef SDK \u7248\u672c\u53f7\uff1b\u5c0f\u7a0b\u5e8f\u5e73\u53f0\u4e3a\u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u3001\u767e\u5ea6\u7b49\u5e94\u7528\u7684\u7248\u672c\u53f7",formatter:""},{title:"\u9519\u8bef\u4fe1\u606f",field:"msg",formatter:""}];e.popupFieldsMap=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",formatter:""},{title:"\u5ba2\u6237\u7aef\u64cd\u4f5c\u7cfb\u7edf",field:"os",formatter:""},{title:"\u5ba2\u6237\u7aef user-agent \u4fe1\u606f",field:"ua",formatter:""}]},"52a9":function(t,e,a){"use strict";a.r(e);var i=a("d04e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"52ee":function(t,e,a){"use strict";a.r(e);var i=a("8a48"),n=a("afee");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"52fd":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"530b":function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"}')},"532a":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.get_files_and_is_max=e.get_file_info=e.get_file_ext=e.get_file_data=e.get_extname=void 0;var n=i(a("a34a")),r=i(a("c973")),s=function(t){var e=t.lastIndexOf("."),a=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,a)}};e.get_file_ext=s;e.get_extname=function(t){if(Array.isArray(t))return t;var e=t.replace(/(\[|\])/g,"");return e.split(",")};e.get_files_and_is_max=function(t,e){var a=[],i=[];return e&&0!==e.length?(t.tempFiles.forEach((function(t){var n=s(t.name),r=n.ext.toLowerCase();-1!==e.indexOf(r)&&(i.push(t),a.push(t.path))})),i.length!==t.tempFiles.length&&uni.showToast({title:"\u5f53\u524d\u9009\u62e9\u4e86".concat(t.tempFiles.length,"\u4e2a\u6587\u4ef6 \uff0c").concat(t.tempFiles.length-i.length," \u4e2a\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e"),icon:"none",duration:5e3}),{filePaths:a,files:i}):{filePaths:a,files:i}};var o=function(t){return new Promise((function(e,a){uni.getImageInfo({src:t,success:function(t){e(t)},fail:function(t){a(t)}})}))};e.get_file_info=o;var u=function(){var t=(0,r.default)(n.default.mark((function t(e){var a,i,r,u,c,l=arguments;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:"image",i=s(e.name),r=i.ext.toLowerCase(),u={name:e.name,uuid:e.uuid,extname:r||"",cloudPath:e.cloudPath,fileType:e.fileType,url:e.path||e.path,size:e.size,image:{},path:e.path,video:{}},"image"!==a){t.next=14;break}return t.next=7,o(e.path);case 7:c=t.sent,delete u.video,u.image.width=c.width,u.image.height=c.height,u.image.location=c.path,t.next=15;break;case 14:delete u.image;case 15:return t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.get_file_data=u},5366:function(t,e,a){"use strict";a.r(e);var i=a("f27b"),n=a("87f0");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"53b8":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b911")),r={components:{limeClipper:n.default},data:function(){return{path:"",options:{width:600,height:600}}},onLoad:function(t){var e=t.path,a=t.options;this.path=e,a&&(this.options=JSON.parse(a))},methods:{successFn:function(t){this.getOpenerEventChannel().emit("success",t.url),uni.navigateBack()},cancel:function(){uni.navigateBack()}}};e.default=r},"53e5":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("7c5a"),n=a("527a");function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var o={data:function(){return{popupFieldsMap:n.popupFieldsMap,options:{pageSize:20,pageCurrent:1,total:0},query:{error_hash:"",create_time:[]},loading:!1,tableData:[]}},onLoad:function(t){var e=t.error_hash,a=t.create_time;e&&(a=Number(a),this.query.error_hash=e,this.query.create_time=[a,a+864e5],this.getTableData((0,i.stringifyQuery)(this.query)))},methods:{changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData((0,i.stringifyQuery)(this.query))},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData((0,i.stringifyQuery)(this.query))},getTableData:function(e){var a=this,n=this.options.pageCurrent;this.loading=!0;var s=t.database();s.collection("uni-stat-error-logs").where(e).orderBy("create_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,n=e.count,s=e.data;a.options.total=n;var o,u=r(s);try{for(u.s();!(o=u.n()).done;){var c=o.value;c.create_time=(0,i.parseDateTime)(c.create_time,"dateTime")}}catch(l){u.e(l)}finally{u.f()}a.tableData=s})).finally((function(){a.loading=!1}))}}};e.default=o}).call(this,a("a9ff")["default"])},5489:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("c973")),o=n(a("448a")),u=a("7c5a"),c=a("4162");function l(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var f={data:function(){return{query:{platform_id:"",start_time:[(0,u.getTimeOfSomeDayAgo)(1),(new Date).getTime()]},deviceTableData:[],userTableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1,complete:!1,statSetting:{mode:"",day:7},statModeList:[{value:"open",text:"\u5f00\u542f"},{value:"close",text:"\u5173\u95ed"},{value:"auto",text:"\u8282\u80fd"}],showAddAppId:!1,showdbInit:!1}},onReady:function(){var t=this;this.debounceGet=(0,u.debounce)((function(){t.getAllData(t.queryStr)}),300),this.debounceGet(),this.checkAppId(),this.checkdbInit()},watch:{query:{deep:!0,handler:function(t){this.debounceGet(this.queryStr)}}},computed:{queryStr:function(){return(0,u.stringifyQuery)(this.query)+' && (dimension == "hour" || dimension == "day")'},deviceTableFields:function(){return this.tableFieldsMap(c.deviceFeildsMap)},userTableFields:function(){return this.tableFieldsMap(c.userFeildsMap)}},methods:{getAllData:function(t){this.getApps(this.queryStr,c.deviceFeildsMap,"device"),this.getApps(this.queryStr,c.userFeildsMap,"user")},tableFieldsMap:function(t){var e,a=[],i=[],n=[],r=[],s=l(t);try{for(s.s();!(e=s.n()).done;){var u=e.value;if(u.field)if(u.hasOwnProperty("value")){var c=JSON.parse(JSON.stringify(u)),d=JSON.parse(JSON.stringify(u));"total_users"!==u.field&&"total_devices"!==u.field?(c.title="\u4eca\u65e5"+u.title,c.field=u.field+"_value",d.title="\u6628\u65e5"+u.title,d.field=u.field+"_contrast",i.push(c),n.push(d)):(c.field=u.field+"_value",r.push(c))}else a.push(u)}}catch(f){s.e(f)}finally{s.f()}return a=[].concat((0,o.default)(a),i,n,r),a},getApps:function(e,a){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"device";this.loading=!0;var r=t.database(),s=r.collection("uni-stat-result").where(e).getTemp(),o=r.collection("opendb-app-list").getTemp();r.collection(s,o).field("".concat((0,u.stringifyField)(a,"","value"),",stat_date,appid,dimension")).groupBy("appid,dimension,stat_date").groupField((0,u.stringifyGroupField)(a,"","value")).orderBy("appid","desc").get().then((function(t){var e=t.result.data;if(i["".concat(n,"TableData")]=[],e.length){var r,s=[],o=[],c=[],d=(0,u.parseDateTime)((0,u.getTimeOfSomeDayAgo)(0),"",""),f=(0,u.parseDateTime)((0,u.getTimeOfSomeDayAgo)(1),"",""),p=l(e);try{for(p.s();!(r=p.n()).done;){var h=r.value,m=h.appid&&h.appid[0]||{},_=m.appid,g=m.name;h.appid=_,h.name=g,s.indexOf(h.appid)<0&&s.push(h.appid),"hour"===h.dimension&&h.stat_date===d&&o.push(h),"day"===h.dimension&&h.stat_date===f&&c.push(h)}}catch(w){p.e(w)}finally{p.f()}for(var v=a.map((function(t){return t.field})).filter(Boolean),y=function(){var t,e=x[b],a={},r=o.find((function(t){return t.appid===e})),s=c.find((function(t){return t.appid===e})),d=l(v);try{for(d.s();!(t=d.n()).done;){var f=t.value;if("appid"===f||"name"===f)a[f]=r&&r[f];else{var p=r&&r[f],h=s&&s[f];a[f+"_value"]=(0,u.format)(p),a[f+"_contrast"]=(0,u.format)(h)}}}catch(w){d.e(w)}finally{d.f()}if(e&&(a["total_".concat(n,"s_value")]="\u83b7\u53d6\u4e2d..."),i["".concat(n,"TableData")].push(a),e){r["total_".concat(n,"s")]=0;var m=JSON.parse(JSON.stringify(i.query));m.start_time=[(0,u.getTimeOfSomeDayAgo)(0),(new Date).getTime()],m.appid=e,u.getFieldTotal.call(i,m,"total_".concat(n,"s")).then((function(t){i["".concat(n,"TableData")].find((function(t){return t.appid===e}))["total_".concat(n,"s_value")]=t}))}},b=0,x=s;b<x.length;b++)y()}})).catch((function(t){})).finally((function(){i.loading=!1,i.complete=!0}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?appid=").concat(e)),uni.navigateTo({url:t}))},toUrl:function(t){},toAddAppId:function(){var t=this;this.showAddAppId=!1,uni.navigateTo({url:"/pages/system/app/list",events:{refreshData:function(){t.checkAppId()}}})},checkAppId:function(){var e=this;return(0,s.default)(r.default.mark((function a(){var i,n;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.database(),a.next=3,i.collection("opendb-app-list").count();case 3:n=a.sent,e.showAddAppId=!n.result||0===n.result.total;case 5:case"end":return a.stop()}}),a)})))()},checkdbInit:function(){var e=this;return(0,s.default)(r.default.mark((function a(){var i,n;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.database(),a.next=3,i.collection("opendb-admin-menus").count();case 3:n=a.sent,e.showdbInit=!n.result||0===n.result.total,e.showdbInit&&uni.showModal({title:"\u91cd\u8981\u63d0\u793a",content:"\u68c0\u6d4b\u5230\u60a8\u672a\u521d\u59cb\u5316\u6570\u636e\u5e93\uff0c\u8bf7\u5148\u53f3\u952euni-admin\u9879\u76ee\u6839\u76ee\u4e0b\u7684 uniCloud/database \u76ee\u5f55\uff0c\u6267\u884c\u521d\u59cb\u5316\u4e91\u6570\u636e\u5e93\uff0c\u5426\u5219\u5de6\u4fa7\u65e0\u6cd5\u663e\u793a\u83dc\u5355\u7b49\u6570\u636e",showCancel:!1,confirmText:"\u6211\u77e5\u9053\u4e86"});case 6:case"end":return a.stop()}}),a)})))()}}};e.default=f}).call(this,a("a9ff")["default"],a("0de9")["default"])},5546:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"System Login","prompt":"If there is no administrator account, please create an administrator first..."},"field":{"username":"Account","password":"Password","captcha":"Captcha"},"button":{"login":"Log In"}},"topwindow":{"text":{"doc":"Admin doc","plugin":"More admin plugin","changeLanguage":"Language","changePwd":"ChangePwd","signOut":"Sign out"}},"index":{"text":{"prompt":"Main content, customizable content and style","vesion":"The current version can be viewed in the console and package.json"}},"updatePwd":{"text":{"title":"Change Password"},"field":{"oldPassword":"Old password","newPassword":"New password","passwordConfirmation":"Confirm password"},"button":{"save":"Save","back":"Back"}},"common":{"placeholder":{"query":"Enter search content"},"button":{"search":"Search","add":"Add","edit":"Edit","delete":"Delete","batchDelete":"Batch Delete","exportExcel":"Export Excel","submit":"Submit","back":"Back","tagManager":"Tag Manager","publish":"Publish page management","version":"version manager","sendSMS":"Send SMS"},"empty":"No more data","piecePerPage":"piece/page"},"user":{"text":{"userManager":"Users Manager"}},"role":{"text":{"roleManager":"Roles Manager"}},"permission":{"text":{"permissionManager":"Permissions Manager"}},"app":{"text":{"appManager":"App Manager","describle":"Manage the apps that users can login"}},"menu":{"text":{"menuManager":"Menus Manager","additiveMenu":"Additive Menu"},"button":{"addFirstLevelMenu":"Add First-level Menu","addChildMenu":"Submenu","updateBuiltInMenu":"Update built-in Menu"}},"demo":{"icons":{"title":"Icons","describle":"Click icons to copy the icon code"},"table":{"title":"Table"}}}')},"55d0":function(t,e,a){"use strict";a.r(e);var i=a("3f15"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"55e5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_devices",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_devices/total_visit_devices",computed:"visit_devices/total_visit_devices",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}]},"55ef":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("ea53"),n=a("40ee"),r=a("39ff"),s=a("2da1"),o=a("3a09"),u=a("94b0"),c=a("e97d"),l={install:function(t){(0,i.initUtil)(t),(0,n.initError)(t),(0,c.initUniIdPageStore)(t),(0,r.initRequest)(t),(0,s.initFetch)(t),(0,o.initPermission)(t),(0,u.initInterceptor)()}};e.default=l},"562f":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{modelValue:String,value:String,scene:{type:String,default:function(){return""}},focus:{type:Boolean,default:function(){return!1}}},computed:{val:{get:function(){return this.value||this.modelValue},set:function(t){this.$emit("input",t)}}},data:function(){return{focusCaptchaInput:!1,captchaBase64:"",loging:!1}},watch:{scene:{handler:function(t){t?this.getImageCaptcha(this.focus):uni.showToast({title:"scene\u4e0d\u80fd\u4e3a\u7a7a",icon:"none"})},immediate:!0}},methods:{getImageCaptcha:function(){var e=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loging=!0,a&&(this.val="",this.focusCaptchaInput=!0);var i=t.importObject("uni-captcha-co",{customUI:!0});i.getImageCaptcha({scene:this.scene}).then((function(t){e.captchaBase64=t.captchaBase64})).catch((function(t){uni.showToast({title:t.message,icon:"none"})})).finally((function(t){e.loging=!1}))}}};e.default=a}).call(this,a("a9ff")["default"])},5647:function(t,e,a){"use strict";a.r(e);var i=a("a0a5"),n=a("f634");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},5680:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validator=e.enumConverter=void 0;e.validator={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},title:{rules:[{format:"string"}],label:"\u66f4\u65b0\u6807\u9898"},contents:{rules:[{required:!0},{format:"string"}],label:"\u66f4\u65b0\u5185\u5bb9"},platform:{rules:[{required:!0},{range:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}]}],label:"\u5e73\u53f0"},type:{rules:[{required:!0},{format:"string"},{range:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"wgt\u8d44\u6e90\u5305"}]}],label:"\u5b89\u88c5\u5305\u7c7b\u578b"},version:{rules:[{required:!0},{format:"string"}],label:"\u7248\u672c\u53f7"},min_uni_version:{rules:[{format:"string"}],label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c"},url:{rules:[{required:!0},{format:"string"}],label:"\u94fe\u63a5"},stable_publish:{rules:[{format:"bool"}],label:"\u4e0a\u7ebf\u53d1\u884c"},create_date:{rules:[{format:"timestamp"}],label:"\u4e0a\u4f20\u65f6\u95f4"},is_silently:{rules:[{format:"bool"}],label:"\u9759\u9ed8\u66f4\u65b0",defaultValue:!1},is_mandatory:{rules:[{format:"bool"}],label:"\u5f3a\u5236\u66f4\u65b0",defaultValue:!1},store_list:{rules:[{format:"array"}],label:"\u5e94\u7528\u5e02\u573a"}};e.enumConverter={platform_valuetotext:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_valuetotext:{native_app:"\u539f\u751fApp\u5b89\u88c5\u5305",wgt:"wgt\u8d44\u6e90\u5305"}}},"56b9":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesEmailForm:a("41bd").default,uniIdPagesAgreements:a("c25c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"email",required:!0,_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusEmail,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",trim:"both",_i:7},on:{blur:function(e){t.focusEmail=!1}},model:{value:t._$s(7,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("uni-forms-item",{attrs:{name:"nickname",_i:8}},[a("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),a("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[a("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),a("uni-forms-item",{attrs:{name:"code",_i:14}},[a("uni-id-pages-email-form",{ref:"shortCode",attrs:{email:t.formData.email,type:"register",_i:15},model:{value:t._$s(15,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:16}}),a("button",{staticClass:t._$s(17,"sc","uni-btn"),attrs:{_i:17},on:{click:t.submit}}),a("button",{staticClass:t._$s(18,"sc","register-back"),attrs:{_i:18},on:{click:t.navigateBack}}),a("uni-match-media",{attrs:{"min-width":690,_i:19}},[a("view",{staticClass:t._$s(20,"sc","link-box"),attrs:{_i:20}},[a("text",{staticClass:t._$s(21,"sc","link"),attrs:{_i:21},on:{click:t.registerByUserName}}),a("text",{staticClass:t._$s(22,"sc","link"),attrs:{_i:22},on:{click:t.toLogin}})])])],1)],1)},r=[]},"56cc":function(t,e,a){"use strict";a.r(e);var i=a("4118"),n=a("34fe");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"56dd":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"oldPassword",_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusOldPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801",_i:7},on:{blur:function(e){t.focusOldPassword=!1}},model:{value:t._$s(7,"v-model",t.formData.oldPassword),callback:function(e){t.$set(t.formData,"oldPassword",e)},expression:"formData.oldPassword"}})],1),a("uni-forms-item",{attrs:{name:"newPassword",_i:8}},[a("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{focus:t.focusNewPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:9},on:{blur:function(e){t.focusNewPassword=!1}},model:{value:t._$s(9,"v-model",t.formData.newPassword),callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),a("uni-forms-item",{attrs:{name:"newPassword2",_i:10}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusNewPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusNewPassword2=!1}},model:{value:t._$s(11,"v-model",t.formData.newPassword2),callback:function(e){t.$set(t.formData,"newPassword2",e)},expression:"formData.newPassword2"}})],1),a("button",{staticClass:t._$s(12,"sc","uni-btn send-btn-box"),attrs:{_i:12},on:{click:t.submit}})],1)],1)},r=[]},"576f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles:function(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle:function(){var t=this.styles,e=t.width,a=void 0===e?"auto":e,i=t.height,n=void 0===i?"auto":i,r={};"auto"===n?"auto"!==a?(r.height=this.value2px(a),r["padding-top"]=0):r.height=0:(r.height=this.value2px(n),r["padding-top"]=0),r.width="auto"===a?"auto"!==n?this.value2px(n):"33.3%":this.value2px(a);var s="";for(var o in r)s+="".concat(o,":").concat(r[o],";");return s},borderStyle:function(){var t=this.styles.border,e={};if("boolean"===typeof t)e.border=t?"1px #eee solid":"none";else{var a=t&&t.width||1;a=this.value2px(a);var i=t&&t.radius||3;i=this.value2px(i),e={"border-width":a,"border-style":t&&t.style||"solid","border-color":t&&t.color||"#eee","border-radius":i}}var n="";for(var r in e)n+="".concat(r,":").concat(e[r],";");return n}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",t)},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},prviewImage:function(t,e){var a=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((function(t){a.push(t.url)})),uni.previewImage({urls:a,current:e}))},value2px:function(t){return"number"===typeof t?t+="px":-1===t.indexOf("%")&&(t=-1!==t.indexOf("px")?t:t+"px"),t}}};e.default=i},5871:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading3",data:function(){return{}}}},"599a":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default,uniPopup:a("6a38").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","header"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","navbar"),class:t._$s(1,"c",{"navbar-mini":!t.matchLeftWindow,"popup-menu":t.popupMenuOpened}),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","navbar-left"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","logo pointer"),attrs:{_i:3},on:{click:t.linkTo}},[a("image",{staticClass:t._$s(4,"sc","logo-image"),attrs:{src:t._$s(4,"a-src",t.logo),_i:4}}),a("text",{staticClass:t._$s(5,"sc","logo-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.appName)))])]),a("uni-icons",{staticClass:t._$s(6,"sc","menu-icon"),attrs:{type:"bars",size:"30",color:"#999",_i:6},on:{click:t.toggleSidebar}})],1),a("view",{staticClass:t._$s(7,"sc","navbar-middle"),attrs:{_i:7}},[a("text",{staticClass:t._$s(8,"sc","title-text"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.navigationBarTitleText)))])]),a("view",{staticClass:t._$s(9,"sc","navbar-right pointer"),attrs:{_i:9}},[a("picker",{staticClass:t._$s(10,"sc","navbar-right-item-gap"),attrs:{range:t._$s(10,"a-range",t.themes),value:t._$s(10,"a-value",t.themeIndex),_i:10},on:{change:t.changeTheme}},[a("uni-icons",{attrs:{type:"color-filled",size:"24",color:"#999",_i:11}})],1),a("picker",{staticClass:t._$s(12,"sc","navbar-right-item-gap"),attrs:{range:t._$s(12,"a-range",t.langs),value:t._$s(12,"a-value",t.langIndex),_i:12},on:{change:t.changeLanguage}},[a("view",{staticClass:t._$s(13,"sc","admin-icons-lang"),attrs:{_i:13}})]),a("view",[a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email),expression:"_$s(15,'v-show',userInfo.nickname || userInfo.username || userInfo.mobile || userInfo.email)"}],staticClass:t._$s(15,"sc","navbar-user"),attrs:{_i:15},on:{click:t.togglePopupMenu}},[a("view",{staticClass:t._$s(16,"sc","admin-icons-user user-icon"),attrs:{_i:16}}),a("view",{staticClass:t._$s(17,"sc","username ml-s"),attrs:{_i:17}},[a("text",[t._v(t._$s(18,"t0-0",t._s(t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email)))])]),a("uni-icons",{staticClass:t._$s(19,"sc","arrowdown"),attrs:{type:"arrowdown",color:"#666",size:"13",_i:19}})],1),a("view",{staticClass:t._$s(20,"sc","uni-mask"),attrs:{_i:20},on:{click:t.togglePopupMenu}}),a("view",{staticClass:t._$s(21,"sc","navbar-menu"),attrs:{_i:21}},[t._$s(22,"i",t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email)?[a("view",{staticClass:t._$s(23,"sc","menu-item hover-highlight"),attrs:{_i:23},on:{click:t.changePassword}},[a("text",[t._v(t._$s(24,"t0-0",t._s(t.$t("topwindow.text.changePwd"))))])]),a("view",{staticClass:t._$s(25,"sc","menu-item hover-highlight"),attrs:{_i:25}},[a("text",{staticClass:t._$s(26,"sc","logout pointer"),attrs:{_i:26},on:{click:t.logout}},[t._v(t._$s(26,"t0-0",t._s(t.$t("topwindow.text.signOut"))))])])]:t._e(),a("view",{staticClass:t._$s(27,"sc","popup-menu__arrow"),attrs:{_i:27}})],2)])])]),a("uni-popup",{ref:"errorLogsPopup",attrs:{type:"center",_i:28}},[a("view",{staticClass:t._$s(29,"sc","modal"),attrs:{_i:29}},[a("scroll-view",{staticClass:t._$s(30,"sc","modal-content"),attrs:{_i:30}},[a("error-log",{staticClass:t._$s(31,"sc","error-table"),attrs:{_i:31}})],1)])])],1)},r=[]},"5a38":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniIcons:a("c494").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[a("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),a("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),a("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[a("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:21}})],1)])],1),a("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[a("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[a("uni-icons",{attrs:{type:"info",_i:24}})],1),a("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[a("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("28-"+r,"i",e.title)?a("uni-th",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(29,"f",{forIndex:n,key:i}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return[t._$s("31-"+r+"-"+o,"i",i.title)?a("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),class:t._$s("31-"+r+"-"+o,"c",/[d|w|m]_\d/.test(i.field)&&[e[i.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+o}},[t._v(t._$s("31-"+r+"-"+o,"t0-0",t._s(e[i.field]?e[i.field]:"")))]):t._e()]}))],2)}))],2),a("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("fix-window",{attrs:{_i:34}})],1)},r=[]},"5a41":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={appid:{rules:[{format:"string"}]},version:{rules:[{format:"string"}]},platform:{rules:[{format:"string"}]},channel:{rules:[{format:"string"}]},sdk_version:{rules:[{format:"string"}]},device_id:{rules:[{format:"string"}]},device_net:{rules:[{format:"string"}]},device_os:{rules:[{format:"string"}]},device_os_version:{rules:[{format:"string"}]},device_vendor:{rules:[{format:"string"}]},device_model:{rules:[{format:"string"}]},device_is_root:{rules:[{format:"int"}]},device_os_name:{rules:[{format:"string"}]},device_batt_level:{rules:[{format:"int"}]},device_batt_temp:{rules:[{format:"string"}]},device_memory_use_size:{rules:[{format:"int"}]},device_memory_total_size:{rules:[{format:"int"}]},device_disk_use_size:{rules:[{format:"int"}]},device_disk_total_size:{rules:[{format:"int"}]},device_abis:{rules:[{format:"string"}]},app_count:{rules:[{format:"int"}]},app_use_memory_size:{rules:[{format:"int"}]},app_webview_count:{rules:[{format:"int"}]},app_use_duration:{rules:[{format:"int"}]},app_run_fore:{rules:[{format:"int"}]},package_name:{rules:[{format:"string"}]},package_version:{rules:[{format:"string"}]},page_url:{rules:[{format:"string"}]},error_msg:{rules:[{format:"string"}]},create_time:{rules:[{format:"timestamp"}]}};e.enumConverter={}},"5a43":function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5a6b":function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9801","uni-pagination.nextText":"\u4e0b\u4e00\u9801","uni-pagination.piecePerPage":"\u689d/\u9801"}')},"5aaf":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("1cdc")),s=t.database();s.command;function o(t){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a="",i=0;i<t;i++)a+=e[Math.floor(26*Math.random())];return a}var u={mixins:[r.default],data:function(){return{mpExtra:" ",mpAccordionStatus:1,labelWidth:"80px",uniFilePickerProvider:"unicloud"}},onLoad:function(t){var e=this;t.id?(this.isEdit=!0,uni.setNavigationBarTitle({title:"\u4fee\u6539\u5e94\u7528"}),this.setFormData("appid",t.id),this.getDetail(t.id)):this.$watch("formData.name",(function(t){e.platFormKeys.forEach((function(a){e.setFormData("".concat(a,".name"),t)}))}))},onReady:function(){this.mpExtra="\u6298\u53e0"},methods:{resolvestableVersionStoreList:function(){var t=this,e={},a=[];return this.formData.store_list.forEach((function(t,i){a.push(t.id),e[t.id]=i})),this.fetchAppInfo(this.getFormData("appid"),"Android").then((function(i){if(i.success){if(i.store_list){var n={},r=[];i.store_list.forEach((function(t,e){r.push(t.id),n[t.id]=e})),a.forEach((function(a,s){var o=t.formData.store_list[e[a]];-1===r.indexOf(a)?i.store_list.push(o):(i.store_list[n[a]].name=o.name,i.store_list[n[a]].scheme=o.scheme)}));for(var s=0;s<i.store_list.length;s++){var o=i.store_list[s].id;-1!==t.deletedStore.indexOf(o)&&-1===a.indexOf(o)&&(i.store_list.splice(s,1),s--)}}else i.store_list=t.formData.store_list;return t.updateAppVersion(i._id,{store_list:i.store_list})}}))},updateAppVersion:function(t,e){return s.collection("opendb-app-versions").doc(t).update(e)},submit:function(){var t=this;uni.showLoading({mask:!0}),this.formatFormData(),this.$refs.form.validate(this.keepItems).then((function(e){return t.submitForm(e)})).catch((function(t){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;(this.isEdit?this.requestCloudFunction("setNewAppData",{id:this.formDataId,value:t}):s.collection("opendb-app-list").add(t)).then((function(t){if(e.isEdit)return e.resolvestableVersionStoreList()})).then((function(){uni.showToast({title:"".concat(e.isEdit?"\u66f4\u65b0":"\u65b0\u589e","\u6210\u529f")}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection("opendb-app-list").where({appid:t}).get().then((function(t){var a=t.result.data[0];a?(e.formDataId=a._id,e.initFormData(a)):(e.autoFill(),e.autoFillApp())})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},mpAccordion:function(){this.mpAccordionStatus?(this.mpExtra="\u5c55\u5f00",this.mpAccordionStatus=0):(this.mpExtra="\u6298\u53e0",this.mpAccordionStatus=1)},addStoreScheme:function(){this.formData.store_list.push({enable:!1,priority:0,id:o(5)+"_"+Date.now()})},deleteStore:function(t,e){var a=this;e.scheme&&e.scheme.trim().length&&this.isEdit?uni.showModal({content:"\u662f\u5426\u540c\u6b65\u5220\u9664\u7ebf\u4e0a\u7248\u672c\u6b64\u6761\u5546\u5e97\u8bb0\u5f55\uff1f",success:function(e){var i=a.formData.store_list.splice(t,1)[0];i&&e.confirm&&a.deletedStore.push(i.id)}}):this.formData.store_list.splice(t,1)[0]},schemeDemo:function(){$refs.scheme.open("center")}}};e.default=u}).call(this,a("a9ff")["default"],a("0de9")["default"])},"5ae4":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading5"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"5b0d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-panel",data:function(){return{}},props:{items:{type:Array,default:function(){return[]}},contrast:{type:Boolean,default:!1}}};e.default=i},"5b2d":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("0ec9")),r=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),s={mixins:[n.default],data:function(){return{lock:!1,focusPhone:!0,focusPassword:!1,focusPassword2:!1,formData:{phone:"",code:"",password:"",password2:"",captcha:""},rules:{phone:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1\d{10}$/,errorMessage:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"}]},code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"}]},password:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"}]},password2:{rules:[{required:!0,errorMessage:"\u8bf7\u786e\u8ba4\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"},{validateFunction:function(t,e,a,i){return e!=a.password&&i("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"),!0}}]}},logo:"/static/logo.png"}},computed:{isPhone:function(){var t=/^1\d{10}$/.test(this.formData.phone);return t},isPwd:function(){var t=/^.{6,20}$/.test(this.formData.password);return t},isCode:function(){var t=/^\d{6}$/.test(this.formData.code);return t}},onLoad:function(t){t&&t.phoneNumber&&(this.formData.phone=t.phoneNumber,t.lock&&(this.lock=t.lock,this.focusPhone=!0))},onReady:function(){this.formData.phone&&this.$refs.shortCode.start(),this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var a=t.formData,i=a["phone"],n=a["password"],s=a.captcha,o=a.code;r.resetPwdBySms({mobile:i,code:o,password:n,captcha:s}).then((function(t){uni.navigateBack()})).catch((function(e){"uni-id-captcha-required"==e.errCode&&t.$refs.popup.open()})).finally((function(e){t.formData.captcha=""}))})).catch((function(e){var a=e[0].key;if("code"==a)return t.$refs.shortCode.focusSmsCodeInput=!0;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))},retrieveByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email"})},backLogin:function(){uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})}}};e.default=s}).call(this,a("a9ff")["default"])},"5bc3":function(t,e,a){var i=a("a395");function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}t.exports=function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5bf1":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[a("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),a("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"datetimerange",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}}),t._$s(5,"i",t.dateTabs.timeStr)?a("view",{staticClass:t._$s(5,"sc","uni-stat--tips"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.dateTabs.timeStr)))]):t._e()],1),a("uni-stat-tabs",{staticClass:t._$s(6,"sc","mb-l"),attrs:{type:"box",current:t.statTabs.index,tabs:t.statTabs.list,_i:6},on:{change:t.statTabsChange}}),a("view",{staticClass:t._$s(7,"sc","uni-charts-box"),attrs:{_i:7}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:8}})],1)],1)},r=[]},"5c02":function(t,e,a){"use strict";a.r(e);var i=a("397b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5c33":function(t,e,a){"use strict";a.r(e);var i=a("0f49"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5c76":function(t,e,a){"use strict";a.r(e);var i=a("8934"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5d07":function(t,e,a){"use strict";a.r(e);var i=a("9ca6"),n=a("70b4");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"97eaf214",null,!1,i["a"],void 0);e["default"]=o.exports},"5db0":function(t,e,a){"use strict";a.r(e);var i=a("5871"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5ddd":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("448a")),o=n(a("9523")),u=n(a("c973")),c=a("d949"),l=a("532a"),d=n(a("f2d6")),f=n(a("a919"));function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"uniFilePicker",components:{uploadImage:d.default,uploadFile:f.default},options:{virtualHost:!0},emits:["select","success","fail","progress","delete","update:modelValue","input"],props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},provider:{type:String,default:""}},data:function(){return{files:[],localValue:[]}},watch:{value:{handler:function(t,e){this.setValue(t,e)},immediate:!0}},computed:{filesList:function(){var t=[];return this.files.forEach((function(e){t.push(e)})),t},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1}},created:function(){t.config&&t.config.provider||(this.noSpace=!0,t.chooseAndUploadFile=c.chooseAndUploadFile),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{clearFiles:function(t){var e=this;0===t||t?this.files.splice(t,1):(this.files=[],this.$nextTick((function(){e.setEmit()}))),this.$nextTick((function(){e.setEmit()}))},upload:function(){var t=[];return this.files.forEach((function(e,a){"ready"!==e.status&&"error"!==e.status||t.push(Object.assign({},e))})),this.uploadFiles(t)},setValue:function(t,e){var a=this;return(0,u.default)(r.default.mark((function e(){var i,n,s,o;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=function(){var t=(0,u.default)(r.default.mark((function t(e){var i,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=/cloud:\/\/([\w.]+\/?)\S*/,n="",n=e.fileID?e.fileID:e.url,!i.test(n)){t.next=8;break}return e.fileID=n,t.next=7,a.getTempFileURL(n);case 7:e.url=t.sent;case 8:return e.url&&(e.path=e.url),t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),"object"!==a.returnType){e.next=10;break}if(!t){e.next=7;break}return e.next=5,i(t);case 5:e.next=8;break;case 7:t={};case 8:e.next=19;break;case 10:t||(t=[]),n=0;case 12:if(!(n<t.length)){e.next=19;break}return s=t[n],e.next=16,i(s);case 16:n++,e.next=12;break;case 19:a.localValue=t,a.form&&a.formItem&&!a.is_reset&&(a.is_reset=!1,a.formItem.setValue(a.localValue)),o=Object.keys(t).length>0?t:[],a.files=[].concat(o);case 23:case"end":return e.stop()}}),e)})))()},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?uni.showToast({title:"\u60a8\u6700\u591a\u9009\u62e9 ".concat(this.limitLength," \u4e2a\u6587\u4ef6"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var e=this,a=(0,l.get_extname)(this.fileExtname);t.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,sizeType:this.sizeType,sourceType:this.sourceType,extension:a.length>0?a:void 0,count:this.limitLength-this.files.length,onChooseFile:this.chooseFileCallback,onUploadProgress:function(t){e.setProgress(t,t.index)}}).then((function(t){e.setSuccessAndError(t.tempFiles)})).catch((function(t){}))},chooseFileCallback:function(t){var e=this;return(0,u.default)(r.default.mark((function a(){var i,n,s,o,u,c,d,f;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=(0,l.get_extname)(e.fileExtname),n=1===Number(e.limitLength)&&e.disablePreview&&!e.disabled||"object"===e.returnType,n&&(e.files=[]),s=(0,l.get_files_and_is_max)(t,i),o=s.filePaths,u=s.files,i&&i.length>0||(o=t.tempFilePaths,u=t.tempFiles),c=[],d=0;case 7:if(!(d<u.length)){a.next=21;break}if(!(e.limitLength-e.files.length<=0)){a.next=10;break}return a.abrupt("break",21);case 10:return u[d].uuid=Date.now(),a.next=13,(0,l.get_file_data)(u[d],e.fileMediatype);case 13:f=a.sent,f.progress=0,f.status="ready",e.files.push(f),c.push(h(h({},f),{},{file:u[d]}));case 18:d++,a.next=7;break;case 21:e.$emit("select",{tempFiles:c,tempFilePaths:o}),t.tempFiles=u,e.autoUpload&&!e.noSpace||(t.tempFiles=[]),t.tempFiles.forEach((function(t,a){e.provider&&(t.provider=e.provider);var i=t.name.split("."),n=i.pop(),r=i.join(".").replace(/[\s\/\?<>\\:\*\|":]/g,"_");t.cloudPath=r+"_"+Date.now()+"_"+a+"."+n}));case 25:case"end":return a.stop()}}),a)})))()},uploadFiles:function(t){var e=this;return t=[].concat(t),c.uploadCloudFiles.call(this,t,5,(function(t){e.setProgress(t,t.index,!0)})).then((function(t){return e.setSuccessAndError(t),t})).catch((function(t){}))},setSuccessAndError:function(t,e){var a=this;return(0,u.default)(r.default.mark((function e(){var i,n,s,o,u,c,l;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],n=[],s=[],o=[],u=r.default.mark((function e(u){var c,l,d;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=t[u],l=c.uuid?a.files.findIndex((function(t){return t.uuid===c.uuid})):c.index,-1!==l&&a.files){e.next=4;break}return e.abrupt("return","break");case 4:if("request:fail"!==c.errMsg){e.next=12;break}a.files[l].url=c.path,a.files[l].status="error",a.files[l].errMsg=c.errMsg,n.push(a.files[l]),o.push(a.files[l].url),e.next=26;break;case 12:if(a.files[l].errMsg="",a.files[l].fileID=c.url,d=/cloud:\/\/([\w.]+\/?)\S*/,!d.test(c.url)){e.next=21;break}return e.next=18,a.getTempFileURL(c.url);case 18:a.files[l].url=e.sent,e.next=22;break;case 21:a.files[l].url=c.url;case 22:a.files[l].status="success",a.files[l].progress+=1,i.push(a.files[l]),s.push(a.files[l].fileID);case 26:case"end":return e.stop()}}),e)})),c=0;case 6:if(!(c<t.length)){e.next=14;break}return e.delegateYield(u(c),"t0",8);case 8:if(l=e.t0,"break"!==l){e.next=11;break}return e.abrupt("break",14);case 11:c++,e.next=6;break;case 14:i.length>0&&(a.setEmit(),a.$emit("success",{tempFiles:a.backObject(i),tempFilePaths:s})),n.length>0&&a.$emit("fail",{tempFiles:a.backObject(n),tempFilePaths:o});case 16:case"end":return e.stop()}}),e)})))()},setProgress:function(t,e,a){this.files.length;var i=Math.round(100*t.loaded/t.total),n=e;a||(n=this.files.findIndex((function(e){return e.uuid===t.tempFile.uuid}))),-1!==n&&this.files[n]&&(this.files[n].progress=i-1,this.$emit("progress",{index:n,progress:parseInt(i),tempFile:this.files[n]}))},delFile:function(t){var e=this;this.$emit("delete",{tempFile:this.files[t],tempFilePath:this.files[t].url}),this.files.splice(t,1),this.$nextTick((function(){e.setEmit()}))},getFileExt:function(t){var e=t.lastIndexOf("."),a=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,a)}},setEmit:function(){var t=[];"object"===this.returnType?(t=this.backObject(this.files)[0],this.localValue=t||null):(t=this.backObject(this.files),this.localValue||(this.localValue=[]),this.localValue=(0,s.default)(t)),this.$emit("input",this.localValue)},backObject:function(t){var e=[];return t.forEach((function(t){e.push({extname:t.extname,fileType:t.fileType,image:t.image,name:t.name,path:t.path,size:t.size,fileID:t.fileID,url:t.url,uuid:t.uuid,status:t.status,cloudPath:t.cloudPath})})),e},getTempFileURL:function(e){return(0,u.default)(r.default.mark((function a(){var i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e={fileList:[].concat(e)},a.next=3,t.getTempFileURL(e);case 3:return i=a.sent,a.abrupt("return",i.fileList[0].tempFileURL||"");case 5:case"end":return a.stop()}}),a)})))()},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}};e.default=m}).call(this,a("a9ff")["default"],a("0de9")["default"])},"5e12":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("7037")),s=i(a("c973")),o=i(a("9523")),u=a("1897"),c=a("7c5a");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f=t.importObject("uni-pay-co"),p=t.database(),h={ascending:"asc",descending:"desc"},m={data:function(){return{collectionList:"uni-pay-orders",query:{appid:"",platform_id:"",uni_platform:"",version:"",pay_date:[]},where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],filterDefaultValueUserId:"",refundFormData:{out_trade_no:"",max_refund_fee:"",refund_fee:"",refund_desc:""},refundFormRules:{refund_fee:{rules:[{required:!0,errorMessage:"\u9000\u6b3e\u91d1\u989d\u5fc5\u987b>0"},{minimum:.01,maximum:0,errorMessage:"\u6700\u5927\u53ef\u9000 {maximum} \u5143"}]},refund_desc:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u9000\u6b3e\u539f\u56e0"}]}},options:d({pageSize:20,pageCurrent:1,filterData:{provider_localdata:[{text:"\u5fae\u4fe1\u652f\u4ed8",value:"wxpay"},{text:"\u652f\u4ed8\u5b9d",value:"alipay"},{text:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8",value:"appleiap"}],status_localdata:[{text:"\u5df2\u5173\u95ed",value:-1},{text:"\u672a\u652f\u4ed8",value:0},{text:"\u5df2\u652f\u4ed8",value:1},{text:"\u5df2\u90e8\u5206\u9000\u6b3e",value:2},{text:"\u5df2\u5168\u989d\u9000\u6b3e",value:3}]}},u.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-pay-orders.xls",type:"xls",fields:{"\u7528\u6237ID":"user_id","\u7528\u6237\u6635\u79f0":"nickname","\u652f\u4ed8\u4f9b\u5e94\u5546":"provider","\u652f\u4ed8\u65b9\u5f0f":"provider_pay_type","\u5e94\u7528\u5e73\u53f0":"uni_platform","\u8ba2\u5355\u72b6\u6001":"status","\u652f\u4ed8\u5931\u8d25\u539f\u56e0":"err_msg","\u8ba2\u5355\u7c7b\u578b":"type","\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7":"order_no","\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7":"out_trade_no","\u4ea4\u6613\u5355\u53f7":"transaction_id","\u652f\u4ed8\u63cf\u8ff0":"description","\u8ba2\u5355\u652f\u4ed8\u91d1\u989d":"total_fee","\u8ba2\u5355\u9000\u6b3e\u91d1\u989d":"refund_fee","\u5f53\u524d\u9000\u6b3e\u7b14\u6570":"refund_count","\u9000\u6b3e\u8be6\u60c5":"refund_list","\u56de\u8c03\u72b6\u6001":"user_order_success","\u521b\u5efa\u65f6\u95f4":"create_date","\u652f\u4ed8\u65f6\u95f4":"pay_date","\u5f02\u6b65\u901a\u77e5\u65f6\u95f4":"notify_date","\u53d6\u6d88\u65f6\u95f4":"cancel_date","\u5f00\u653e\u5e73\u53f0appid":"provider_appid","DCloud AppId":"appid","\u8bbe\u5907ID":"device_id","\u5ba2\u6237\u7aefIP":"client_ip",openid:"openid"}},exportExcelData:[]}},onLoad:function(t){this._filter={},t.user_id&&(this.filterDefaultValueUserId=t.user_id,this.filterChange({filterType:"search",filter:t.user_id},"user_id"))},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},getWhere:function(){var t="",e=this.query,a=e.pay_date,i=e.appid,n=e.version,r=e.uni_platform;return a&&2==a.length&&(t+=" && pay_date>=".concat(a[0]," && pay_date<=").concat(a[1])),i&&(t+=" && appid=='".concat(i,"'")),n&&(t+=" && stat_data.app_version=='".concat(n,"'")),r&&(t+=" && stat_data.platform=='".concat(r,"'")),t=t.substring(3).trim(),t},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},refundPopup:function(t,e){if(t){var a=e.total_fee,i=void 0===a?0:a,n=e.refund_fee,r=void 0===n?0:n,s=e.out_trade_no,o=Number(((i-r)/100).toFixed(2));this.refundFormData.max_refund_fee=o,this.refundFormData.refund_fee=o,this.refundFormData.out_trade_no=s,this.refundFormRules.refund_fee.rules[1].maximum=o,this.$refs.popup.open()}else this.refundFormData.max_refund_fee="",this.refundFormData.refund_fee="",this.refundFormData.out_trade_no="",this.refundFormRules.refund_fee.rules[1].maximum=0,this.$refs.popup.close()},confirmRefund:function(t){var e=this;return(0,s.default)(n.default.mark((function a(){var i,r,o,u,c;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.total_fee,void 0===i?0:i,r=t.refund_fee,o=void 0===r?0:r,u=t.out_trade_no,c=t.refund_desc,t.refund_fee=Number(t.refund_fee.toFixed(2)),e.$refs.refundForm.validate().then(function(){var a=(0,s.default)(n.default.mark((function a(i){var r,s,l;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=Number(o),!(isNaN(r)||r<=0)){a.next=4;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9000\u6b3e\u91d1\u989d",icon:"none",success:function(){setTimeout((function(){e.confirmRefund(t)}),500)}}),a.abrupt("return");case 4:return s={out_trade_no:u,refund_fee:parseInt(100*r),refund_desc:c},a.next=7,f.refund(s);case 7:l=a.sent,l.errCode||(e.refundPopup(!1),e.loadData(!1));case 9:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}));case 3:case"end":return a.stop()}}),a)})))()},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+h[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e,a){var i=this;a&&t.filter&&"object"==(0,r.default)(t.filter)&&("number"===typeof t.filter[0]&&(t.filter[0]=t.filter[0]/a),"number"===typeof t.filter[1]&&(t.filter[1]=t.filter[1]/a)),this._filter[e]={type:t.filterType,value:t.filter};var n=(0,u.filterToWhere)(this._filter,p.command);Object.keys(n).length?this.where=n:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))},platformChange:function(t,e,a,i){this.query.version=0,this.query.uni_platform=i.code},nameFormat:function(t){return t.user_id?t.nickname?"".concat(t.user_id,"\uff08").concat(t.nickname,"\uff09"):t.user_id:"\u533f\u540d\u7528\u6237"},pageToUser:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/system/user/list?id=".concat(e)})}},watch:{query:{deep:!0,handler:function(t){this.search()}}},computed:{versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,c.stringifyQuery)({appid:e,uni_platform:a});return i}}};e.default=m}).call(this,a("a9ff")["default"])},"5e22":function(t,e,a){"use strict";a.r(e);var i=a("13e8"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5eb7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t||"string"!==typeof t||18!==t.length)return!1;for(var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=t.substring(17),i=0,n=0;n<17;n++)i+=Number(t.charAt(n))*e[n];return[1,0,"x",9,8,7,6,5,4,3,2][i%11].toString()===a.toLowerCase()}},"5ee0":function(t,e,a){"use strict";a.r(e);var i=a("4d2b"),n=a("130d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"30ff294e",null,!1,i["a"],void 0);e["default"]=o.exports},"5f40":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-calendar-item__weeks-box"),class:t._$s(0,"c",{"uni-calendar-item--disable":t.weeks.disable,"uni-calendar-item--before-checked-x":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked-x":t.weeks.afterMultiple}),attrs:{_i:0},on:{click:function(e){return t.choiceDate(t.weeks)},mouseenter:function(e){return t.handleMousemove(t.weeks)}}},[a("view",{staticClass:t._$s(1,"sc","uni-calendar-item__weeks-box-item"),class:t._$s(1,"c",{"uni-calendar-item--checked":t.calendar.fullDate===t.weeks.fullDate&&(t.calendar.userChecked||!t.checkHover),"uni-calendar-item--checked-range-text":t.checkHover,"uni-calendar-item--before-checked":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked":t.weeks.afterMultiple,"uni-calendar-item--disable":t.weeks.disable}),attrs:{_i:1}},[t._$s(2,"i",t.selected&&t.weeks.extraInfo)?a("text",{staticClass:t._$s(2,"sc","uni-calendar-item__weeks-box-circle"),attrs:{_i:2}}):t._e(),a("text",{staticClass:t._$s(3,"sc","uni-calendar-item__weeks-box-text uni-calendar-item__weeks-box-text-disable uni-calendar-item--checked-text"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.weeks.date)))])]),a("view",{class:t._$s(4,"c",{"uni-calendar-item--today":t.weeks.isToday}),attrs:{_i:4}})])},n=[]},"5fc7":function(t,e,a){"use strict";a.r(e);var i=a("9ebe"),n=a("da29");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"60c8":function(t,e,a){"use strict";a.r(e);var i=a("f204"),n=a("427d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},6177:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,i,n,r){return a("view",{key:t._$s(7,"f",{forIndex:n,key:i}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[a("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(a){return t.setClipboardData("tag",e)}}}),a("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(a){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?a("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},6195:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7037")),r={getDateObject:function(t){return t?("string"!==typeof t||isNaN(t)||(t=Number(t)),"number"===typeof t?(10===t.toString().length&&(t*=1e3),e=new Date(t)):"object"===(0,n.default)(t)&&(e=new Date(t.getTime())),e):"";var e},timeFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";try{if(!t)return"";var a=r.getDateObject(t),i={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}catch(s){return time}},getDateInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=r.getDateObject(t),a=e.getFullYear()+"",i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),u=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),c=e.getMilliseconds(),l=e.getDay(),d=Math.floor((e.getMonth()+3)/3);return{year:Number(a),month:Number(i),day:Number(n),hour:Number(s),minute:Number(o),second:Number(u),millisecond:Number(c),week:Number(l),quarter:Number(d)}},getOffsetStartAndEnd:function(){var t,e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,s=r.getDateObject(n);if("hour"===a){var o=36e5,u=r.getDateInfo(new Date(s.getTime()+1*o*i));t=new Date("".concat(u.year,"/").concat(u.month,"/").concat(u.day," ").concat(u.hour,":00:00")).getTime(),e=new Date("".concat(u.year,"/").concat(u.month,"/").concat(u.day," ").concat(u.hour,":00:00")).getTime()+(o-1)}else if("day"===a){var c=864e5,l=r.getDateInfo(new Date(s.getTime()+1*c*i));t=new Date("".concat(l.year,"/").concat(l.month,"/").concat(l.day)).getTime(),e=new Date("".concat(l.year,"/").concat(l.month,"/").concat(l.day)).getTime()+(c-1)}else if("week"===a){s.setDate(s.getDate()-s.getDay()+1+7*i);var d=r.getDateInfo(s);s.setDate(s.getDate()+7);var f=r.getDateInfo(s);t=new Date("".concat(d.year,"/").concat(d.month,"/").concat(d.day)).getTime(),e=new Date("".concat(f.year,"/").concat(f.month,"/").concat(f.day)).getTime()-1}else if("month"===a){var p=r.getDateInfo(s),h=p.month+i,m=p.year;h>12?(m+=Math.floor(h/12),h=Math.abs(h)%12):h<=0&&(m=m-1-Math.floor(Math.abs(h)/12),h=12-Math.abs(h)%12);var _=new Date(m,h,0).getDate();t=new Date("".concat(m,"/").concat(h,"/1")).getTime(),e=new Date("".concat(m,"/").concat(h,"/").concat(_)).getTime()+86399999}else if("quarter"===a){s.setMonth(s.getMonth()+3*i);var g=r.getDateInfo(s),v=g.month;[1,2,3].indexOf(v)>-1?v=1:[4,5,6].indexOf(v)>-1?v=4:[7,8,9].indexOf(v)>-1?v=7:[10,11,12].indexOf(v)>-1&&(v=10),s.setMonth(v-1);var y=r.getDateInfo(s);s.setMonth(s.getMonth()+3);var b=r.getDateInfo(s);t=new Date("".concat(y.year,"/").concat(y.month,"/1")).getTime(),e=new Date("".concat(b.year,"/").concat(b.month,"/1")).getTime()-1}else if("year"===a){var x=r.getDateInfo(s),w=x.year+i;t=new Date("".concat(w,"/1/1")).getTime(),e=new Date("".concat(w,"/12/31")).getTime()+86399999}return{startTime:t,endTime:e}}},s=r;e.default=s},6205:function(t,e,a){"use strict";a.r(e);var i=a("49c2"),n=a("c6f5");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"622e":function(t,e,a){"use strict";(function(t){var i=a("4ea4"),n=a("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("a34a")),s=i(a("c973")),o=(a("5680"),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var a=c(e);if(a&&a.has(t))return a.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,a&&a.set(t,i);return i}(a("b343"))),u=a("177f");function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(c=function(t){return t?a:e})(t)}var l=t.database(),d=(l.command,u.appVersionListDbName);var f={mixins:[o.default],data:function(){return{showStableInfo:!1,isStable:!0,originalData:{},detailsState:!0,uniFilePickerProvider:"unicloud",domain:""}},onLoad:function(t){var e=this;return(0,s.default)(r.default.mark((function a(){var i,n,s,o;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.getCloudStorageConfig(),n=i.domain,s=i.provider,n&&(e.domain=n),s&&(e.uniFilePickerProvider=s),o=t.id,e.formDataId=o,a.next=7,e.getDetail(o);case 7:return e.isStable=e.formData.stable_publish,a.next=10,e.getLatestVersion();case 10:e.latestStableData=a.sent,e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 12:case"end":return a.stop()}}),a)})))()},onUnload:function(){this.setCloudStorage({provider:null})},watch:{domain:function(t){this.setCloudStorage({domain:t}),this.formData.url&&(t||(t="\u8bf7\u8f93\u5165\u81ea\u5b9a\u4e49\u57df\u540d"),this.formData.url=this.formData.url.replace(/^(https?:\/\/)[^\/]+/,"$1".concat(t)))},uniFilePickerProvider:function(t){this.setCloudStorage({provider:t})}},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate(["store_list"]).then((function(e){e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;return(0,s.default)(r.default.mark((function a(){var i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=l.collection(d),i.doc(e.formDataId).update(t).then(function(){var a=(0,s.default)(r.default.mark((function a(n){return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.isStable||!0!==t.stable_publish||!e.latestStableData){a.next=3;break}return a.next=3,i.doc(e.latestStableData._id).update({stable_publish:!1});case 3:uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}));case 2:case"end":return a.stop()}}),a)})))()},getDetail:function(t){var e=this;return uni.showLoading({mask:!0}),l.collection(d).doc(t).field(o.fields).get().then((function(t){var a=t.result.data[0];a&&(a.store_list||(a.store_list=[]),e.formData=a,e.originalData=(0,u.deepClone)(e.formData))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},deletePackage:function(){var t=this;uni.showModal({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u8be5\u7248\u672c",success:function(e){e.confirm&&(uni.showLoading({mask:!0}),l.collection(d).doc(t.formDataId).remove().then((function(){uni.showToast({title:"\u5220\u9664\u6210\u529f"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))}})},getLatestVersion:function(){var t=this;return(0,s.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={appid:t.formData.appid,type:t.formData.type,stable_publish:!0},t.isWGT||(a.platform=t.formData.platform[0]),e.next=4,l.collection(d).where(a).get();case 4:return i=e.sent,e.abrupt("return",i.result.data.find((function(e){return e.platform.toString()===t.formData.platform.toString()})));case 6:case"end":return e.stop()}}),e)})))()},cancelEdit:function(){var t=this,e="";!this.isiOS&&this.hasPackage&&(e+="\n\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305"),uni.showModal({title:"\u53d6\u6d88\u4fee\u6539",content:e,success:function(e){e.confirm&&(t.formData=(0,u.deepClone)(t.originalData),t.detailsState=!0,t.hasPackage&&t.deleteFile([t.appFileList.url]))}})}}};e.default=f}).call(this,a("a9ff")["default"])},6269:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("0ec9")),s=i(a("d107"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),l={mixins:[r.default],data:function(){return{lock:!1,focusEmail:!0,focusPassword:!1,focusPassword2:!1,formData:{email:"",code:"",password:"",password2:"",captcha:""},rules:u({email:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{format:"email",errorMessage:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]},code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"}]}},s.default.getPwdRules()),logo:"/static/logo.png"}},computed:{isEmail:function(){var t=/@/.test(this.formData.email);return t},isPwd:function(){var t=/^.{6,20}$/.test(this.formData.password);return t},isCode:function(){var t=/^\d{6}$/.test(this.formData.code);return t}},onLoad:function(t){t&&t.emailNumber&&(this.formData.email=t.emailNumber,t.lock&&(this.lock=t.lock,this.focusEmail=!0))},onReady:function(){this.formData.email&&this.$refs.shortCode.start(),this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var a=t.formData,i=a.email,n=a.password,r=a.captcha,s=a.code;c.resetPwdByEmail({email:i,code:s,password:n,captcha:r}).then((function(t){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd",complete:function(t){}})})).catch((function(e){"uni-id-captcha-required"==e.errCode&&t.$refs.popup.open()})).finally((function(e){t.formData.captcha=""}))})).catch((function(e){var a=e[0].key;if("code"==a)return t.$refs.shortCode.focusSmsCodeInput=!0;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))},retrieveByPhone:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/retrieve/retrieve"})},backLogin:function(){uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})}}};e.default=l}).call(this,a("a9ff")["default"])},"62d0":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("278c")),r=i(a("115f")),s=i(a("9fe3")),o=a("37dc"),u=i(a("8cb5")),c=a("730b"),l={name:"UniDatetimePicker",options:{virtualHost:!0},components:{Calendar:r.default,TimePicker:s.default},data:function(){return{isRange:!1,hasTime:!1,displayValue:"",inputDate:"",calendarDate:"",pickerTime:"",calendarRange:{startDate:"",startTime:"",endDate:"",endTime:""},displayRangeValue:{startDate:"",endDate:""},tempRange:{startDate:"",startTime:"",endDate:"",endTime:""},startMultipleStatus:{before:"",after:"",data:[],fulldate:""},endMultipleStatus:{before:"",after:"",data:[],fulldate:""},pickerVisible:!1,pickerPositionStyle:null,isEmitValue:!1,isPhone:!1,isFirstShow:!0,i18nT:function(){}}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number,Array,Date],default:""},modelValue:{type:[String,Number,Array,Date],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},placeholder:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},rangeSeparator:{type:String,default:"-"},border:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},clearIcon:{type:[Boolean],default:!0},hideSecond:{type:[Boolean],default:!1},defaultValue:{type:[String,Object,Array],default:""}},watch:{type:{immediate:!0,handler:function(t){this.hasTime=-1!==t.indexOf("time"),this.isRange=-1!==t.indexOf("range")}},value:{immediate:!0,handler:function(t){this.isEmitValue?this.isEmitValue=!1:this.initPicker(t)}},start:{immediate:!0,handler:function(t){t&&(this.calendarRange.startDate=(0,c.getDate)(t),this.hasTime&&(this.calendarRange.startTime=(0,c.getTime)(t)))}},end:{immediate:!0,handler:function(t){t&&(this.calendarRange.endDate=(0,c.getDate)(t),this.hasTime&&(this.calendarRange.endTime=(0,c.getTime)(t,this.hideSecond)))}}},computed:{timepickerStartTime:function(){var t=this.isRange?this.tempRange.startDate:this.inputDate;return t===this.calendarRange.startDate?this.calendarRange.startTime:""},timepickerEndTime:function(){var t=this.isRange?this.tempRange.endDate:this.inputDate;return t===this.calendarRange.endDate?this.calendarRange.endTime:""},mobileCalendarTime:function(){var t={start:this.tempRange.startTime,end:this.tempRange.endTime};return this.isRange?t:this.pickerTime},mobSelectableTime:function(){return{start:this.calendarRange.startTime,end:this.calendarRange.endTime}},datePopupWidth:function(){return this.isRange?653:301},singlePlaceholderText:function(){return this.placeholder||("date"===this.type?this.selectDateText:this.selectDateTimeText)},startPlaceholderText:function(){return this.startPlaceholder||this.startDateText},endPlaceholderText:function(){return this.endPlaceholder||this.endDateText},selectDateText:function(){return this.i18nT("uni-datetime-picker.selectDate")},selectDateTimeText:function(){return this.i18nT("uni-datetime-picker.selectDateTime")},selectTimeText:function(){return this.i18nT("uni-datetime-picker.selectTime")},startDateText:function(){return this.startPlaceholder||this.i18nT("uni-datetime-picker.startDate")},startTimeText:function(){return this.i18nT("uni-datetime-picker.startTime")},endDateText:function(){return this.endPlaceholder||this.i18nT("uni-datetime-picker.endDate")},endTimeText:function(){return this.i18nT("uni-datetime-picker.endTime")},okText:function(){return this.i18nT("uni-datetime-picker.ok")},clearText:function(){return this.i18nT("uni-datetime-picker.clear")},showClearIcon:function(){return this.clearIcon&&!this.disabled&&(this.displayValue||this.displayRangeValue.startDate&&this.displayRangeValue.endDate)}},created:function(){this.initI18nT(),this.platform()},methods:{initI18nT:function(){var t=(0,o.initVueI18n)(u.default);this.i18nT=t.t},initPicker:function(t){var e=this;if(!t&&!this.defaultValue||Array.isArray(t)&&!t.length)this.$nextTick((function(){e.clear(!1)}));else if(Array.isArray(t)||this.isRange){var a=(0,n.default)(t,2),i=a[0],r=a[1];if(!i&&!r)return;var s=(0,c.getDate)(i),o=(0,c.getTime)(i,this.hideSecond),u=(0,c.getDate)(r),l=(0,c.getTime)(r,this.hideSecond),d=s,f=u;this.displayRangeValue.startDate=this.tempRange.startDate=d,this.displayRangeValue.endDate=this.tempRange.endDate=f,this.hasTime&&(this.displayRangeValue.startDate="".concat(s," ").concat(o),this.displayRangeValue.endDate="".concat(u," ").concat(l),this.tempRange.startTime=o,this.tempRange.endTime=l);var p={before:s,after:u};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,p,{which:"right"}),this.endMultipleStatus=Object.assign({},this.endMultipleStatus,p,{which:"left"})}else t?(this.displayValue=this.inputDate=this.calendarDate=(0,c.getDate)(t),this.hasTime&&(this.pickerTime=(0,c.getTime)(t,this.hideSecond),this.displayValue="".concat(this.displayValue," ").concat(this.pickerTime))):this.defaultValue&&(this.inputDate=this.calendarDate=(0,c.getDate)(this.defaultValue),this.hasTime&&(this.pickerTime=(0,c.getTime)(this.defaultValue,this.hideSecond)))},updateLeftCale:function(t){var e=this.$refs.left;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.left.nowDate.fullDate)},updateRightCale:function(t){var e=this.$refs.right;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.right.nowDate.fullDate)},platform:function(){if("undefined"===typeof navigator){var t=uni.getSystemInfoSync(),e=t.windowWidth;this.isPhone=e<=500,this.windowWidth=e}else this.isPhone=-1!==navigator.userAgent.toLowerCase().indexOf("mobile")},show:function(){var t=this;if(!this.disabled)if(this.platform(),this.isPhone)setTimeout((function(){t.$refs.mobile.open()}),0);else{this.pickerPositionStyle={top:"10px"};var e=uni.createSelectorQuery().in(this).select(".uni-date-editor");e.boundingClientRect((function(e){t.windowWidth-e.left<t.datePopupWidth&&(t.pickerPositionStyle.right=0)})).exec(),setTimeout((function(){if(t.pickerVisible=!t.pickerVisible,!t.isPhone&&t.isRange&&t.isFirstShow){t.isFirstShow=!1;var e=t.calendarRange,a=e.startDate,i=e.endDate;a&&i?t.diffDate(a,i)<30&&t.$refs.right.changeMonth("pre"):(t.$refs.right.changeMonth("next"),t.$refs.right.cale.lastHover=!1)}}),50)}},close:function(){var t=this;setTimeout((function(){t.pickerVisible=!1,t.$emit("maskClick",t.value),t.$refs.mobile&&t.$refs.mobile.close()}),20)},setEmit:function(t){"timestamp"!==this.returnType&&"date"!==this.returnType||(Array.isArray(t)?(this.hasTime||(t[0]=t[0]+" 00:00:00",t[1]=t[1]+" 00:00:00"),t[0]=this.createTimestamp(t[0]),t[1]=this.createTimestamp(t[1]),"date"===this.returnType&&(t[0]=new Date(t[0]),t[1]=new Date(t[1]))):(this.hasTime||(t+=" 00:00:00"),t=this.createTimestamp(t),"date"===this.returnType&&(t=new Date(t)))),this.$emit("update:modelValue",t),this.$emit("input",t),this.$emit("change",t),this.isEmitValue=!0},createTimestamp:function(t){return t=(0,c.fixIosDateFormat)(t),Date.parse(new Date(t))},singleChange:function(t){this.calendarDate=this.inputDate=t.fulldate,this.hasTime||this.confirmSingleChange()},confirmSingleChange:function(){if(!(0,c.checkDate)(this.inputDate)){var t=new Date;this.calendarDate=this.inputDate=(0,c.getDate)(t),this.pickerTime=(0,c.getTime)(t,this.hideSecond)}var e,a,i=!1;if(this.start){var r=this.start;"number"===typeof this.start&&(r=(0,c.getDateTime)(this.start,this.hideSecond));var s=r.split(" "),o=(0,n.default)(s,2);e=o[0],a=o[1],this.start&&!(0,c.dateCompare)(e,this.inputDate)&&(i=!0,this.inputDate=e)}var u,l,d=!1;if(this.end){var f=this.end;"number"===typeof this.end&&(f=(0,c.getDateTime)(this.end,this.hideSecond));var p=f.split(" "),h=(0,n.default)(p,2);u=h[0],l=h[1],this.end&&!(0,c.dateCompare)(this.inputDate,u)&&(d=!0,this.inputDate=u)}this.hasTime?(i&&(this.pickerTime=a||(0,c.getDefaultSecond)(this.hideSecond)),d&&(this.pickerTime=l||(0,c.getDefaultSecond)(this.hideSecond)),this.pickerTime||(this.pickerTime=(0,c.getTime)(Date.now(),this.hideSecond)),this.displayValue="".concat(this.inputDate," ").concat(this.pickerTime)):this.displayValue=this.inputDate,this.setEmit(this.displayValue),this.pickerVisible=!1},leftChange:function(t){var e=t.range,a=e.before,i=e.after;this.rangeChange(a,i);var n={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,n)},rightChange:function(t){var e=t.range,a=e.before,i=e.after;this.rangeChange(a,i);var n={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.endMultipleStatus=Object.assign({},this.endMultipleStatus,n)},mobileChange:function(t){if(this.isRange){var e=t.range,a=e.before,i=e.after;if(!a||!i)return;if(this.handleStartAndEnd(a,i,!0),this.hasTime){var n=t.timeRange,r=n.startTime,s=n.endTime;this.tempRange.startTime=r,this.tempRange.endTime=s}this.confirmRangeChange()}else this.hasTime?this.displayValue=t.fulldate+" "+t.time:this.displayValue=t.fulldate,this.setEmit(this.displayValue);this.$refs.mobile.close()},rangeChange:function(t,e){t&&e&&(this.handleStartAndEnd(t,e,!0),this.hasTime||this.confirmRangeChange())},confirmRangeChange:function(){if(this.tempRange.startDate&&this.tempRange.endDate){var t,e;(0,c.checkDate)(this.tempRange.startDate)||(this.tempRange.startDate=(0,c.getDate)(Date.now())),(0,c.checkDate)(this.tempRange.endDate)||(this.tempRange.endDate=(0,c.getDate)(Date.now()));var a,i,r=!1,s=!1;if(this.start){var o=this.start;"number"===typeof this.start&&(o=(0,c.getDateTime)(this.start,this.hideSecond));var u=o.split(" "),l=(0,n.default)(u,2);a=l[0],i=l[1],this.start&&!(0,c.dateCompare)(this.start,this.tempRange.startDate)&&(r=!0,this.tempRange.startDate=a),this.start&&!(0,c.dateCompare)(this.start,this.tempRange.endDate)&&(s=!0,this.tempRange.endDate=a)}var d,f,p=!1,h=!1;if(this.end){var m=this.end;"number"===typeof this.end&&(m=(0,c.getDateTime)(this.end,this.hideSecond));var _=m.split(" "),g=(0,n.default)(_,2);d=g[0],f=g[1],this.end&&!(0,c.dateCompare)(this.tempRange.startDate,this.end)&&(p=!0,this.tempRange.startDate=d),this.end&&!(0,c.dateCompare)(this.tempRange.endDate,this.end)&&(h=!0,this.tempRange.endDate=d)}if(this.hasTime?(r?this.tempRange.startTime=i||(0,c.getDefaultSecond)(this.hideSecond):p&&(this.tempRange.startTime=f||(0,c.getDefaultSecond)(this.hideSecond)),this.tempRange.startTime||(this.tempRange.startTime=(0,c.getTime)(Date.now(),this.hideSecond)),s?this.tempRange.endTime=i||(0,c.getDefaultSecond)(this.hideSecond):h&&(this.tempRange.endTime=f||(0,c.getDefaultSecond)(this.hideSecond)),this.tempRange.endTime||(this.tempRange.endTime=(0,c.getTime)(Date.now(),this.hideSecond)),t=this.displayRangeValue.startDate="".concat(this.tempRange.startDate," ").concat(this.tempRange.startTime),e=this.displayRangeValue.endDate="".concat(this.tempRange.endDate," ").concat(this.tempRange.endTime)):(t=this.displayRangeValue.startDate=this.tempRange.startDate,e=this.displayRangeValue.endDate=this.tempRange.endDate),!(0,c.dateCompare)(t,e)){var v=[e,t];t=v[0],e=v[1]}this.displayRangeValue.startDate=t,this.displayRangeValue.endDate=e;var y=[t,e];this.setEmit(y),this.pickerVisible=!1}else this.pickerVisible=!1},handleStartAndEnd:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){var i=a?"tempRange":"range",n=(0,c.dateCompare)(t,e);this[i].startDate=n?t:e,this[i].endDate=n?e:t}},dateCompare:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e},diffDate:function(t,e){t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/"));var a=(e-t)/864e5;return Math.abs(a)},clear:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isRange?(this.displayRangeValue.startDate="",this.displayRangeValue.endDate="",this.tempRange.startDate="",this.tempRange.startTime="",this.tempRange.endDate="",this.tempRange.endTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():(this.$refs.left&&this.$refs.left.clearCalender(),this.$refs.right&&this.$refs.right.clearCalender(),this.$refs.right&&this.$refs.right.changeMonth("next")),t&&(this.$emit("change",[]),this.$emit("input",[]),this.$emit("update:modelValue",[]))):(this.displayValue="",this.inputDate="",this.pickerTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():this.$refs.pcSingle&&this.$refs.pcSingle.clearCalender(),t&&(this.$emit("change",""),this.$emit("input",""),this.$emit("update:modelValue","")))}}};e.default=l},"62d7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={namespaced:!0,state:{logs:[]},mutations:{ADD_ERROR_LOG:function(t,e){t.logs.unshift(e)},CLEAR_ERROR_LOG:function(t){t.logs.splice(0)}},actions:{add:function(t,e){var a=t.commit;if(!e.route){var i=getCurrentPages();i.length&&(e.route=i[i.length-1].route)}e.route="/"+(e.route||""),a("ADD_ERROR_LOG",e)},clear:function(t){var e=t.commit;e("CLEAR_ERROR_LOG")}}};e.default=i},"62f6":function(t,e,a){"use strict";a.r(e);var i=a("34d0"),n=a("313e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},6332:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={appid:"__UNI__E883FEB"}},"63ce":function(t,e,a){t.exports=a.p+"static/img/rotate.e0dadbe4.svg"},"641d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniNavMenu:a("2d98").default,uniMenuSidebar:a("8f91").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("uni-nav-menu",{attrs:{active:this.value,activeKey:"value",activeTextColor:this.activeTextColor,uniqueOpened:this.uniqueOpened,_i:1},on:{select:this.onSelect}},[e("uni-menu-sidebar",{attrs:{data:this.userMenu,_i:2}}),e("uni-menu-sidebar",{attrs:{data:this.staticMenu,_i:3}})],1)],1)},r=[]},"643a":function(t,e,a){"use strict";a.r(e);var i=a("62d0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},6482:function(t,e,a){"use strict";a.r(e);var i=a("18b7"),n=a("edc2");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},6514:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),a("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[a("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("20-"+r,"i",e.title)?a("uni-th",{key:t._$s(19,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"20-"+r}},[a("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===i&&e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("24-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+s}},[t._v(n._$s("24-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===i&&e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(25,"f",{forIndex:n,key:i}),attrs:{_i:"25-"+r}},t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return a("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,key:n}),attrs:{align:0===n?"left":"center",_i:"26-"+r+"-"+o}},[t._v(t._$s("26-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])})),1)}))],2),a("view",{staticClass:t._$s(27,"sc","uni-pagination-box"),attrs:{_i:27}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:28},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),a("fix-window",{attrs:{_i:29}})],1)},r=[]},"652c":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u78ba\u5b9a","uni-popup.placeholder":"\u8acb\u8f38\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},6558:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniNoticeBar:a("6e1e").default,uniForms:a("2abe").default,uniCard:a("aeaf").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniFilePicker:a("9c74").default,showInfo:a("0e79").default,uniPopup:a("6a38").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-notice-bar",{attrs:{showIcon:!0,text:"\u672c\u9875\u9762\u4fe1\u606f\uff0c\u5728\u5e94\u7528\u53d1\u5e03\u3001app\u5347\u7ea7\u6a21\u5757\u4e2d\uff0c\u90fd\u4f1a\u5173\u8054\u4f7f\u7528\uff0c\u8bf7\u8ba4\u771f\u586b\u5199",_i:1}}),a("uni-forms",{ref:"form",attrs:{validateTrigger:"bind",labelWidth:t.labelWidth,rules:t.rules,_i:2},model:{value:t._$s(2,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[a("uni-card",{attrs:{title:"\u57fa\u7840\u4fe1\u606f",_i:3}},[a("uni-forms-item",{staticClass:t._$s(4,"sc","forn-item__flex"),attrs:{name:"appid",label:"AppID",required:!0,_i:4}},[a("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u7684AppID",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",required:!0,_i:6}},[a("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u540d\u79f0",trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"introduction",label:"\u5e94\u7528\u7b80\u4ecb",_i:8}},[a("uni-easyinput",{attrs:{placeholder:"\u5e94\u7528\u7b80\u4ecb",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.introduction),callback:function(e){t.$set(t.formData,"introduction",e)},expression:"formData.introduction"}})],1),a("uni-forms-item",{attrs:{name:"description",label:"\u5e94\u7528\u63cf\u8ff0",_i:10}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(11,"sc","uni-textarea-border"),attrs:{maxlength:t._$s(11,"a-maxlength",-1),_i:11},domProps:{value:t._$s(11,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})])],1),a("uni-card",{attrs:{title:"\u56fe\u6807\u7d20\u6750",_i:12}},[a("uni-forms-item",{attrs:{label:"\u5e94\u7528\u56fe\u6807",_i:13}},[a("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:14},on:{success:function(e){return t.iconUrlSuccess(e,"icon_url")},delete:function(e){return t.iconUrlDelete(e,"icon_url")}},model:{value:t._$s(14,"v-model",t.middleware_img.icon_url),callback:function(e){t.$set(t.middleware_img,"icon_url",e)},expression:"middleware_img.icon_url"}})],1),a("uni-forms-item",{attrs:{label:"\u5e94\u7528\u622a\u56fe",_i:15}},[a("uni-file-picker",{attrs:{"file-mediatype":"image",mode:"grid","image-styles":{height:"500rpx",width:"300rpx"},_i:16},on:{delete:t.iconUrlDelete},model:{value:t._$s(16,"v-model",t.screenshotList),callback:function(e){t.screenshotList=e},expression:"screenshotList"}})],1)],1),a("uni-card",{staticClass:t._$s(17,"sc","app_platform"),attrs:{title:"App \u4fe1\u606f",_i:17}},[t._$s(18,"i",t.isEdit)?a("view",{staticClass:t._$s(18,"sc","extra-button"),attrs:{_i:18}},[a("button",{attrs:{_i:19},on:{click:t.autoFillApp}}),a("show-info",{attrs:{left:-10,top:-35,width:"230",content:"\u4eceApp\u5347\u7ea7\u4e2d\u5fc3\u540c\u6b65\u5e94\u7528\u5b89\u88c5\u5305\u4fe1\u606f",_i:20}})],1):t._e(),t._l(t._$s(21,"f",{forItems:t.appPlatformKeys}),(function(e,i,n,r){var s=this;return a("view",{key:t._$s(21,"f",{forIndex:n,key:e})},[a("checkbox-group",{attrs:{_i:"22-"+r},on:{change:function(a){var i=a.detail.value;t.setPlatformChcekbox(e,!!i.length)}}},[a("label",{staticClass:t._$s("23-"+r,"sc","title_padding"),class:t._$s("23-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"23-"+r}},[a("checkbox",{attrs:{value:t._$s("24-"+r,"a-value",e),checked:t._$s("24-"+r,"a-checked",t.middleware_checkbox[e]),_i:"24-"+r}}),a("text",[t._v(t._$s("25-"+r,"t0-0",t._s(t.appPlatformValues[e])))])])]),t._$s("26-"+r,"i",t.getPlatformChcekbox(e))?[a("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"27-"+r}},[a("uni-easyinput",{attrs:{trim:"both",_i:"28-"+r},model:{value:t._$s("28-"+r,"v-model",t.formData[e].name),callback:function(a){t.$set(t.formData[e],"name",a)},expression:"formData[item].name"}})],1),t._$s("29-"+r,"i","app_android"===e)?a("uni-forms-item",{staticClass:t._$s("29-"+r,"sc","forn-item__flex"),attrs:{label:"\u4e0a\u4f20apk\u5305",_i:"29-"+r}},[a("uni-file-picker",{attrs:{"file-extname":"apk",disabled:t.hasPackage,provider:t.uniFilePickerProvider,returnType:"object","file-mediatype":"all",limit:"1",_i:"30-"+r},on:{success:function(a){return t.iconUrlSuccess(a,e+".url")},delete:function(a){return t.iconUrlDelete(a,e+".url")}},model:{value:t._$s("30-"+r,"v-model",t.appPackageInfo),callback:function(e){t.appPackageInfo=e},expression:"appPackageInfo"}},[a("view",{staticClass:t._$s("31-"+r,"sc","flex"),attrs:{_i:"31-"+r}},[a("radio-group",{attrs:{_i:"32-"+r},on:{change:function(t){return s.uniFilePickerProvider=t.detail.value}}},[a("view",{staticClass:t._$s("33-"+r,"sc","flex"),attrs:{_i:"33-"+r}},[a("label",[a("radio",{attrs:{_i:"35-"+r}}),a("text")]),a("label",[a("radio",{}),a("text")])])]),a("button",{attrs:{_i:"40-"+r},on:{click:t.selectFile}}),a("text")])]),t._$s("42-"+r,"i",t.hasPackage)?a("text",[t._v(t._$s("42-"+r,"t0-0",t._s(t.appPackageInfo.size&&Number(t.appPackageInfo.size/1024/1024).toFixed(2)+"M")))]):t._e()],1):t._e(),a("uni-forms-item",{attrs:{label:"app_ios"===e?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",_i:"43-"+r}},[a("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"44-"+r},model:{value:t._$s("44-"+r,"v-model",t.formData[e].url),callback:function(a){t.$set(t.formData[e],"url",a)},expression:"formData[item].url"}})],1)]:t._e()],2)})),a("uni-popup",{ref:"scheme",attrs:{"background-color":"#fff",_i:45}},[a("view",{staticClass:t._$s(46,"sc","popup-content"),attrs:{_i:46}},[a("text"),a("view"),a("text")])]),a("uni-forms-item",{attrs:{name:"store_schemes",label:"Android\u5e94\u7528\u5e02\u573a",labelWidth:"120",_i:50}},[a("view",[a("view",{staticClass:t._$s(52,"sc","flex"),attrs:{_i:52}},[a("text",{staticClass:t._$s(53,"sc","pointer"),attrs:{_i:53},on:{click:t.schemeDemo}}),a("button",{attrs:{_i:54},on:{click:t.addStoreScheme}})]),t._l(t._$s(55,"f",{forItems:t.formData.store_list}),(function(e,i,n,r){return a("view",{key:t._$s(55,"f",{forIndex:n,key:e.id})},[a("uni-card",{attrs:{title:"",_i:"56-"+r}},[a("view",[a("view",[a("button",{attrs:{_i:"59-"+r},on:{click:function(a){return t.deleteStore(i,e)}}})])]),a("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"60-"+r}},[a("uni-easyinput",{attrs:{trim:"both",_i:"61-"+r},model:{value:t._$s("61-"+r,"v-model",e.name),callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("uni-forms-item",{attrs:{label:"Scheme",_i:"62-"+r}},[a("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"63-"+r},model:{value:t._$s("63-"+r,"v-model",e.scheme),callback:function(a){t.$set(e,"scheme",a)},expression:"item.scheme"}})],1)],1)],1)}))],2)])],2),a("uni-card",{staticClass:t._$s(64,"sc","mp_platform"),attrs:{title:"\u5c0f\u7a0b\u5e8f/\u5feb\u5e94\u7528\u4fe1\u606f",_i:64}},t._l(t._$s(65,"f",{forItems:t.mpPlatformKeys}),(function(e,i,n,r){return a("view",{key:t._$s(65,"f",{forIndex:n,key:e})},[a("checkbox-group",{attrs:{_i:"66-"+r},on:{change:function(a){var i=a.detail.value;t.setPlatformChcekbox(e,!!i.length)}}},[a("label",{staticClass:t._$s("67-"+r,"sc","title_padding"),class:t._$s("67-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"67-"+r}},[a("checkbox",{attrs:{value:t._$s("68-"+r,"a-value",e),checked:t._$s("68-"+r,"a-checked",t.middleware_checkbox[e]),_i:"68-"+r}}),a("text",[t._v(t._$s("69-"+r,"t0-0",t._s(t.mpPlatform[e])))])])]),t._$s("70-"+r,"i",t.mpAccordionStatus&&t.getPlatformChcekbox(e))?[a("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"71-"+r}},[a("uni-easyinput",{attrs:{trim:"both",_i:"72-"+r},model:{value:t._$s("72-"+r,"v-model",t.formData[e].name),callback:function(a){t.$set(t.formData[e],"name",a)},expression:"formData[item].name"}})],1),a("uni-forms-item",{attrs:{label:t.mpPlatform[e].slice(-3)+"\u7801",_i:"73-"+r}},[a("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:"74-"+r},on:{success:function(a){return t.iconUrlSuccess(a,e+".qrcode_url")},delete:function(a){return t.iconUrlDelete(a,e+".qrcode_url")}},model:{value:t._$s("74-"+r,"v-model",t.middleware_img[e]),callback:function(a){t.$set(t.middleware_img,e,a)},expression:"middleware_img[item]"}})],1)]:t._e()],2)})),0),a("uni-card",{attrs:{title:"web\u4fe1\u606f",_i:75}},[a("uni-forms-item",{attrs:{label:"\u94fe\u63a5\u5730\u5740",_i:76}},[a("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:77},model:{value:t._$s(77,"v-model",t.formData.h5.url),callback:function(e){t.$set(t.formData.h5,"url",e)},expression:"formData.h5.url"}}),a("span",[a("a",{})])],1)],1),t._$s(80,"i",t.isEdit)?a("uni-card",{attrs:{isShadow:!1,_i:80}},[a("text",[a("text")])]):t._e(),a("view",{staticClass:t._$s(83,"sc","uni-button-group"),attrs:{_i:83}},[a("button",{staticClass:t._$s(84,"sc","uni-button"),attrs:{_i:84},on:{click:t.submit}}),a("navigator",{},[a("button",{staticClass:t._$s(86,"sc","uni-button"),attrs:{_i:86}})])])],1)],1)},r=[]},6588:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],n={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipDemo1:function(t){var e="";for(var a in t){0==a&&(e+=t[a].axisValueLabel+"\u5e74\u9500\u552e\u989d");var i="--";null!==t[a].data&&(i=t[a].data),e+="<br/>"+t[a].marker+t[a].seriesName+"\uff1a"+i+" \u4e07\u5143"}return e},legendFormat:function(t){return"\u81ea\u5b9a\u4e49\u56fe\u4f8b+"+t},yAxisFormatDemo:function(t,e){return t+"\u5143"},seriesFormatDemo:function(t){return t.name+"\u5e74"+t.value+"\u5143"}},demotype:{color:i},column:{color:i,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},line:{color:i,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:i,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],areaStyle:{},label:{show:!0,color:"#666666",position:"top"}}},pie:{color:i,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:i,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,color:"#666666",position:"top"},labelLine:{show:!0}}},rose:{color:i,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],roseType:"area"}},funnel:{color:i,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:i,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4e1a\u52a1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:i,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}},r=n;e.default=r},"658f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0}]},6613:function(t,e,a){var i=a("5a43");t.exports=function(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports["default"]=t.exports},6701:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("text",{staticClass:t._$s(0,"sc","uni-icons"),class:t._$s(0,"c",["uniui-"+t.type,t.customPrefix,t.customPrefix?t.type:""]),style:t._$s(0,"s",{color:t.color,"font-size":t.iconSize}),attrs:{_i:0},on:{click:t._onClick}})},n=[]},6745:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",stat:-1},{title:"\u9875\u9762\u540d\u79f0",field:"title",stat:-1},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee\uff1b",value:0},{title:"\u9000\u51fa\u9875\u6b21\u6570",field:"exit_times",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u6700\u540e\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762(\u5373\u79bb\u5f00\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u9000\u51fa\u7387",field:"exitRate",computed:"exit_times/visit_times",formatter:"%",tooltip:"\u5728\u6b64\u9875\u9762\uff0c\u9009\u62e9\u79bb\u5f00\u5e94\u7528\u5360\u6b64\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",stat:-1},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0},{title:"\u5206\u4eab\u6b21\u6570",field:"share_count",tooltip:"\u9875\u9762\u88ab\u5206\u4eab\u6210\u529f\u7684\u6b21\u6570",value:0}]},6786:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{style:t._$s(0,"s",{width:t.width,height:t.height}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",t.cSrc)?a("image",{style:t._$s(1,"s",{width:t.width,height:t.height}),attrs:{src:t._$s(1,"a-src",t.cSrc),mode:t._$s(1,"a-mode",t.mode),_i:1}}):t._e()])},n=[]},6791:function(t,e,a){"use strict";a.r(e);var i=a("390f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},6793:function(t,e,a){"use strict";a.r(e);var i=a("9292"),n=a("0ef0");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"0f7e34c8",null,!1,i["a"],void 0);e["default"]=o.exports},6799:function(t,e,a){"use strict";a.r(e);var i=a("b0cf"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},6845:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMenuSidebar:a("8f91").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-nav-menu"),style:this._$s(0,"s",{"background-color":this.backgroundColor}),attrs:{_i:0}},[this._t("default",[e("uni-menu-sidebar",{attrs:{data:this.data,_i:2}})],{_i:1})],2)},r=[]},"68f3":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u522a\u9664\u6578\u64da"}')},6900:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[a("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),a("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),a("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[a("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),a("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[a("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"6a38":function(t,e,a){"use strict";a.r(e);var i=a("4216"),n=a("166e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"6a56":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_id,expression:"formData.permission_id"}],staticClass:t._$s(3,"sc","uni-input-border"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.formData.permission_id)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_id",e.target.value)},function(e){return t.binddata("permission_id",e.detail.value)}]}})]),a("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),a("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),a("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[a("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"6a92":function(t,e,a){"use strict";a.r(e);var i=a("47b7"),n=a("b9b3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"64af574a",null,!1,i["a"],void 0);e["default"]=o.exports},"6ae6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniList:a("62f6").default,uniListItem:a("097c").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesAgreements:a("c25c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i",t.isCertify)?[i("uni-list",{attrs:{_i:2}},[i("uni-list-item",{staticClass:t._$s(3,"sc","item"),attrs:{title:"\u59d3\u540d",rightText:t.userInfo.realNameAuth.realName,_i:3}}),i("uni-list-item",{staticClass:t._$s(4,"sc","item"),attrs:{title:"\u8eab\u4efd\u8bc1\u53f7\u7801",rightText:t.userInfo.realNameAuth.identity,_i:4}})],1)]:[i("view",{staticClass:t._$s(6,"sc","uni-content"),attrs:{_i:6}},[t._$s(7,"i",t.verifyFail)?[i("view",{staticClass:t._$s(8,"sc","face-icon"),attrs:{_i:8}},[i("image",{staticClass:t._$s(9,"sc","face-icon-image"),attrs:{src:t._$s(9,"a-src",a("777d")),_i:9}})]),i("view",{staticClass:t._$s(10,"sc","error-title"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.verifyFailTitle)))]),i("view",{staticClass:t._$s(11,"sc","error-description"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.verifyFailContent)))]),t._$s(12,"i",10013!==t.verifyFailCode)?i("button",{attrs:{_i:12},on:{click:t.retry}}):i("button",{attrs:{_i:13},on:{click:t.retry}}),t._$s(14,"i",t.isDev)?i("view",{staticClass:t._$s(14,"sc","dev-tip"),attrs:{_i:14}}):t._e()]:[i("text",{staticClass:t._$s(16,"sc","title"),attrs:{_i:16}}),i("uni-forms",{attrs:{_i:17}},[i("uni-forms-item",{attrs:{name:"realName",_i:18}},[i("uni-easyinput",{staticClass:t._$s(19,"sc","input-box"),attrs:{placeholder:"\u59d3\u540d",clearable:!1,_i:19},model:{value:t._$s(19,"v-model",t.realName),callback:function(e){t.realName=e},expression:"realName"}})],1),i("uni-forms-item",{attrs:{name:"idCard",_i:20}},[i("uni-easyinput",{staticClass:t._$s(21,"sc","input-box"),attrs:{placeholder:"\u8eab\u4efd\u8bc1\u53f7\u7801",clearable:!1,_i:21},model:{value:t._$s(21,"v-model",t.idCard),callback:function(e){t.idCard=e},expression:"idCard"}})],1)],1),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"realNameVerify",_i:22}}),i("button",{attrs:{disabled:t._$s(23,"a-disabled",!t.certifyIdNext),_i:23},on:{click:t.getCertifyId}})]],2)]],2)},r=[]},"6b39":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("7c5a"),r=i(a("6195")),s=a("963a"),o=s.statPanelTodayFieldsMap,u={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",fieldsMap:o,panelData:{today:{pay_total_amount:"-",pay_order_count:"-"},yesterday:{pay_total_amount:"-",pay_order_count:"-"},beforeyesterday:{pay_total_amount:"-",pay_order_count:"-"},week:{pay_total_amount:"-",pay_order_count:"-"},month:{pay_total_amount:"-",pay_order_count:"-"},quarter:{pay_total_amount:"-",pay_order_count:"-"},year:{pay_total_amount:"-",pay_order_count:"-"},total:{pay_total_amount:"-",pay_order_count:"-"}},loading:!1}},created:function(){var t=this;this.getCloudDataDebounce=(0,n.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,a=this.query;if(a.appid){this.loading=!0,a=(0,n.stringifyQuery)(a,!0,["uni_platform"]);var i=this.getWhere(a);a&&(i="".concat(a," && (").concat(i,")"));var r=t.database();r.collection(this.tableName).where(i).field("".concat((0,n.stringifyField)(o),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("stat_time, dimension").groupField((0,n.stringifyGroupField)(o)+",last(start_time) as start_time").get().then((function(t){var a=t.result.data;a.map((function(t,e){t.actual_total_amount||(t.actual_total_amount=t.pay_total_amount-t.refund_total_amount)})),a=(0,n.formatterData)({fieldsMap:o,data:a}),e.loading=!1,Object.assign(e.panelData,e.setPanelData(a))}));var s="".concat(a,' && dimension == "year"');r.collection(this.tableName).where(s).field("".concat((0,n.stringifyField)(o),", dimension")).groupBy("dimension").groupField((0,n.stringifyGroupField)(o)).get().then((function(t){var a=t.result.data;a.map((function(t,e){t.actual_total_amount=t.pay_total_amount-t.refund_total_amount})),a=(0,n.formatterData)({fieldsMap:o,data:a}),Object.assign(e.panelData,{total:a[0]||{pay_total_amount:0,pay_order_count:0,create_total_amount:0,refund_total_amount:0,actual_total_amount:0}})}))}},getWhere:function(t){var e,a=Date.now(),i=r.default.getOffsetStartAndEnd("day",0,a),n=r.default.getOffsetStartAndEnd("day",-1,a),s=r.default.getOffsetStartAndEnd("day",-2,a),o=r.default.getOffsetStartAndEnd("week",0,a),u=r.default.getOffsetStartAndEnd("month",0,a),c=r.default.getOffsetStartAndEnd("quarter",0,a),l=r.default.getOffsetStartAndEnd("year",0,a);return e='(dimension=="day" && start_time=='.concat(i.startTime," && end_time==").concat(i.endTime,') || (dimension=="day" && start_time==').concat(n.startTime," && end_time==").concat(n.endTime,') || (dimension=="day" && start_time==').concat(s.startTime," && end_time==").concat(s.endTime,') || (dimension=="week" && start_time==').concat(o.startTime," && end_time==").concat(o.endTime,') || (dimension=="month" && start_time==').concat(u.startTime," && end_time==").concat(u.endTime,') || (dimension=="quarter" && start_time==').concat(c.startTime," && end_time==").concat(c.endTime,') || (dimension=="year" && start_time==').concat(l.startTime," && end_time==").concat(l.endTime,")"),e},setPanelData:function(t){var e=Date.now(),a=r.default.getOffsetStartAndEnd("day",0,e),i=r.default.getOffsetStartAndEnd("day",-1,e),n=r.default.getOffsetStartAndEnd("day",-2,e),s=t.find((function(t){return"day"===t.dimension&&t.start_time===a.startTime})),o=t.find((function(t){return"day"===t.dimension&&t.start_time===i.startTime})),u=t.find((function(t){return"day"===t.dimension&&t.start_time===n.startTime})),c=t.find((function(t){return"week"===t.dimension})),l=t.find((function(t){return"month"===t.dimension})),d=t.find((function(t){return"quarter"===t.dimension})),f=t.find((function(t){return"year"===t.dimension})),p={pay_total_amount:0,pay_order_count:0,create_total_amount:0,refund_total_amount:0,actual_total_amount:0};return{today:s||p,yesterday:o||p,beforeyesterday:u||p,week:c||p,month:l||p,quarter:d||p,year:f||p}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}}};e.default=u}).call(this,a("a9ff")["default"])},"6b58":function(t,e,a){var i=a("7037")["default"],n=a("3c96");t.exports=function(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"6b99":function(t,e,a){"use strict";a.r(e);var i=a("8990"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6bb7":function(t,e,a){"use strict";a.r(e);var i=a("6c45"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6c18":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.show)?a("view",{staticClass:t._$s(0,"sc","uni-noticebar"),style:t._$s(0,"s",{backgroundColor:t.backgroundColor}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!0===t.showIcon||"true"===t.showIcon)?a("uni-icons",{staticClass:t._$s(1,"sc","uni-noticebar-icon"),attrs:{type:"sound",color:t.color,size:1.5*t.fontSize,_i:1}}):t._e(),a("view",{ref:"textBox",staticClass:t._$s(2,"sc","uni-noticebar__content-wrapper"),class:t._$s(2,"c",{"uni-noticebar__content-wrapper--scrollable":t.scrollable,"uni-noticebar__content-wrapper--single":!t.scrollable&&(t.single||t.moreText)}),style:t._$s(2,"s",{height:t.scrollable?1.5*t.fontSize+"px":"auto"}),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-noticebar__content"),class:t._$s(3,"c",{"uni-noticebar__content--scrollable":t.scrollable,"uni-noticebar__content--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{id:t._$s(3,"a-id",t.elIdBox),_i:3}},[a("text",{ref:"animationEle",staticClass:t._$s(4,"sc","uni-noticebar__content-text"),class:t._$s(4,"c",{"uni-noticebar__content-text--scrollable":t.scrollable,"uni-noticebar__content-text--single":!t.scrollable&&(t.single||t.showGetMore)}),style:t._$s(4,"s",{color:t.color,fontSize:t.fontSize+"px",lineHeight:1.5*t.fontSize+"px",width:t.wrapWidth+"px",animationDuration:t.animationDuration,"-webkit-animationDuration":t.animationDuration,animationPlayState:t.webviewHide?"paused":t.animationPlayState,"-webkit-animationPlayState":t.webviewHide?"paused":t.animationPlayState,animationDelay:t.animationDelay,"-webkit-animationDelay":t.animationDelay}),attrs:{id:t._$s(4,"a-id",t.elId),_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.text)))])])]),t._$s(5,"i",t.isShowGetMore)?a("view",{staticClass:t._$s(5,"sc","uni-noticebar__more uni-cursor-point"),attrs:{_i:5},on:{click:t.clickMore}},[t._$s(6,"i",t.moreText.length>0)?a("text",{style:t._$s(6,"s",{color:t.moreColor,fontSize:t.fontSize+"px"}),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.moreText)))]):a("uni-icons",{attrs:{type:"right",color:t.moreColor,size:1.1*t.fontSize,_i:7}})],1):t._e(),t._$s(8,"i",t.isShowClose)?a("view",{staticClass:t._$s(8,"sc","uni-noticebar-close uni-cursor-point"),attrs:{_i:8}},[a("uni-icons",{attrs:{type:"closeempty",color:t.color,size:1.1*t.fontSize,_i:9},on:{click:t.close}})],1):t._e()],1):t._e()},r=[]},"6c45":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=a("37dc"),s=i(a("504d"));setTimeout((function(){n=uni.getSystemInfoSync().platform}),16);var o=(0,r.initVueI18n)(s.default),u=o.t,c={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data:function(){return{webviewHide:!1,platform:n,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth:function(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText:function(){return this.contentText.contentdown||u("uni-load-more.contentdown")},contentrefreshText:function(){return this.contentText.contentrefresh||u("uni-load-more.contentrefresh")},contentnomoreText:function(){return this.contentText.contentnomore||u("uni-load-more.contentnomore")}},mounted:function(){var t=this,e=getCurrentPages(),a=e[e.length-1],i=a.$getAppWebview();i.addEventListener("hide",(function(){t.webviewHide=!0})),i.addEventListener("show",(function(){t.webviewHide=!1}))},methods:{onClick:function(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};e.default=c},"6cb1":function(t,e,a){"use strict";a.r(e);var i=a("cf31"),n=a("05d2");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"6d12":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniDataChecklist",mixins:[t.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return""}},modelValue:{type:[Array,String,Number],default:function(){return""}},localdata:{type:Array,default:function(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"\u6682\u65e0\u6570\u636e"},disabled:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},watch:{localdata:{handler:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},deep:!0},mixinDatacomResData:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},value:function(t){this.dataList=this.getDataList(t)},modelValue:function(t){this.dataList=this.getDataList(t)}},data:function(){return{dataList:[],range:[],contentText:{contentdown:"\u67e5\u770b\u66f4\u591a",contentrefresh:"\u52a0\u8f7d\u4e2d",contentnomore:"\u6ca1\u6709\u66f4\u591a"},isLocal:!0,styles:{selectedColor:"#2979ff",selectedTextColor:"#666"},isTop:0}},computed:{dataValue:function(){return""===this.value?this.modelValue:(this.modelValue,this.value)}},created:function(){this.localdata&&0!==this.localdata.length?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData:function(){var t=this;this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,0===t.mixinDatacomResData.length?(t.isLocal=!1,t.mixinDatacomErrorMessage=t.emptyText):t.isLocal=!0})).catch((function(e){t.mixinDatacomErrorMessage=e.message}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e},chagne:function(t){var e=this,a=t.detail.value,i={value:[],data:[]};if(this.multiple)this.range.forEach((function(t){a.includes(t[e.map.value]+"")&&(i.value.push(t[e.map.value]),i.data.push(t))}));else{var n=this.range.find((function(t){return t[e.map.value]+""===a}));n&&(i={value:n[this.map.value],data:n})}this.$emit("input",i.value),this.$emit("update:modelValue",i.value),this.$emit("change",{detail:i}),this.multiple?this.dataList=this.getDataList(i.value,!0):this.dataList=this.getDataList(i.value)},getDataList:function(t){var e=this,a=JSON.parse(JSON.stringify(this.range)),i=[];return this.multiple&&(Array.isArray(t)||(t=[])),a.forEach((function(a,n){if(a.disabled=a.disable||a.disabled||!1,e.multiple)if(t.length>0){var r=t.find((function(t){return t===a[e.map.value]}));a.selected=void 0!==r}else a.selected=!1;else a.selected=t===a[e.map.value];i.push(a)})),this.setRange(i)},setRange:function(t){var e=this,a=t.filter((function(t){return t.selected})),i=Number(this.min)||0,n=Number(this.max)||"";return t.forEach((function(r,s){if(e.multiple){if(a.length<=i){var o=a.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0!==o&&(r.disabled=!0)}if(a.length>=n&&""!==n){var u=a.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0===u&&(r.disabled=!0)}}e.setStyles(r,s),t[s]=r})),t},setStyles:function(t,e){t.styleBackgroud=this.setStyleBackgroud(t),t.styleIcon=this.setStyleIcon(t),t.styleIconText=this.setStyleIconText(t),t.styleRightIcon=this.setStyleRightIcon(t)},getSelectedValue:function(t){var e=this;if(!this.multiple)return this.dataValue;var a=[];return t.forEach((function(t){t.selected&&a.push(t[e.map.value])})),this.dataValue.length>0?this.dataValue:a},setStyleBackgroud:function(t){var e={},a=this.selectedColor?this.selectedColor:"#2979ff";this.selectedColor&&("list"!==this.mode&&(e["border-color"]=t.selected?a:"#DCDFE6"),"tag"===this.mode&&(e["background-color"]=t.selected?a:"#f5f5f5"));var i="";for(var n in e)i+="".concat(n,":").concat(e[n],";");return i},setStyleIcon:function(t){var e={},a="";if(this.selectedColor){var i=this.selectedColor?this.selectedColor:"#2979ff";e["background-color"]=t.selected?i:"#fff",e["border-color"]=t.selected?i:"#DCDFE6",!t.selected&&t.disabled&&(e["background-color"]="#F2F6FC",e["border-color"]=t.selected?i:"#DCDFE6")}for(var n in e)a+="".concat(n,":").concat(e[n],";");return a},setStyleIconText:function(t){var e={},a="";if(this.selectedColor){var i=this.selectedColor?this.selectedColor:"#2979ff";"tag"===this.mode?e.color=t.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":e.color=t.selected?this.selectedTextColor?this.selectedTextColor:i:"#666",!t.selected&&t.disabled&&(e.color="#999")}for(var n in e)a+="".concat(n,":").concat(e[n],";");return a},setStyleRightIcon:function(t){var e={},a="";for(var i in"list"===this.mode&&(e["border-color"]=t.selected?this.styles.selectedColor:"#DCDFE6"),e)a+="".concat(i,":").concat(e[i],";");return a}}};e.default=a}).call(this,a("a9ff")["default"])},"6d13":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading5",data:function(){return{}}}},"6d1d":function(t,e,a){"use strict";a.r(e);var i=a("4921"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6d28":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","charts-error"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","charts-font"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(null==t.errorMessage?"\u8bf7\u70b9\u51fb\u91cd\u8bd5":t.errorMessage)))])])},n=[]},"6db2":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3015")),r=function(){return t("log","\u4e3a\u5b9a\u4e49"," at uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue:34")},s={name:"uni-agreements",computed:{agreements:function(){if(!n.default.agreements)return[];var t=n.default.agreements,e=t.serviceUrl,a=t.privacyUrl;return[{url:e,title:"\u7528\u6237\u670d\u52a1\u534f\u8bae"},{url:a,title:"\u9690\u79c1\u653f\u7b56\u6761\u6b3e"}]}},props:{scope:{type:String,default:function(){return"register"}}},methods:{popupConfirm:function(){this.isAgree=!0,r()},popup:function(t){var e=this;this.needPopupAgreements=!0,this.$nextTick((function(){t&&(r=t),e.$refs.popupAgreement.open()}))},navigateTo:function(t){var e=t.url,a=t.title;uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e+"&title="+a,success:function(t){},fail:function(){},complete:function(){}})},hasAnd:function(t,e){return t.length-1>e},setAgree:function(t){this.isAgree=!this.isAgree,this.$emit("setAgree",this.isAgree)}},created:function(){var t;this.needAgreements=((null===n.default||void 0===n.default||null===(t=n.default.agreements)||void 0===t?void 0:t.scope)||[]).includes(this.scope)},data:function(){return{isAgree:!1,needAgreements:!0,needPopupAgreements:!1}}};e.default=s}).call(this,a("0de9")["default"])},"6db4":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","l-clipper"),class:t._$s(0,"c",{open:t.value}),style:t._$s(0,"s","z-index: "+t.zIndex+";"+t.customStyle),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","l-clipper-mask"),attrs:{_i:1},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchMove(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchEnd(e)}}},[i("view",{staticClass:t._$s(2,"sc","l-clipper__content"),style:t._$s(2,"s",t.clipStyle),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:[0,0,0,0]}),(function(e,a,n,r){return i("view",{key:t._$s(3,"f",{forIndex:n,key:a}),staticClass:t._$s("3-"+r,"sc","l-clipper__edge"),attrs:{_i:"3-"+r}})})),0)]),t._$s(4,"i",t.image)?i("image",{staticClass:t._$s(4,"sc","l-clipper-image"),style:t._$s(4,"s",t.imageStyle),attrs:{src:t._$s(4,"a-src",t.image),mode:t._$s(4,"a-mode","auto"==t.imageWidth?"widthFix":""),_i:4},on:{error:t.imageLoad,load:t.imageLoad,touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchMove(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchEnd(e)}}}):t._e(),i("canvas",{staticClass:t._$s(5,"sc","l-clipper-canvas"),style:t._$s(5,"s","width: "+t.canvasWidth*t.scaleRatio+"px; height:"+t.canvasHeight*t.scaleRatio+"px;"),attrs:{"canvas-id":t._$s(5,"a-canvas-id",t.canvasId),id:"l-clipper",_i:5}}),i("view",{staticClass:t._$s(6,"sc","l-clipper-tools"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","l-clipper-tools__btns"),attrs:{_i:7}},[t._$s(8,"i",t.isShowCancelBtn)?i("view",{attrs:{_i:8},on:{click:t.cancel}},[t._$s(9,"i",t.$slots.cancel)?t._t("cancel",null,{_i:9}):i("view",{staticClass:t._$s(10,"sc","cancel"),attrs:{_i:10}})],2):t._e(),t._$s(11,"i",t.isShowPhotoBtn)?i("view",{attrs:{_i:11},on:{click:t.uploadImage}},[t._$s(12,"i",t.$slots.photo)?t._t("photo",null,{_i:12}):i("image",{attrs:{src:t._$s(13,"a-src",a("2955")),_i:13}})],2):t._e(),t._$s(14,"i",t.isShowRotateBtn)?i("view",{attrs:{_i:14},on:{click:t.rotate}},[t._$s(15,"i",t.$slots.rotate)?t._t("rotate",null,{_i:15}):i("image",{attrs:{src:t._$s(16,"a-src",a("63ce")),_i:16}})],2):t._e(),t._$s(17,"i",t.isShowConfirmBtn)?i("view",{attrs:{_i:17},on:{click:t.confirm}},[t._$s(18,"i",t.$slots.confirm)?t._t("confirm",null,{_i:18}):i("view",{staticClass:t._$s(19,"sc","confirm"),attrs:{_i:19}})],2):t._e()]),t._t("default",null,{_i:20})],2)])},n=[]},"6dd0":function(t,e,a){"use strict";a.r(e);var i=a("ecf0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6e1e":function(t,e,a){"use strict";a.r(e);var i=a("6c18"),n=a("8aca");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2a08cafe",null,!1,i["a"],void 0);e["default"]=o.exports},"6e9b":function(t,e,a){"use strict";a.r(e);var i=a("6514"),n=a("ebf6");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"6e9f":function(t,e,a){"use strict";a.r(e);var i=a("45dd"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6f8f":function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports["default"]=t.exports},7037:function(t,e){function a(e){return t.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,a(e)}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},"70a8":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,downloadExcel:a("c0d7").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniTag:a("b7bd").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}}),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}}),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}}),a("download-excel",{staticClass:t._$s(8,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:8}},[a("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9}})]),a("button",{staticClass:t._$s(10,"sc","uni-button"),attrs:{_i:10},on:{click:function(e){return t.$refs.batchSms.open()}}})],1)],1),a("view",{staticClass:t._$s(11,"sc","uni-container"),attrs:{_i:11}},[a("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-tag",field:"tagid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:12},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"13-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"14-"+n}},[a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"tagid")},"sort-change":function(e){return t.sortChange(e,"tagid")}}},[t._v("\u6807\u7b7e\u7684tagid")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u6807\u7b7e\u540d\u79f0")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u6807\u7b7e\u63cf\u8ff0")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"18-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",_i:"19-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("20-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("20-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"20-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[t._v(i._$s("21-"+n+o,"t0-0",t._s(e.tagid)))]),a("uni-td",{attrs:{align:"center",_i:"22-"+n+o}},[a("uni-tag",{attrs:{type:"primary",inverted:!0,size:"small",text:e.name,_i:"23-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"24-"+n+o}},[t._v(i._$s("24-"+n+o,"t0-0",t._s(e.description)))]),a("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"26-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[a("view",{staticClass:i._$s("28-"+n+o,"sc","uni-group"),attrs:{_i:"28-"+n+o}},[a("button",{staticClass:i._$s("29-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"29-"+n+o},on:{click:function(a){return t.navigateTo("../user/list?tagid="+e.tagid,!1)}}},[t._v("\u6210\u5458")]),a("button",{staticClass:i._$s("30-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"30-"+n+o},on:{click:function(a){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v("\u4fee\u6539")]),a("button",{staticClass:i._$s("31-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"31-"+n+o},on:{click:function(a){return t.confirmDelete(e._id)}}},[t._v("\u5220\u9664")])])])],1)}))],2),a("view",{staticClass:i._$s("32-"+n,"sc","uni-pagination-box"),attrs:{_i:"32-"+n}},[a("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"33-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("33-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("fix-window",{attrs:{_i:34}})],1)},r=[]},"70b4":function(t,e,a){"use strict";a.r(e);var i=a("6b39"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"70e9":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7037")),r=i(a("9523")),s=a("26cb"),o=i(a("b301")),u=i(a("f808"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{errorLog:o.default},props:{navigationBarTitleText:{type:String},matchLeftWindow:{type:Boolean},showLeftWindow:{type:Boolean}},data:function(){return l(l({},u.default.navBar),{},{popupMenuOpened:!1,mpCapsule:0,langIndex:0})},computed:l(l(l({},(0,s.mapState)("app",["appName","routes","theme"])),(0,s.mapState)("error",["logs"])),{},{userInfo:function(){return this.$uniIdPagesStore.store.userInfo},themeIndex:function(){var t=this,e=0;return this.themes.forEach((function(a,i){a.value===t.theme&&(e=i)})),e}}),mounted:function(){},methods:l(l({},(0,s.mapMutations)("app",["SET_THEME"])),{},{showErrorLogs:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.errorLogsPopup.open()},showPasswordPopup:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.passwordPopup.open()},logout:function(){this.popupMenuOpened=!1,this.$uniIdPagesStore.mutations.logout()},toggleSidebar:function(){this.showLeftWindow?uni.hideLeftWindow():uni.showLeftWindow()},togglePopupMenu:function(){this.popupMenuOpened=!this.popupMenuOpened},changePassword:function(){var t=this;uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",complete:function(){t.popupMenuOpened=!1}})},changeLanguage:function(t){var e="object"===(0,n.default)(t)?t.detail.value:t;(!e||e<0)&&(e=0);var a=this.langs[e].lang||"zh-Hans",i=uni.getSystemInfoSync().platform;"android"!==i?(this.$i18n.locale=a,this.langIndex=e,uni.setLocale(a)):uni.showToast({icon:"error",title:"\u6682\u4e0d\u652f\u6301",duration:2e3})},linkTo:function(){uni.reLaunch({url:"/"})},changeTheme:function(t){var e="object"===(0,n.default)(t)?t.detail.value:t,a=this.themes[e].value||"default";this.theme!==a&&this.SET_THEME(a)}})};e.default=d},"72cb":function(t,e,a){"use strict";a.r(e);var i=a("521d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"730b":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.Calendar=void 0,e.addZero=l,e.checkDate=function(t){return t.match(/((19|20)\d{2})(-|\/)\d{1,2}(-|\/)\d{1,2}/g)},e.dateCompare=d,e.fixIosDateFormat=p,e.getDate=u,e.getDateTime=function(t,e){return"".concat(u(t)," ").concat(c(t,e))},e.getDefaultSecond=function(t){return t?"00:00":"00:00:00"},e.getTime=c;var n=i(a("448a")),r=i(a("970b")),s=i(a("5bc3")),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.selected,i=e.startDate,n=e.endDate,s=e.range;(0,r.default)(this,t),this.date=this.getDateObj(new Date),this.selected=a||[],this.startDate=i,this.endDate=n,this.range=s,this.cleanMultipleStatus(),this.weeks={},this.lastHover=!1}return(0,s.default)(t,[{key:"setDate",value:function(t){var e=this.getDateObj(t);this.getWeeks(e.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"setStartDate",value:function(t){this.startDate=t}},{key:"setEndDate",value:function(t){this.endDate=t}},{key:"getPreMonthObj",value:function(t){t=p(t),t=new Date(t);var e=t.getMonth();t.setMonth(e-1);var a=t.getMonth();return 0!==e&&a-e===0&&t.setMonth(a-1),this.getDateObj(t)}},{key:"getNextMonthObj",value:function(t){t=p(t),t=new Date(t);var e=t.getMonth();t.setMonth(e+1);var a=t.getMonth();return a-e>1&&t.setMonth(a-1),this.getDateObj(t)}},{key:"getDateObj",value:function(t){return t=p(t),t=new Date(t),{fullDate:u(t),year:t.getFullYear(),month:l(t.getMonth()+1),date:l(t.getDate()),day:t.getDay()}}},{key:"getPreMonthDays",value:function(t,e){for(var a=[],i=t-1;i>=0;i--){var n=e.month-1;a.push({date:new Date(e.year,n,-i).getDate(),month:n,disable:!0})}return a}},{key:"getCurrentMonthDays",value:function(t,e){for(var a=this,i=[],n=this.date.fullDate,r=function(t){var r="".concat(e.year,"-").concat(e.month,"-").concat(l(t)),s=n===r,o=a.selected&&a.selected.find((function(t){if(a.dateEqual(r,t.date))return t}));a.startDate&&d(a.startDate,r),a.endDate&&d(r,a.endDate);var u=a.multipleStatus.data,c=-1;a.range&&u&&(c=u.findIndex((function(t){return a.dateEqual(t,r)})));var f=-1!==c;i.push({fullDate:r,year:e.year,date:t,multiple:!!a.range&&f,beforeMultiple:a.isLogicBefore(r,a.multipleStatus.before,a.multipleStatus.after),afterMultiple:a.isLogicAfter(r,a.multipleStatus.before,a.multipleStatus.after),month:e.month,disable:a.startDate&&!d(a.startDate,r)||a.endDate&&!d(r,a.endDate),isToday:s,userChecked:!1,extraInfo:o})},s=1;s<=t;s++)r(s);return i}},{key:"_getNextMonthDays",value:function(t,e){for(var a=[],i=e.month+1,n=1;n<=t;n++)a.push({date:n,month:i,disable:!0});return a}},{key:"getInfo",value:function(t){var e=this;return t||(t=new Date),this.calendar.find((function(a){return a.fullDate===e.getDateObj(t).fullDate}))}},{key:"dateEqual",value:function(t,e){return t=new Date(p(t)),e=new Date(p(e)),t.valueOf()===e.valueOf()}},{key:"isLogicBefore",value:function(t,e,a){var i=e;return e&&a&&(i=d(e,a)?e:a),this.dateEqual(i,t)}},{key:"isLogicAfter",value:function(t,e,a){var i=a;return e&&a&&(i=d(e,a)?a:e),this.dateEqual(i,t)}},{key:"geDateAll",value:function(t,e){var a=[],i=t.split("-"),n=e.split("-"),r=new Date;r.setFullYear(i[0],i[1]-1,i[2]);var s=new Date;s.setFullYear(n[0],n[1]-1,n[2]);for(var o=r.getTime()-864e5,u=s.getTime()-864e5,c=o;c<=u;)c+=864e5,a.push(this.getDateObj(new Date(parseInt(c))).fullDate);return a}},{key:"setMultiple",value:function(t){if(this.range){var e=this.multipleStatus,a=e.before,i=e.after;if(a&&i){if(!this.lastHover)return void(this.lastHover=!0);this.multipleStatus.before=t,this.multipleStatus.after="",this.multipleStatus.data=[],this.multipleStatus.fulldate="",this.lastHover=!1}else a?(this.multipleStatus.after=t,d(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before),this.lastHover=!0):(this.multipleStatus.before=t,this.lastHover=!1);this.getWeeks(t)}}},{key:"setHoverMultiple",value:function(t){if(this.range&&!this.lastHover){var e=this.multipleStatus.before;e?(this.multipleStatus.after=t,d(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=t,this.getWeeks(t)}}},{key:"setDefaultMultiple",value:function(t,e){this.multipleStatus.before=t,this.multipleStatus.after=e,t&&e&&(d(t,e)?(this.multipleStatus.data=this.geDateAll(t,e),this.getWeeks(e)):(this.multipleStatus.data=this.geDateAll(e,t),this.getWeeks(t)))}},{key:"getWeeks",value:function(t){for(var e=this.getDateObj(t),a=e.year,i=e.month,r=new Date(a,i-1,1).getDay(),s=this.getPreMonthDays(r,this.getDateObj(t)),o=new Date(a,i,0).getDate(),u=this.getCurrentMonthDays(o,this.getDateObj(t)),c=42-r-o,l=this._getNextMonthDays(c,this.getDateObj(t)),d=[].concat((0,n.default)(s),(0,n.default)(u),(0,n.default)(l)),f=new Array(6),p=0;p<d.length;p++){var h=Math.floor(p/7);f[h]||(f[h]=new Array(7)),f[h][p%7]=d[p]}this.calendar=d,this.weeks=f}}]),t}();function u(t){t=p(t),t=new Date(t);var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return"".concat(e,"-").concat(l(a),"-").concat(l(i))}function c(t,e){t=p(t),t=new Date(t);var a=t.getHours(),i=t.getMinutes(),n=t.getSeconds();return e?"".concat(l(a),":").concat(l(i)):"".concat(l(a),":").concat(l(i),":").concat(l(n))}function l(t){return t<10&&(t="0".concat(t)),t}function d(t,e){return t=new Date(p(t)),e=new Date(p(e)),t<=e}e.Calendar=o;var f=/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])( [0-5]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])?$/;function p(t){return"string"===typeof t&&f.test(t)&&(t=t.replace(/-/g,"/")),t}},"731c":function(t,e,a){"use strict";a.r(e);var i=a("b39d"),n=a("86e5");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"738b":function(t,e,a){"use strict";a.r(e);var i=a("e13e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"741b":function(t,e,a){"use strict";a.r(e);var i=a("4753"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},7436:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=a("1897"),o=a("7c5a"),u=n(a("6195"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=t.database(),f={ascending:"asc",descending:"desc"},p={data:function(){return{collectionList:"uni-pay-orders",query:{appid:"",platform_id:"",uni_platform:"",version:"",pay_date:[],channel_code:""},where:"",orderby:"total_fee desc",orderByFieldName:"",selectedIndexs:[],options:l({pageSize:20,pageCurrent:1,filterData:{}},s.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"\u4ef7\u503c\u7528\u6237\u6392\u884c.xls",type:"xls",fields:{"\u7528\u6237ID":"user_id","\u7528\u6237\u6635\u79f0":"nickname","\u652f\u4ed8\u91d1\u989d":"total_fee","\u8ba2\u5355\u6570\u91cf":"count"}},exportExcelData:[],dateTabs:{time:[],timeStr:"",index:null,list:[{_id:0,name:"\u4eca\u5929"},{_id:1,name:"\u6628\u5929"},{_id:7,name:"\u6700\u8fd1\u4e03\u5929"},{_id:30,name:"\u6700\u8fd130\u5929"},{_id:90,name:"\u6700\u8fd190\u5929"}]}}},onLoad:function(){this._filter={}},onReady:function(){},methods:{payDatePicker:function(t){this.query.pay_date=t,this.search()},onqueryload:function(t){this.exportExcelData=t},getWhere:function(){var t="status>0",e=this.query,a=e.pay_date,i=e.appid,n=e.version,r=e.uni_platform,s=e.channel_code;return a&&2==a.length&&(t+=" && pay_date>=".concat(a[0]," && pay_date<=").concat(a[1])),i&&(t+=" && appid=='".concat(i,"'")),n&&(t+=" && stat_data.app_version=='".concat(n,"'")),r&&(t+=" && stat_data.platform=='".concat(r,"'")),s&&(t+=" && stat_data.channel=='".concat(s,"'")),t=t.trim(),t},search:function(){var t=this;if(this.query.appid){var e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))}},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,s.filterToWhere)(this._filter,d.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))},platformChange:function(t,e,a,i){this.query.version=0,this.query.uni_platform=i.code},nameFormat:function(t){return t.user_id?t.nickname?"".concat(t.user_id,"\uff08").concat(t.nickname,"\uff09"):t.user_id:"\u533f\u540d\u7528\u6237"},pageToUser:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/system/user/list?id=".concat(e)})},pageToOrder:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/uni-stat/pay-order/list/list?user_id=".concat(e)})},dateTabsChange:function(t,e){this.dateTabs.index=e;var a=(0,o.getTimeOfSomeDayAgo)(t),i=u.default.getOffsetStartAndEnd("day",0).endTime;1==t&&(i=u.default.getOffsetStartAndEnd("day",0,a).endTime),this.query.pay_date=[a,i]}},watch:{query:{deep:!0,handler:function(t){this.search()}}},computed:{versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,o.stringifyQuery)({appid:e,uni_platform:a});return i},channelQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=(0,o.stringifyQuery)({appid:e,platform_id:a});return i}}};e.default=p}).call(this,a("a9ff")["default"],a("0de9")["default"])},7453:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniLink:a("e328").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniIcons:a("c494").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[a("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/35974",text:"\u652f\u6301Android App\u591a\u6e20\u9053\u7edf\u8ba1\u3002\u8bbe\u7f6eApp\u6e20\u9053\u5305\u7684\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 https://ask.dcloud.net.cn/article/35974\u3002",_i:5}})],1)])],1),a("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","uni-stat--x flex p-1015"),attrs:{_i:7}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(9,"sc","ml-m"),attrs:{collection:"opendb-app-versions",storage:!1,where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-channel",all:!1,_i:10},on:{change:t.changePlatform},model:{value:t._$s(10,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),a("view",{staticClass:t._$s(11,"sc","uni-stat--x flex"),attrs:{_i:11}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:12},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(13,"sc","uni-stat-datetime-picker"),class:t._$s(13,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:13},on:{change:t.useDatetimePicker},model:{value:t._$s(13,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[a("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),a("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),a("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[a("view",{staticClass:t._$s(20,"sc","mb-m"),attrs:{_i:20}},[a("uni-link",{attrs:{color:"",href:"https://ask.dcloud.net.cn/article/35974",text:"\u5982\u4f55\u81ea\u5b9a\u4e49\u6e20\u9053\u5305?",_i:21}})],1),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:22}},[a("uni-tr",{attrs:{_i:23}},[t._l(t._$s(24,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(e,i,n,r){return[t._$s("25-"+r,"i",e.title)?a("uni-th",{key:t._$s(24,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"25-"+r}},[t._v(t._$s("25-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(26,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(26,"f",{forIndex:n,key:i}),attrs:{_i:"26-"+r}},[t._l(t._$s("27-"+r,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(i,n,s,o){return[t._$s("28-"+r+"-"+o,"i",i.title&&1===n)?a("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:0,key:i.field+"_"+n+"_0"}),staticClass:t._$s("28-"+r+"-"+o,"sc","uni-stat-edit--x"),attrs:{_i:"28-"+r+"-"+o}},[t._v(t._$s("28-"+r+"-"+o,"t0-0",t._s(e[i.field]?e[i.field]:"-"))),a("uni-icons",{staticClass:t._$s("29-"+r+"-"+o,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"29-"+r+"-"+o},on:{click:function(a){return t.inputDialogToggle(e.channel_code,e.channel_name)}}})],1):a("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:-1,key:i.field}),attrs:{align:"center",_i:"30-"+r+"-"+o}},[t._v(t._$s("30-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),a("view",{staticClass:t._$s(31,"sc","uni-pagination-box"),attrs:{_i:31}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.paginationOptions.pageSize,current:t.paginationOptions.pageCurrent,total:t.paginationOptions.total,_i:32},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:33}},[a("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:34},on:{confirm:t.editName},model:{value:t._$s(34,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),a("fix-window",{attrs:{_i:35}})],1)},r=[]},"74ed":function(t,e,a){"use strict";a.r(e);var i=a("c2b0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"750c":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("ed6d")),s=i(a("6b58")),o=i(a("36c6")),u=i(a("c973")),c=i(a("970b")),l=i(a("5bc3")),d=i(a("7037"));function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=(0,o.default)(t);if(e){var n=(0,o.default)(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return(0,s.default)(this,a)}}var p={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")},h={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=["label"];a.forEach((function(e){void 0===t[e]&&(t[e]="")}));var i=e;for(var n in t){var r=new RegExp("{"+n+"}");i=i.replace(r,t[n])}return i}var _={integer:function(t){return _.number(t)&&parseInt(t,10)===t},string:function(t){return"string"===typeof t},number:function(t){return!isNaN(t)&&"number"===typeof t},boolean:function(t){return"boolean"===typeof t},float:function(t){return _.number(t)&&!_.integer(t)},array:function(t){return Array.isArray(t)},object:function(t){return"object"===(0,d.default)(t)&&!_.array(t)},date:function(t){return t instanceof Date},timestamp:function(t){return!(!this.integer(t)||Math.abs(t).toString().length>16)},file:function(t){return"string"===typeof t.url},email:function(t){return"string"===typeof t&&!!t.match(p.email)&&t.length<255},url:function(t){return"string"===typeof t&&!!t.match(p.url)},pattern:function(t,e){try{return new RegExp(t).test(e)}catch(a){return!1}},method:function(t){return"function"===typeof t},idcard:function(t){return"string"===typeof t&&!!t.match(p.idcard)},"url-https":function(t){return this.url(t)&&t.startsWith("https://")},"url-scheme":function(t){return t.startsWith("://")},"url-web":function(t){return!1}},g=function(){function t(e){(0,c.default)(this,t),this._message=e}return(0,l.default)(t,[{key:"validateRule",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a,i,r,s){var o,u,c,l,d,f,p,h,m;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=null,u=a.rules,c=u.findIndex((function(t){return t.required})),!(c<0)){t.next=8;break}if(null!==i&&void 0!==i){t.next=6;break}return t.abrupt("return",o);case 6:if("string"!==typeof i||i.length){t.next=8;break}return t.abrupt("return",o);case 8:if(l=this._message,void 0!==u){t.next=11;break}return t.abrupt("return",l["default"]);case 11:d=0;case 12:if(!(d<u.length)){t.next=35;break}if(f=u[d],p=this._getValidateType(f),Object.assign(f,{label:a.label||'["'.concat(e,'"]')}),!v[p]){t.next=20;break}if(o=v[p](f,i,l),null==o){t.next=20;break}return t.abrupt("break",35);case 20:if(!f.validateExpr){t.next=26;break}if(h=Date.now(),m=f.validateExpr(i,s,h),!1!==m){t.next=26;break}return o=this._getMessage(f,f.errorMessage||this._message["default"]),t.abrupt("break",35);case 26:if(!f.validateFunction){t.next=32;break}return t.next=29,this.validateFunction(f,i,r,s,p);case 29:if(o=t.sent,null===o){t.next=32;break}return t.abrupt("break",35);case 32:d++,t.next=12;break;case 35:return null!==o&&(o=l.TAG+o),t.abrupt("return",o);case 37:case"end":return t.stop()}}),t,this)})));return function(e,a,i,n,r){return t.apply(this,arguments)}}()},{key:"validateFunction",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a,i,r,s){var o,u,c;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=null,t.prev=1,u=null,t.next=5,e.validateFunction(e,a,r||i,(function(t){u=t}));case 5:c=t.sent,(u||"string"===typeof c&&c||!1===c)&&(o=this._getMessage(e,u||c,s)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),o=this._getMessage(e,t.t0.message,s);case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(e,a,i,n,r){return t.apply(this,arguments)}}()},{key:"_getMessage",value:function(t,e,a){return m(t,e||t.errorMessage||this._message[a]||e["default"])}},{key:"_getValidateType",value:function(t){var e="";return t.required?e="required":t.format?e="format":t.arrayType?e="arrayTypeFormat":t.range?e="range":void 0!==t.maximum||void 0!==t.minimum?e="rangeNumber":void 0!==t.maxLength||void 0!==t.minLength?e="rangeLength":t.pattern?e="pattern":t.validateFunction&&(e="validateFunction"),e}}]),t}(),v={required:function(t,e,a){return t.required&&function(t,e){return void 0===t||null===t||("string"===typeof t&&!t||(!(!Array.isArray(t)||t.length)||"object"===e&&!Object.keys(t).length))}(e,t.format||(0,d.default)(e))?m(t,t.errorMessage||a.required):null},range:function(t,e,a){for(var i=t.range,n=t.errorMessage,r=new Array(i.length),s=0;s<i.length;s++){var o=i[s];_.object(o)&&void 0!==o.value?r[s]=o.value:r[s]=o}var u=!1;return Array.isArray(e)?u=new Set(e.concat(r)).size===r.length:r.indexOf(e)>-1&&(u=!0),u?null:m(t,n||a["enum"])},rangeNumber:function(t,e,a){if(!_.number(e))return m(t,t.errorMessage||a.pattern.mismatch);var i=t.minimum,n=t.maximum,r=t.exclusiveMinimum,s=t.exclusiveMaximum,o=r?e<=i:e<i,u=s?e>=n:e>n;return void 0!==i&&o?m(t,t.errorMessage||a["number"][r?"exclusiveMinimum":"minimum"]):void 0!==n&&u?m(t,t.errorMessage||a["number"][s?"exclusiveMaximum":"maximum"]):void 0!==i&&void 0!==n&&(o||u)?m(t,t.errorMessage||a["number"].range):null},rangeLength:function(t,e,a){if(!_.string(e)&&!_.array(e))return m(t,t.errorMessage||a.pattern.mismatch);var i=t.minLength,n=t.maxLength,r=e.length;return void 0!==i&&r<i?m(t,t.errorMessage||a["length"].minLength):void 0!==n&&r>n?m(t,t.errorMessage||a["length"].maxLength):void 0!==i&&void 0!==n&&(r<i||r>n)?m(t,t.errorMessage||a["length"].range):null},pattern:function(t,e,a){return _["pattern"](t.pattern,e)?null:m(t,t.errorMessage||a.pattern.mismatch)},format:function(t,e,a){var i=Object.keys(_),n=h[t.format]?h[t.format]:t.format||t.arrayType;return i.indexOf(n)>-1&&!_[n](e)?m(t,t.errorMessage||a.typeError):null},arrayTypeFormat:function(t,e,a){if(!Array.isArray(e))return m(t,t.errorMessage||a.typeError);for(var i=0;i<e.length;i++){var n=e[i],r=this.format(t,n,a);if(null!==r)return r}return null}},y=function(t){(0,r.default)(a,t);var e=f(a);function a(t,i){var n;return(0,c.default)(this,a),n=e.call(this,a.message),n._schema=t,n._options=i||null,n}return(0,l.default)(a,[{key:"updateSchema",value:function(t){this._schema=t}},{key:"validate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a){var i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this._checkFieldInSchema(e),i){t.next=5;break}return t.next=4,this.invokeValidate(e,!1,a);case 4:i=t.sent;case 5:return t.abrupt("return",i.length?i[0]:null);case 6:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"validateAll",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a){var i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this._checkFieldInSchema(e),i){t.next=5;break}return t.next=4,this.invokeValidate(e,!0,a);case 4:i=t.sent;case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"validateUpdate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a){var i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this._checkFieldInSchema(e),i){t.next=5;break}return t.next=4,this.invokeValidateUpdate(e,!1,a);case 4:i=t.sent;case 5:return t.abrupt("return",i.length?i[0]:null);case 6:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"invokeValidate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a,i){var r,s,o,u,c;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],s=this._schema,t.t0=n.default.keys(s);case 3:if((t.t1=t.t0()).done){t.next=15;break}return o=t.t1.value,u=s[o],t.next=8,this.validateRule(o,u,e[o],e,i);case 8:if(c=t.sent,null==c){t.next=13;break}if(r.push({key:o,errorMessage:c}),a){t.next=13;break}return t.abrupt("break",15);case 13:t.next=3;break;case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,this)})));return function(e,a,i){return t.apply(this,arguments)}}()},{key:"invokeValidateUpdate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,a,i){var r,s,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],t.t0=n.default.keys(e);case 2:if((t.t1=t.t0()).done){t.next=13;break}return s=t.t1.value,t.next=6,this.validateRule(s,this._schema[s],e[s],e,i);case 6:if(o=t.sent,null==o){t.next=11;break}if(r.push({key:s,errorMessage:o}),a){t.next=11;break}return t.abrupt("break",13);case 11:t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));return function(e,a,i){return t.apply(this,arguments)}}()},{key:"_checkFieldInSchema",value:function(t){var e=Object.keys(t),i=Object.keys(this._schema);if(new Set(e.concat(i)).size===i.length)return"";var n=e.filter((function(t){return i.indexOf(t)<0})),r=m({field:JSON.stringify(n)},a.message.TAG+a.message["defaultInvalid"]);return[{key:"invalid",errorMessage:r}]}}]),a}(g);y.message=new function(){return{TAG:"",default:"\u9a8c\u8bc1\u9519\u8bef",defaultInvalid:"\u63d0\u4ea4\u7684\u5b57\u6bb5{field}\u5728\u6570\u636e\u5e93\u4e2d\u5e76\u4e0d\u5b58\u5728",validateFunction:"\u9a8c\u8bc1\u65e0\u6548",required:"{label}\u5fc5\u586b",enum:"{label}\u8d85\u51fa\u8303\u56f4",timestamp:"{label}\u683c\u5f0f\u65e0\u6548",whitespace:"{label}\u4e0d\u80fd\u4e3a\u7a7a",typeError:"{label}\u7c7b\u578b\u65e0\u6548",date:{format:"{label}\u65e5\u671f{value}\u683c\u5f0f\u65e0\u6548",parse:"{label}\u65e5\u671f\u65e0\u6cd5\u89e3\u6790,{value}\u65e0\u6548",invalid:"{label}\u65e5\u671f{value}\u65e0\u6548"},length:{minLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u5c11\u4e8e{minLength}",maxLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7{maxLength}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minLength}\u548c{maxLength}\u4e4b\u95f4"},number:{minimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e{minimum}",maximum:"{label}\u4e0d\u80fd\u5927\u4e8e{maximum}",exclusiveMinimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e{minimum}",exclusiveMaximum:"{label}\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e{maximum}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minimum}and{maximum}\u4e4b\u95f4"},pattern:{mismatch:"{label}\u683c\u5f0f\u4e0d\u5339\u914d"}}};var b=y;e.default=b},"756f":function(t,e,a){"use strict";a.r(e);var i=a("4fea"),n=a("8f8c");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},7633:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("uni-icons",{attrs:{type:"info",_i:1},nativeOn:{mouseenter:function(e){return t.mouseenter(e)},mouseleave:function(e){t.showStableInfo=!1}}}),t._$s(2,"i",t.showStableInfo)?a("view",{staticClass:t._$s(2,"sc","show-stable"),style:t._$s(2,"s",{top:t.top+"px",left:t.left+"px",width:t.width+"px"}),attrs:{_i:2}},[a("text",[t._v(t._$s(3,"t0-0",t._s(t.content)))])]):t._e()],1)},r=[]},"76ad":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("6745"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var a=this;e=(0,r.stringifyQuery)(this.query,null,["uni_platform"]);var i=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=(0,r.stringifyQuery)({appid:this.query.appid}),c=n.collection("uni-stat-pages").where(u).field("_id, title, path").getTemp(),l=n.collection("uni-stat-page-result").where(e).getTemp();n.collection(l,c).field("".concat((0,r.stringifyField)(s.default),", stat_date, page_id")).groupBy("page_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("visit_times","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,n=e.data;a.options.total=i,a.tableData=[];var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.page_id;if(Array.isArray(d)){delete l.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var p in f)"_id"!==p&&(l[p]=f[p])}(0,r.mapfields)(s.default,l,l),a.tableData.push(l)}}catch(h){c.e(h)}finally{c.f()}})).catch((function(t){})).finally((function(){a.loading=!1}))},getPanelData:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),i=t.database();i.collection("uni-stat-page-result").where(a).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc ").get().then((function(t){var a=t.result.data[0];e.panelData=[],e.panelData=(0,r.mapfields)(s.default,a)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(e){var a=this,i=t.database();i.collection("uni-stat-pages").where({path:this.queryId}).update({title:e}).then((function(t){t.result.updated?(uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),a.getTableData()):uni.showToast({title:"\u4fee\u6539\u5931\u8d25",icon:"none"})})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},"777d":function(t,e,a){t.exports=a.p+"static/img/face-verify-icon.ea42b36b.svg"},7783:function(t,e,a){"use strict";a.r(e);var i=a("8ffe"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"77ae":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7037")),r={name:"uniNavMenu",props:{data:{type:Array,default:function(){return[]}},mode:{type:String,default:"vertical"},collapse:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"},textColor:{type:String,default:"#303133"},activeTextColor:{type:String,default:"#42B983"},activeBackgroundColor:{type:String,default:"inherit"},activeKey:{type:String,default:"id"},active:{type:String,default:""},defaultOpeneds:{type:Array,default:function(){return[]}},uniqueOpened:{type:Boolean,default:!1},menuTrigger:{type:String,default:"hover"},router:{type:Boolean,default:!1},collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.active}},watch:{active:function(t){this.activeIndex=t},activeIndex:function(t,e){if(this.itemChildrens.length>0){for(var a=!1,i=0;i<this.itemChildrens.length;i++){var n=this.itemChildrens[i];if(a=this.isActive(n),a)break}a||this.closeAll()}}},created:function(){this.itemChildrens=[],this.subChildrens=[]},methods:{select:function(t,e){this.$emit("select",t,e)},open:function(t,e){this.$emit("open",t,e)},close:function(t,e){this.$emit("close",t,e)},isActive:function(t){var e="",a=!1;return e="object"===(0,n.default)(t.index)?t.index[this.activeKey]||"":t.index,t.index&&this.activeIndex===e&&(a=!0,t.$subMenu.forEach((function(e,a){e.disabled||t.disabled||(t.indexPath.push(e.index),e.isOpen=!0)})),t.active||t.onClickItem("init")),a},selectMenu:function(t){var e=this;this.subChildrens.forEach((function(a,i){a===t?(t.isOpen=!t.isOpen,t.indexPath.push(t.index)):a.isOpen&&e.uniqueOpened&&(a.isOpen=!1)})),t.$subMenu.forEach((function(e,a){e.isOpen=!0,t.indexPath.unshift(e.index)})),t.isOpen?this.open(t.indexPath[t.indexPath.length-1],t.indexPath):this.close(t.indexPath[t.indexPath.length-1],t.indexPath),t.indexPath=[]},closeOtherActive:function(t){t.indexPath=[],t.$subMenu.forEach((function(e){e.disabled||t.indexPath.push(e.index)})),this.itemChildrens.map((function(t){return t.active&&(t.active=!1),t}))},closeAll:function(){this.subChildrens.forEach((function(t){t.isOpen&&(t.isOpen=!1)}))}}};e.default=r},"77be":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("8085"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,formData:{event_key:"",device_id:""},query:{appid:"",platform_id:"",uni_platform:"",platform:"",channel_id:"",channel:"",version_id:"",version:"",create_time:[],event_key:"",device_id:""},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:[],queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{changeFormData:function(t,e){this.query[e]=t},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.create_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(t){this.getTableData(t)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code,this.query.platform=i.code},changeVersion:function(t){t||(t="");t.split("---");this.query.version=t.split("---")[0],this.query.platform=t.split("---")[1]},changeChannel:function(t){t||(t="");t.split("---");this.query.channel=t.split("---")[0]},getTableData:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform","platform_id","version_id","channel_id"]),i=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=[n.collection("uni-stat-event-logs").where(a).getTemp(),n.collection("uni-stat-app-platforms").getTemp()];n.collection.apply(n,u).orderBy("create_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var a=t.result,i=a.count,n=a.data;e.tableData=[],e.options.total=i;var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.create_time=(0,r.parseDateTime)(l.create_time,"dateTime"),l.platform=l.platform&&l.platform[0].name,(0,r.mapfields)(s.default,l,l),e.tableData.push(l)}}catch(d){c.e(d)}finally{c.f()}})).catch((function(t){})).finally((function(){e.loading=!1}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},"782b":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=a("7c5a"),o=n(a("6195")),u=a("963a");function c(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=[];u.fieldsGroupMap.forEach((function(t){var e=t.group,a=t.title;e&&a&&p.push({_id:e,name:a,list:t.list})}));var h={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",chartData:{},errorMessage:"",opts:(0,r.default)({color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],legend:{},enableScroll:!0,dataLabel:!1,xAxis:{disableGrid:!0,itemCount:24,fontSize:12,boundaryGap:"center"},yAxis:{gridType:"dash",dashLength:2,data:[{tofix:2}]},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1}}},"legend",{position:"bottom"}),dateTabs:{time:[],timeStr:"",index:2,list:[{_id:1,name:"\u6628\u5929",dimension:"hour"},{_id:0,name:"\u4eca\u5929",dimension:"hour"},{_id:7,name:"\u6700\u8fd1\u4e03\u5929",dimension:"day"},{_id:30,name:"\u6700\u8fd130\u5929",dimension:"day"},{_id:90,name:"\u6700\u8fd190\u5929",dimension:"day"},{_id:372,name:"\u6708\u7eac\u5ea6",dimension:"month"},{_id:1116,name:"\u5b63\u7eac\u5ea6",dimension:"quarter"},{_id:4392,name:"\u5e74\u7eac\u5ea6",dimension:"year"}]},statTabs:{index:0,list:p},queryMode:0}},created:function(){var t=this;this.getCloudDataDebounce=(0,s.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,a=this.query;if(a.appid){this.errorMessage="";var i=this.getWhere(),n=f(f({},a),i),r=this.statTabs.list[this.statTabs.index].list;n=(0,s.stringifyQuery)(n,!0,["uni_platform"]);var o=t.database();o.collection(this.tableName).where(n).field("".concat((0,s.stringifyField)(r),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(r)).orderBy("start_time","asc").limit(100).get({getCount:!0}).then((function(t){var a=t.result,n=(a.count,a.data);n=(0,s.fillTrendChartData)(n,i,r),n=(0,s.formatterData)({fieldsMap:r,data:n,formatter:!1}),e.setChartData(n,r,i)})).catch((function(t){})).finally((function(){}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},setChartData:function(t,e,a){var i=this,n={categories:[],series:[]};e.map((function(t,e){t.trendChart&&n.series.push({name:t.title,data:[]})}));var r,s=c(t);try{var o=function(){var t=r.value,s=i.formatDate(t.start_time,a.dimension);n.categories.push(s),e.map((function(e,a){if(e.trendChart){var i=Number(t[e.field]);n.series[a].data.push(i)}}))};for(s.s();!(r=s.n()).done;)o()}catch(u){s.e(u)}finally{s.f()}this.chartData=n},formatDate:function(t,e){var a=new Date(t),i=a.getFullYear(),n=a.getMonth()+1,r=a.getDate(),o=a.getHours(),u=Math.floor((a.getMonth()+3)/3);return n<10&&(n="0"+n),r<10&&(r="0"+r),"hour"===e?"".concat(o,"\u65f6"):"month"===e?"".concat(i,"-").concat(n):"quarter"===e?"".concat(i,"/Q").concat(u):"year"===e?"".concat(i):(0,s.parseDateTime)(a)},datePickerChange:function(t){this.dateTabs.time=t,this.queryMode=1,this.getCloudData()},dateTabsChange:function(t,e){this.dateTabs.index=e,this.queryMode=0,this.getCloudData()},statTabsChange:function(t,e,a){this.statTabs.index=e,this.getCloudData({field:t,name:a})},getWhere:function(){var t=[],e=this.dateTabs.list[this.dateTabs.index]||{};if("number"===typeof e._id&&0===this.queryMode){var a=(0,s.getTimeOfSomeDayAgo)(e._id),i=o.default.getOffsetStartAndEnd("day",0).endTime;1==e._id&&(i=o.default.getOffsetStartAndEnd("day",0,a).endTime),t=[a,i]}else this.dateTabs.time&&(t=this.dateTabs.time);var n=e.dimension||"day";return this.dateTabs.timeStr="".concat(o.default.timeFormat(t[0])," ~ ").concat(o.default.timeFormat(t[1])),this.dateTabs.time=t,{dimension:n,start_time:t}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=h}).call(this,a("a9ff")["default"],a("0de9")["default"])},"79ad":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("26cb"),s=i(a("f808"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={data:function(){return u(u({},s.default.sideBar),{},{field:"url as value, name as text, menu_id, parent_id, sort, icon, permission",currentMenu:"/"})},computed:u(u({},(0,r.mapState)("app",["inited","navMenu","active"])),{},{userInfo:function(){return this.$uniIdPagesStore.store.userInfo}}),watch:{userInfo:{handler:function(t,e){t&&this.$nextTick((function(){this.$refs.menu.load()}))}}},methods:u(u({},(0,r.mapActions)({setRoutes:"app/setRoutes"})),{},{select:function(t,e){var a=t.value;a||(a=this.active),this.clickMenuItem(a),this.setRoutes(e)},clickMenuItem:function(t){"/"!==t[0]&&0!==t.indexOf("http")&&(t="/"+t),"/"===t&&(t=s.default.index.url),uni.redirectTo({url:t,fail:function(){uni.showModal({title:"\u63d0\u793a",content:"\u9875\u9762 "+t+" \u8df3\u8f6c\u5931\u8d25",showCancel:!1})}})},splitFullPath:function(t){return t||(t="/"),t.split("?")[0]}})};e.default=c},"7a68":function(t,e,a){"use strict";a.r(e);var i=a("4cd6"),n=a("111b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"7be3":function(t,e,a){"use strict";a.r(e);var i=a("4751"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7c22":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTd",options:{virtualHost:!0},props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1}},data:function(){return{border:!1}},created:function(){this.root=this.getTable(),this.border=this.root.border},methods:{getTable:function(){var t=this.$parent,e=t.$options.name;while("uniTable"!==e){if(t=t.$parent,!t)return!1;e=t.$options.name}return t}}};e.default=i},"7c48":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var a={};for(var i in t){var s=t[i],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(a[i]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}a[i]=e.or(l)}break;case"range":if(u.length){var p=u[0],h=u[1];a[i]=e.and([e.gte(p),e.lte(h)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);a[i]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(u.length){var b=(0,n.default)(u,2),x=b[0],w=b[1];a[i]=e.and([e.gte(x),e.lte(w)])}break}}return a},e.validator=void 0;var n=i(a("278c"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}e.validator={title:{rules:[{format:"string"}]},path:{rules:[{format:"string"}]}};e.enumConverter={}},"7c5a":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.createUniStatQuery=function(t){return Object.assign({},t,{type:"native_app",create_env:"uni-stat"})},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null;return function(){for(var i=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];a&&clearTimeout(a),a=setTimeout((function(){t.apply(i,r)}),e)}},e.division=c,e.fileToUrl=function(t){for(var e in m)if(m.hasOwnProperty(e)){var a=m[e];if(a===t)return e}var i=(window.URL||window.webkitURL).createObjectURL(t);return m[i]=t,i},e.fillTrendChartData=function(t,e,a){var i=e.start_time,n=e.dimension;if(["hour","day"].indexOf(n)>-1){var r,s=[];"hour"===n?r=36e5:"day"===n&&(r=864e5);var o=i[0],u=i[1],c=o;s=[o];while(c+r<=u)c+=r,s.push(c);for(var l=[],d=function(e){var i=s[e],n=t.find((function(t,e){return t.start_time===i}));if(n)l.push(n);else{var r={start_time:i};a.map((function(t,e){r[t.field]=0})),l.push(r)}},f=0;f<s.length;f++)d(f);return l}return t},e.format=l,e.formatDate=d,e.formatterData=function(t){var e=t.fieldsMap,a=t.data,i=t.formatter,n=void 0===i||i,s=JSON.parse(JSON.stringify(a));return s.map((function(t){var a=function(a){var i=e.find((function(t){return t.field==a}));if("object"===(0,r.default)(i)){var s=i.fix,o=void 0===s?0:s;"number"===typeof i.multiple&&"number"===typeof t[a]&&(t[a]=Number((t[a]*i.multiple).toFixed(o))),n&&i.formatter&&"number"===typeof t[a]&&(","===i.formatter?t[a]=function(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}(t[a]):"%"===i.formatter?t[a]="".concat((100*t[a]).toFixed(o),"%"):"-"===i.formatter&&(t[a]=f(t[a])))}};for(var i in t)a(i)})),s},e.getAllDateCN=function(t,e){var a=[],i=0;while(e.getTime()-t.getTime()>=0)a[i]=t.getTime(),t.setDate(t.getDate()+1),i+=1;return a},e.getFieldTotal=function(){var e,a=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total_devices";"object"===(0,r.default)(i)&&(i=u(i,!1,["uni_platform"]));var s=t.database();return s.collection("uni-stat-result").where(i).field("".concat(n," as temp_").concat(n,", start_time")).groupBy("start_time").groupField("sum(temp_".concat(n,") as ").concat(n)).orderBy("start_time","desc").get().then((function(t){var i=t.result.data;return e=i.length&&i[0][n],e=l(e),a.panelData&&a.panelData.forEach((function(t){t.field===n&&(t.value=e)})),Promise.resolve(e)}))},e.getTimeOfSomeDayAgo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=new Date(e),i=864e5,n=[a.getFullYear(),a.getMonth()+1,a.getDate()].join("/");n+=" 00:00:00";var r=new Date(n).getTime()-i*t;return r},e.mapfields=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",o=[],u=a;t=JSON.parse(JSON.stringify(t));var d,f=JSON.parse(JSON.stringify(e)),p=s(t);try{for(p.s();!(d=p.n()).done;){var h=d.value,m=h.field,_=h.computed,g=h.formatter,v=h.disable,y=h.fix;if(!v){a=u||h;var b=a.hasOwnProperty(r),x=i+m;if(e){var w=e[x];if(_){var C=_.split("/"),$=(0,n.default)(C,2),k=$[0],D=$[1];k=Number(f[i+k]),D=Number(f[i+D]);var S=l(c(k,D),g,y);b&&m===a.field?a[r]=S:a[m]=S}else if(w){var T=l(w,g,y);b?a.field===m&&(a[r]=T):a[m]=T}}b&&o.push(a)}}}catch(O){p.e(O)}finally{p.f()}return o},e.maxDeltaDay=h,e.parseDateTime=f,e.stringifyField=function(t,e,a){e&&(t=t.filter((function(t){return t.field===e})));a&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(a)})));var i=t.map((function(t){var e=[];return t.computed?e=t.computed.split("/"):e.push(t.field),e=e.map((function(e){return-1===t.stat?e:"".concat(e," as ").concat("temp_"+e)})),e.join()}));return i.join()},e.stringifyGroupField=function(t,e,a){e&&(t=t.filter((function(t){return t.field===e})));a&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(a)})));var i=t.map((function(t){var e=t.stat,a=[];return t.computed?a=t.computed.split("/"):a.push(t.field),a=a.map((function(t){if(-1!==e)return"".concat(e||"sum","(").concat("temp_"+t,") as ").concat(t)})),a.filter(Boolean).join()})).filter(Boolean).join();return i},e.stringifyQuery=u;var n=i(a("278c")),r=i(a("7037"));function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[],n=Object.keys(t),r=t.start_time;n.forEach((function(n){if("time_range"!==n&&-1===a.indexOf(n)){var s=t[n];s&&("string"===typeof s&&s.indexOf(n)>-1?i.push(s):("string"===typeof s&&(s='"'.concat(s,'"')),Array.isArray(s)?2===s.length&&n.indexOf("time")>-1?i.push("".concat(n," >= ").concat(s[0]," && ").concat(n," <= ").concat(s[1])):(s=s.map((function(t){return"".concat(n,' == "').concat(t,'"')})).join(" || "),s&&i.push("(".concat(s,")"))):e&&"dimension"===n?h(r)?i.push('dimension == "hour"'):s&&'"hour"'!==s?i.push("".concat(n," == ").concat(s)):i.push('dimension == "day"'):i.push("".concat(n," == ").concat(s))))}}));var s=i.join(" && ");return s||{}}function c(t,e){return e?t/e:0}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2?arguments[2]:void 0;if("number"!==typeof t)return t;if("%"===e)return t*=100,String(t).indexOf(".")>-1&&(t=t.toFixed(2)),t=t?t+e:t,t;if("%%"===e)return t=Number(t),t.toFixed(2)+"%";if("-"===e)return d(t,"day");if(":"===e){var i,n,r;t=Math.ceil(t),i=n=r=0;var s=3600,o=60;if(t>=s){i=Math.floor(t/s);var u=t%s;u>=o?(n=Math.floor(u/o),r=u%o):r=u}else s>=t&&t>=o?(n=Math.floor(t/o),r=t%o):r=t;var c=[i,n,r].map((function(t){return t<10?"0"+t:t}));return c.join(e)}return","===e?t.toLocaleString():(String(t).indexOf(".")>-1&&(t=Math.abs(t)>1?t.toFixed(a||0):t.toFixed(a||2)),t)}function d(t,e){var a=new Date(t);if("hour"===e){var i=a.getHours();return i=i<10?"0"+i:i,"".concat(i,":00 ~ ").concat(i,":59")}if("week"===e){var n=a.getDate()-a.getDay()+1,r=n+6,s=new Date(a.setDate(n));s=f(s);var o=new Date(a.setDate(r));return o=f(o),"".concat(s," ~ ").concat(o)}if("month"===e){var u=new Date(a.getFullYear(),a.getMonth(),1);u=f(u);var c=new Date(a.getFullYear(),a.getMonth()+1,0);return c=f(c),"".concat(u," ~ ").concat(c)}return f(a)}function f(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=t;"object"!==(0,r.default)(i)&&(i=new Date(i));var n=i.getFullYear(),s=i.getMonth()+1,o=i.getDate(),u=i.getHours(),c=i.getMinutes(),l=i.getSeconds(),d=[n,p(s),p(o)].join(a),f=[p(u),p(c),p(l)].join(":");return"dateTime"===e?d+" "+f:d}function p(t){return t<10?"0"+t:t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t.length)return!0;var a=864e5,i=(0,n.default)(t,2),r=i[0],s=i[1],o=s-r<a*e;return o}var m={}}).call(this,a("a9ff")["default"])},"7c77":function(t,e,a){"use strict";a.r(e);var i=a("4ae3"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7ca9":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("7c5a"),r=(i(a("6195")),i(a("9890"))),s=i(a("8793")),o={components:{funnelChart:r.default,trendChart:s.default},data:function(){return{tableName:"uni-stat-pay-result",query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},loading:!1}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},created:function(){},methods:{platformChange:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code}},watch:{},computed:{versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,n.stringifyQuery)({appid:e,uni_platform:a});return i},channelQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=(0,n.stringifyQuery)({appid:e,platform_id:a});return i}}};e.default=o},"7d06":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[a("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("uni-forms-item",{attrs:{name:"nickname",label:"\u7528\u6237\u6635\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),t._$s(6,"i",t.showPassword)?a("uni-forms-item",{key:"password",attrs:{name:"password",label:"\u91cd\u7f6e\u5bc6\u7801",_i:6}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u91cd\u7f6e\u5bc6\u7801",_i:7},model:{value:t._$s(7,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("view",{staticClass:t._$s(8,"sc","cancel-reset-password-btn"),attrs:{_i:8},on:{click:t.trigger},slot:"right"})])],1):a("uni-forms-item",{attrs:{label:"\u91cd\u7f6e\u5bc6\u7801",_i:9}},[a("span",{staticClass:t._$s(10,"sc","reset-password-btn"),attrs:{_i:10},on:{click:t.trigger}})]),a("uni-forms-item",{staticClass:t._$s(11,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:11}},[a("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:12},model:{value:t._$s(12,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),a("uni-forms-item",{staticClass:t._$s(13,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:13}},[a("uni-data-checkbox",{ref:"checkboxTags",attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:14},model:{value:t._$s(14,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),a("span",{staticClass:t._$s(15,"sc","link-btn"),attrs:{_i:15},on:{click:t.gotoTagAdd}}),a("span",{staticClass:t._$s(16,"sc","link-btn"),attrs:{_i:16},on:{click:t.gotoTagList}})],1),a("uni-forms-item",{attrs:{name:"authorizedApp",label:"\u53ef\u767b\u5f55\u5e94\u7528",_i:17}},[a("view",{staticClass:t._$s(18,"sc","uni-forms-item-flex-center-x"),attrs:{_i:18}},[a("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.appList,_i:19},model:{value:t._$s(19,"v-model",t.formData.authorizedApp),callback:function(e){t.$set(t.formData,"authorizedApp",e)},expression:"formData.authorizedApp"}}),a("span",{staticClass:t._$s(20,"sc","link-btn"),attrs:{_i:20},on:{click:t.gotoAppList}})],1),t._$s(21,"i",t.formDataId===t.userId)?a("view",{staticClass:t._$s(21,"sc","uni-form-item-tips"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.unknownAppidsCom)))]):t._e()]),a("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:22}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:23},model:{value:t._$s(23,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),a("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:24}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:25},model:{value:t._$s(25,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("uni-forms-item",{attrs:{name:"status",label:"\u7528\u6237\u72b6\u6001",_i:26}},[t._$s(27,"i",Number(t.formData.status)<2)?a("switch",{attrs:{checked:t._$s(27,"a-checked",t.formData.status),disabled:t._$s(27,"a-disabled",t.formDataId===t.userId),_i:27},on:{change:function(e){return t.binddata("status",e.detail.value)}}}):a("view",{staticClass:t._$s(28,"sc","uni-form-item-empty"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.parseUserStatus(t.formData.status))))]),t._$s(29,"i",t.formDataId===t.userId)?a("view",{staticClass:t._$s(29,"sc","uni-form-item-tips"),attrs:{_i:29}}):t._e()]),a("view",{staticClass:t._$s(30,"sc","uni-button-group"),attrs:{_i:30}},[a("button",{staticClass:t._$s(31,"sc","uni-button"),attrs:{_i:31},on:{click:t.submitForm}},[t._v(t._$s(31,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(33,"sc","uni-button"),attrs:{_i:33}},[t._v(t._$s(33,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"7d15":function(t,e,a){"use strict";a.r(e);var i=a("a0f4"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7df5":function(t,e,a){"use strict";a.r(e);var i=a("e1b3"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7e13":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesAgreements:a("c25c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"username",required:!0,_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusUsername,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",trim:"both",_i:7},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(7,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("uni-forms-item",{attrs:{name:"nickname",_i:8}},[a("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),a("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[a("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:14}}),a("button",{staticClass:t._$s(15,"sc","uni-btn"),attrs:{_i:15},on:{click:t.submit}}),a("button",{staticClass:t._$s(16,"sc","register-back"),attrs:{_i:16},on:{click:t.navigateBack}}),a("uni-match-media",{attrs:{"min-width":690,_i:17}},[a("view",{staticClass:t._$s(18,"sc","link-box"),attrs:{_i:18}},[a("text",{staticClass:t._$s(19,"sc","link"),attrs:{_i:19},on:{click:t.toLogin}})])])],1)],1)},r=[]},"7ec2":function(t,e,a){var i=a("7037")["default"];function n(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},a=Object.prototype,r=a.hasOwnProperty,s=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function d(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(M){d=function(t,e,a){return t[e]=a}}function f(t,e,a,i){var n=e&&e.prototype instanceof m?e:m,r=Object.create(n.prototype),o=new T(i||[]);return s(r,"_invoke",{value:$(t,a,o)}),r}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(M){return{type:"throw",arg:M}}}e.wrap=f;var h={};function m(){}function _(){}function g(){}var v={};d(v,u,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(O([])));b&&b!==a&&r.call(b,u)&&(v=b);var x=g.prototype=m.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){var a;s(this,"_invoke",{value:function(n,s){function o(){return new e((function(a,o){(function a(n,s,o,u){var c=p(t[n],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==i(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,u)}),(function(t){a("throw",t,o,u)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return a("throw",t,o,u)}))}u(c.arg)})(n,s,a,o)}))}return a=a?a.then(o,o):o()}})}function $(t,e,a){var i="suspendedStart";return function(n,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw r;return P()}for(a.method=n,a.arg=r;;){var s=a.delegate;if(s){var o=k(s,a);if(o){if(o===h)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===i)throw i="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i="executing";var u=p(t,e,a);if("normal"===u.type){if(i=a.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(i="completed",a.method="throw",a.arg=u.arg)}}}function k(t,e){var a=e.method,i=t.iterator[a];if(void 0===i)return e.delegate=null,"throw"===a&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var n=p(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return _.prototype=g,s(x,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:_,configurable:!0}),_.displayName=d(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,d(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},w(C.prototype),d(C.prototype,c,(function(){return this})),e.AsyncIterator=C,e.async=function(t,a,i,n,r){void 0===r&&(r=Promise);var s=new C(f(t,a,i,n),r);return e.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(x),d(x,l,"Generator"),d(x,u,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var i in e)a.push(i);return a.reverse(),function t(){for(;a.length;){var i=a.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,i){return s.type="throw",s.arg=t,e.next=a,i&&(e.method="next",e.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var o=r.call(n,"catchLoc"),u=r.call(n,"finallyLoc");if(o&&u){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:O(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"7ee6":function(t,e,a){"use strict";a.r(e);var i=a("47f3"),n=a("9e4e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"7f86":function(t,e,a){"use strict";a.r(e);var i=a("498b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7f8e":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("9523")),s=i(a("c973")),o=i(a("970b")),u=i(a("5bc3"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.provider,i=a,n=new f(e),r=t.uploadFile;t.uploadFile=function(){var t=(arguments.length<=0?void 0:arguments[0])||{},e=t.provider,i=void 0===e?a:e;return"extStorage"===i?n.uploadFile.apply(n,arguments):r.apply(void 0,arguments)};var s=t.getTempFileURL;t.getTempFileURL=function(){var t=(arguments.length<=0?void 0:arguments[0])||{},e=t.provider,i=void 0===e?a:e;return"extStorage"===i?n.getTempFileURL.apply(n,arguments):s.apply(void 0,arguments)};var o=t.deleteFile;t.deleteFile=function(){var t=(arguments.length<=0?void 0:arguments[0])||{},e=t.provider,i=void 0===e?a:e;return"extStorage"===i?n.deleteFile.apply(n,arguments):o.apply(void 0,arguments)},t.setCloudStorage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.provider,r=t.domain,s=t.fileID2fileURL;null===e?a=i:e&&(a=e),r&&(n.domain=r),s&&(n.fileID2fileURL=s)}}};e.default=d;var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var a=e.uploadFileOptions,i=e.domain,n=e.fileID2fileURL;this.uploadFileOptions=a,this.domain=i,this.fileID2fileURL=n}return(0,u.default)(t,[{key:"uploadFile",value:function(t){var e=this,a=t.filePath,i=t.cloudPath,r=new Promise(function(){var r=(0,s.default)(n.default.mark((function r(s,o){var u,c;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.uploadFileOptions({cloudPath:i,domain:e.domain});case 3:u=n.sent,c=uni.uploadFile(l(l({},u.uploadFileOptions),{},{filePath:a,success:function(){var a={cloudPath:u.cloudPath,fileID:u.fileID,fileURL:u.fileURL};e.fileID2fileURL&&(a.fileID="https://".concat(e.domain,"/").concat(a.cloudPath)),"function"===typeof t.success&&t.success(a),s(a)},fail:function(e){"function"===typeof t.fail&&t.fail(e),o(e)},complete:function(){"function"===typeof t.complete&&t.complete()}})),c.onProgressUpdate((function(e){if("function"===typeof t.onUploadProgress){var a=e.totalBytesExpectedToSend,i=e.totalBytesSent,n=Math.round(100*i/a);t.onUploadProgress({total:a,loaded:i,progress:n})}})),n.next=13;break;case 8:n.prev=8,n.t0=n["catch"](0),"function"===typeof t.fail&&t.fail(n.t0),o(n.t0),"function"===typeof t.complete&&t.complete();case 13:case"end":return n.stop()}}),r,null,[[0,8]])})));return function(t,e){return r.apply(this,arguments)}}());return r.catch((function(){})),r}},{key:"getTempFileURL",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.fileList;return new Promise((function(i,n){var r={fileList:a.map((function(e,a){var i=p(e);return{fileID:e,tempFileURL:"https://".concat(t.domain,"/").concat(i)}}))};"function"===typeof e.success&&e.success(r),i(r),"function"===typeof e.complete&&e.complete()}))}},{key:"deleteFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,a){var i={fileList:[]};"function"===typeof t.success&&t.success(i),e(i),"function"===typeof t.complete&&t.complete()}))}}]),t}();function p(t){if(0===t.indexOf("qiniu://"))t=t.substring("qiniu://".length);else if(0===t.indexOf("http://")||0===t.indexOf("https://")){var e=t.indexOf("://")+3;e=t.indexOf("/",e);var a=-1===t.indexOf("?")?t.length:t.indexOf("?");a=-1!==t.indexOf("#")&&t.indexOf("#")<a?t.indexOf("#"):a,t=t.substring(e+1,a)}return t}}).call(this,a("a9ff")["default"])},"7fa1":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.text)?a("text",{staticClass:t._$s(2,"sc","uni-badge"),class:t._$s(2,"c",t.classNames),style:t._$s(2,"s",[t.positionStyle,t.customStyle,t.dotStyle]),attrs:{_i:2},on:{click:function(e){return t.onClick()}}},[t._v(t._$s(2,"t0-0",t._s(t.displayValue)))]):t._e()],2)},n=[]},8001:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-tooltip"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.content||t.$slots.content)?a("view",{staticClass:t._$s(2,"sc","uni-tooltip-popup"),attrs:{_i:2}},[t._t("content",[t._v(t._$s(3,"t0-0",t._s(t.content)))],{_i:3})],2):t._e()],2)},n=[]},8021:function(t,e,a){"use strict";a.r(e);var i=a("cc7c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},8028:function(t,e,a){"use strict";a.r(e);var i=a("acf1"),n=a("fb00");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},8085:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",tooltip:"",formatter:""},{title:"\u4e8b\u4ef6ID",field:"event_key",stat:-1},{title:"\u4e8b\u4ef6\u53c2\u6570",field:"param",tooltip:""},{title:"\u5e73\u53f0",field:"platform",tooltip:""},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",tooltip:""}]},"80c7":function(t,e,a){"use strict";a.r(e);var i=a("77ae"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"814c":function(t,e,a){"use strict";a.r(e);var i=a("599a"),n=a("d1ec");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"81c5":function(t,e,a){"use strict";a.r(e);var i=a("4f37"),n=a("6bb7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"81fe":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("2127");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-permissions").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,a("a9ff")["default"])},8251:function(t,e,a){"use strict";a.r(e);var i=a("d34c"),n=a("74ed");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"827f":function(t,e,a){"use strict";a.r(e);var i=a("d7c1"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},8319:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[a("text",{staticClass:t._$s(2,"sc","uni-dialog-title-text"),class:t._$s(2,"c",["uni-popup__"+t.dialogType]),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.titleText)))])]),t._$s(3,"i","base"===t.mode)?a("view",{staticClass:t._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[t._t("default",[a("text",{staticClass:t._$s(5,"sc","uni-dialog-content-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.content)))])],{_i:4})],2):a("view",{staticClass:t._$s(6,"sc","uni-dialog-content"),attrs:{_i:6}},[t._t("default",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(8,"sc","uni-dialog-input"),attrs:{type:t._$s(8,"a-type",t.inputType),placeholder:t._$s(8,"a-placeholder",t.placeholderText),focus:t._$s(8,"a-focus",t.focus),_i:8},domProps:{value:t._$s(8,"v-model",t.val)},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})],{_i:7})],2),a("view",{staticClass:t._$s(9,"sc","uni-dialog-button-group"),attrs:{_i:9}},[a("view",{staticClass:t._$s(10,"sc","uni-dialog-button"),attrs:{_i:10},on:{click:t.closeDialog}},[a("text",{staticClass:t._$s(11,"sc","uni-dialog-button-text"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.closeText)))])]),a("view",{staticClass:t._$s(12,"sc","uni-dialog-button uni-border-left"),attrs:{_i:12},on:{click:t.onOk}},[a("text",{staticClass:t._$s(13,"sc","uni-dialog-button-text uni-button-color"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.okText)))])])])])},n=[]},8360:function(t,e,a){"use strict";a.r(e);var i=a("f2ef"),n=a("1f3d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"83a4":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniLink:a("e328").default,uniDataCheckbox:a("86d4").default,uniPopup:a("6a38").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[a("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807 class",_i:6}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}},[a("span",{attrs:{_i:8},on:{click:t.showIconPopup},slot:"right"})]),a("uni-link",{staticClass:t._$s(9,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:9}})],1),a("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:10}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u5fc5\u987b\u662f/\u5f00\u5934\uff0cURL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:11},model:{value:t._$s(11,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),a("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:12}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:13},model:{value:t._$s(13,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),a("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:14}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7236\u7ea7\u83dc\u5355\u6807\u8bc6, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:15},model:{value:t._$s(15,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),a("uni-forms-item",{staticClass:t._$s(16,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:16}},[a("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:17},model:{value:t._$s(17,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),a("view",{staticClass:t._$s(18,"sc","uni-form-item-tips"),attrs:{_i:18}})],1),a("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:19}},[a("switch",{attrs:{checked:t._$s(20,"a-checked",t.formData.enable),_i:20},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),a("view",{staticClass:t._$s(21,"sc","uni-button-group"),attrs:{_i:21}},[a("button",{staticClass:t._$s(22,"sc","uni-button"),attrs:{_i:22},on:{click:t.submitForm}},[t._v(t._$s(22,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.back"))))])])]),a("uni-popup",{ref:"iconPopup",staticClass:t._$s(25,"sc","icon-modal-box"),attrs:{type:"center",_i:25}},[a("view",{staticClass:t._$s(26,"sc","icon-modal icon-modal-pc"),attrs:{_i:26}},[a("Icons",{attrs:{tag:!1,"fix-window":!1,_i:27}})],1)])],1)],1)},r=[]},"848e":function(t,e,a){"use strict";a.r(e);var i=a("f6b0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},8492:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-pagination"),attrs:{_i:0}},[t._$s(1,"i",!0===t.showPageSize||"true"===t.showPageSize)?a("picker",{staticClass:t._$s(1,"sc","select-picker"),attrs:{value:t._$s(1,"a-value",t.pageSizeIndex),range:t._$s(1,"a-range",t.pageSizeRange),_i:1},on:{change:t.pickerChange,cancel:t.pickerClick},nativeOn:{click:function(e){return t.pickerClick(e)}}},[a("button",{attrs:{_i:2}},[a("text",[t._v(t._$s(3,"t0-0",t._s(t.pageSizeRange[t.pageSizeIndex]))+t._$s(3,"t0-1",t._s(t.piecePerPage)))]),a("uni-icons",{staticClass:t._$s(4,"sc","select-picker-icon"),attrs:{type:"arrowdown",size:"12",color:"#999",_i:4}})],1)]):t._e(),a("view",{staticClass:t._$s(5,"sc","uni-pagination__total is-phone-hide"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.total)))]),a("view",{staticClass:t._$s(6,"sc","uni-pagination__btn"),class:t._$s(6,"c",1===t.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(6,"a-hover-class",1===t.currentIndex?"":"uni-pagination--hover"),_i:6},on:{click:t.clickLeft}},[t._$s(7,"i",!0===t.showIcon||"true"===t.showIcon)?[a("uni-icons",{attrs:{color:"#666",size:"16",type:"left",_i:8}})]:[a("text",{staticClass:t._$s(10,"sc","uni-pagination__child-btn"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.prevPageText)))])]],2),a("view",{staticClass:t._$s(11,"sc","uni-pagination__num uni-pagination__num-flex-none"),attrs:{_i:11}},[a("view",{staticClass:t._$s(12,"sc","uni-pagination__num-current"),attrs:{_i:12}},[a("text",{staticClass:t._$s(13,"sc","uni-pagination__num-current-text is-pc-hide current-index-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.currentIndex)))]),a("text",{staticClass:t._$s(14,"sc","uni-pagination__num-current-text is-pc-hide"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.maxPage||0)))]),t._l(t._$s(15,"f",{forItems:t.paper}),(function(e,i,n,r){return a("view",{key:t._$s(15,"f",{forIndex:n,key:i}),staticClass:t._$s("15-"+r,"sc","uni-pagination__num-tag tag--active is-phone-hide"),class:t._$s("15-"+r,"c",{"page--active":e===t.currentIndex}),attrs:{_i:"15-"+r},on:{click:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"top",void 0,a.key,void 0)?null:t.selectPage(e,i)}}},[a("text",[t._v(t._$s("16-"+r,"t0-0",t._s(e)))])])}))],2)]),a("view",{staticClass:t._$s(17,"sc","uni-pagination__btn"),class:t._$s(17,"c",t.currentIndex>=t.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(17,"a-hover-class",t.currentIndex===t.maxPage?"":"uni-pagination--hover"),_i:17},on:{click:t.clickRight}},[t._$s(18,"i",!0===t.showIcon||"true"===t.showIcon)?[a("uni-icons",{attrs:{color:"#666",size:"16",type:"right",_i:19}})]:[a("text",{staticClass:t._$s(21,"sc","uni-pagination__child-btn"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.nextPageText)))])]],2)])},r=[]},"85b4":function(t,e,a){"use strict";a.r(e);var i=a("1722"),n=a("19a1");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},8626:function(t,e,a){"use strict";a.r(e);var i=a("988a"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"867e":function(t,e,a){"use strict";a.r(e);var i=a("c37d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"86d4":function(t,e,a){"use strict";a.r(e);var i=a("a3f2"),n=a("d398");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"86e5":function(t,e,a){"use strict";a.r(e);var i=a("2aad"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"86f6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),a("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(12,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(12,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:12},model:{value:t._$s(12,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:13}}),a("view",{staticClass:t._$s(14,"sc","uni-stat--x p-m"),attrs:{_i:14}},[a("view",{staticClass:t._$s(15,"sc","uni-stat-card-header"),attrs:{_i:15}}),a("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1)],1),a("fix-window",{attrs:{_i:19}})],1)},r=[]},8793:function(t,e,a){"use strict";a.r(e);var i=a("5bf1"),n=a("5c76");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"52b6c102",null,!1,i["a"],void 0);e["default"]=o.exports},"87f0":function(t,e,a){"use strict";a.r(e);var i=a("8e6e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},8871:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-table-th"),class:this._$s(0,"c",{"table--border":this.border}),style:this._$s(0,"s",{width:this.customWidth+"px","text-align":this.align}),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},"88b3":function(t,e,a){"use strict";a.r(e);var i=a("4b33"),n=a("d3ac");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},8907:function(t,e,a){"use strict";a.r(e);var i=a("ce46"),n=a("c4bb");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"892b":function(t,e,a){"use strict";a.r(e);var i=a("5aaf"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},8934:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=a("7c5a"),o=n(a("6195")),u=a("f220");function c(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",chartData:{},errorMessage:"",opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],legend:{},enableScroll:!0,xAxis:{disableGrid:!0,itemCount:24,fontSize:12},yAxis:{gridType:"dash",dashLength:2,data:[{tofix:2,unit:"%"}]},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1}}},dateTabs:{time:[],timeStr:"",index:0,list:[{_id:7,name:"\u6700\u8fd1\u4e03\u5929",dimension:"day"},{_id:30,name:"\u6700\u8fd130\u5929",dimension:"day"},{_id:90,name:"\u6700\u8fd190\u5929",dimension:"day"},{_id:372,name:"\u6708\u7ef4\u5ea6",dimension:"month"},{_id:1116,name:"\u5b63\u7ef4\u5ea6",dimension:"quarter"},{_id:4392,name:"\u5e74\u7ef4\u5ea6",dimension:"year"}]},statTabs:{index:0,list:[{_id:1,name:"\u652f\u4ed8\u8f6c\u5316\u7387"}]},queryMode:0}},created:function(){var t=this;this.getCloudDataDebounce=(0,s.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,a=this.query;if(a.appid){this.errorMessage="";var i=this.getWhere(),n=f(f({},a),i);n=(0,s.stringifyQuery)(n,!0,["uni_platform"]);var r=t.database();r.collection(this.tableName).where(n).field("".concat((0,s.stringifyField)(u.fieldsMap),", start_time")).groupBy("start_time, dimension").groupField((0,s.stringifyGroupField)(u.fieldsMap)).orderBy("start_time","asc").limit(100).get({getCount:!0}).then((function(t){var a=t.result,n=(a.count,a.data);n=(0,s.fillTrendChartData)(n,i,u.fieldsMap),n.map((function(t,e){t.value=Number((t.pay_user_count/t.activity_user_count*100).toFixed(2)),isNaN(t.value)&&(t.value=0)})),e.setChartData(n,i.dimension)})).catch((function(t){})).finally((function(){}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},setChartData:function(t,e){var a,i={categories:[],series:[{name:"\u652f\u4ed8\u8f6c\u5316\u7387",data:[]}]},n=c(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=this.formatDate(r.start_time,e);i.categories.push(s);var o=Number(r.value);i.series[0].data.push(o)}}catch(u){n.e(u)}finally{n.f()}this.chartData=i},formatDate:function(t,e){var a=new Date(t),i=a.getFullYear(),n=a.getMonth()+1,r=a.getDate(),o=a.getHours(),u=Math.floor((a.getMonth()+3)/3);return n<10&&(n="0"+n),r<10&&(r="0"+r),"hour"===e?"".concat(o,"\u65f6"):"month"===e?"".concat(i,"-").concat(n):"quarter"===e?"".concat(i,"/Q").concat(u):"year"===e?"".concat(i):(0,s.parseDateTime)(a)},datePickerChange:function(t){this.dateTabs.time=t,this.queryMode=1,this.getCloudData()},dateTabsChange:function(t,e){this.dateTabs.index=e,this.queryMode=0,this.getCloudData()},statTabsChange:function(t,e,a){this.statTabs.index=e,this.getCloudData({field:t,name:a})},getWhere:function(){var t=[],e=this.dateTabs.list[this.dateTabs.index]||{};if("number"===typeof e._id&&0===this.queryMode){var a=(0,s.getTimeOfSomeDayAgo)(e._id),i=o.default.getOffsetStartAndEnd("day",0).endTime;1==e._id&&(i=o.default.getOffsetStartAndEnd("day",0,a).endTime),t=[a,i]}else this.dateTabs.time&&(t=this.dateTabs.time);var n=e.dimension||"day";return this.dateTabs.timeStr="".concat(o.default.timeFormat(t[0])," ~ ").concat(o.default.timeFormat(t[1])),this.dateTabs.time=t,{dimension:n,start_time:t}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=p}).call(this,a("a9ff")["default"],a("0de9")["default"])},8990:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"qiun-error",props:{errorMessage:{type:String,default:null}},data:function(){return{}}};e.default=i},"89b0":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("4bcb");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database(),c=["role_id","role_name","permission.permission_name"],l={ascending:"asc",descending:"desc"},d={data:function(){return{collectionList:[u.collection("uni-id-roles").field("comment,permission,role_id,role_name,create_date").getTemp(),u.collection("uni-id-permissions").field("permission_name, permission_id").getTemp()],query:"",where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-roles.xls",type:"xls",fields:{"\u552f\u4e00ID":"role_id","\u540d\u79f0":"role_name","\u6743\u9650":"permission","\u5907\u6ce8":"comment",create_date:"create_date"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){for(var e=0;e<t.length;e++){var a=t[e];a.permission=a.permission.map((function(t){return t.permission_name})).join("\u3001"),a.create_date=this.$formatDate(a.create_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,r.filterToWhere)(this._filter,u.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))}}};e.default=d}).call(this,a("a9ff")["default"])},"8a20":function(t,e,a){"use strict";a.r(e);var i=a("b85c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"8a47":function(t,e,a){"use strict";a.r(e);var i=a("116d"),n=a("978d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"8a48":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniEasyinput:a("5fc7").default,uniIdPagesSmsForm:a("1e30").default,uniPopupCaptcha:a("e6c4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-easyinput",{staticClass:t._$s(5,"sc","input-box"),attrs:{clearable:!0,focus:t.focusMobile,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:5},on:{blur:function(e){t.focusMobile=!1}},model:{value:t._$s(5,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}}),a("uni-id-pages-sms-form",{ref:"smsForm",attrs:{type:"bind-mobile-by-sms",phone:t.formData.mobile,_i:6},model:{value:t._$s(6,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),a("button",{staticClass:t._$s(7,"sc","uni-btn send-btn-box"),attrs:{_i:7},on:{click:t.submit}}),a("uni-popup-captcha",{ref:"popup",attrs:{scene:"bind-mobile-by-sms",_i:8},on:{confirm:t.submit},model:{value:t._$s(8,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},"8abe":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{}},onLoad:function(t){this.errMsg=t.errMsg||""},methods:{}}},"8aca":function(t,e,a){"use strict";a.r(e);var i=a("97c5"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"8ae4":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],n={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","mount","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997c\u72b6\u56fe","\u5706\u73af\u56fe","\u73ab\u7470\u56fe","\u8bcd\u4e91\u56fe","\u6f0f\u6597\u56fe","\u5730\u56fe","\u5706\u5f27\u8fdb\u5ea6\u6761","\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u5c71\u5cf0\u56fe","\u6761\u72b6\u56fe","\u533a\u57df\u56fe","\u96f7\u8fbe\u56fe","\u4eea\u8868\u76d8","K\u7ebf\u56fe","\u6df7\u5408\u56fe","\u65f6\u95f4\u8f74\u6298\u7ebf","\u65f6\u95f4\u8f74\u533a\u57df","\u6563\u70b9\u56fe","\u6c14\u6ce1\u56fe","\u81ea\u5b9a\u4e49\u7c7b\u578b"],categories:["line","column","mount","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(t,e,a){return t+"\u5143"},yAxisDemo2:function(t,e,a){return t.toFixed(2)},xAxisDemo1:function(t,e,a){return t+"\u5e74"},xAxisDemo2:function(t,e,a){return function(t,e){var a=new Date;a.setTime(1e3*t);var i=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0"+n:n;var r=a.getDate();r=r<10?"0"+r:r;var s=a.getHours();s=s<10?"0"+s:s;var o=a.getMinutes(),u=a.getSeconds();return o=o<10?"0"+o:o,u=u<10?"0"+u:u,"full"==e?i+"-"+n+"-"+r+" "+s+":"+o+":"+u:"y-m-d"==e?i+"-"+n+"-"+r:"h:m"==e?s+":"+o:"h:m:s"==e?s+":"+o+":"+u:[i,n,r,s,o,u]}(t,"h:m")},seriesDemo1:function(t,e,a,i){return t+"\u5143"},tooltipDemo1:function(t,e,a,i){return 0==a?"\u968f\u4fbf\u7528"+t.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+t.data+"\u5929"},pieDemo:function(t,e,a,i){if(void 0!==e)return a[e].name+"\uff1a"+a[e].data+"\u5143"}},demotype:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:i,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:i,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76ca\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:i,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:i,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:i,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:i,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:i,title:{name:"\u767e\u5206\u6bd4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ed8\u8ba4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2,activeType:"hollow"}}},tline:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2,activeType:"hollow"}}},tarea:{type:"area",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0,activeType:"hollow"}}},column:{type:"column",color:i,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}},mount:{type:"mount",color:i,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{mount:{type:"mount",widthRatio:1.5}}},bar:{type:"bar",color:i,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:i,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1,activeType:"hollow"}}},radar:{type:"radar",color:i,padding:[5,5,5,5],dataLabel:!1,legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200,labelShow:!0}}},gauge:{type:"gauge",color:i,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5b9e\u65f6\u901f\u5ea6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:i,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:i,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:i,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:i,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}},r=n;e.default=r},"8b27":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7037")),r=i(a("028b")),s=i(a("731c")),o={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue","inputclick"],mixins:[r.default],components:{DataPickerView:s.default},props:{options:{type:[Object,Array],default:function(){return{}}},popupTitle:{type:String,default:"\u8bf7\u9009\u62e9"},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data:function(){return{isOpened:!1,inputSelected:[]}},created:function(){var t=this;this.$nextTick((function(){t.load()}))},watch:{localdata:{handler:function(){this.load()},deep:!0}},methods:{clear:function(){this._dispatchEvent([])},onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.readonly?this._processReadonly(this.localdata,this.dataValue):this.isLocalData?(this.loadData(),this.inputSelected=this.selected.slice(0)):(this.isCloudDataList||this.isCloudDataTree)&&(this.loading=!0,this.getCloudDataValue().then((function(e){t.loading=!1,t.inputSelected=e})).catch((function(e){t.loading=!1,t.errorMessage=e})))},show:function(){var t=this;this.isOpened=!0,setTimeout((function(){t.$refs.pickerView.updateData({treeData:t._treeData,selected:t.selected,selectedIndex:t.selectedIndex})}),200),this.$emit("popupopened")},hide:function(){this.isOpened=!1,this.$emit("popupclosed")},handleInput:function(){this.readonly?this.$emit("inputclick"):this.show()},handleClose:function(t){this.hide()},onnodeclick:function(t){this.$emit("nodeclick",t)},ondatachange:function(t){this._treeData=this.$refs.pickerView._treeData},onchange:function(t){var e=this;this.hide(),this.$nextTick((function(){e.inputSelected=t})),this._dispatchEvent(t)},_processReadonly:function(t,e){var a,i=t.findIndex((function(t){return t.children}));if(i>-1)return Array.isArray(e)?(a=e[e.length-1],"object"===(0,n.default)(a)&&a.value&&(a=a.value)):a=e,void(this.inputSelected=this._findNodePath(a,this.localdata));if(this.hasValue){for(var r=[],s=function(a){var i=e[a],n=t.find((function(t){return t.value==i}));n&&r.push(n)},o=0;o<e.length;o++)s(o);r.length&&(this.inputSelected=r)}else this.inputSelected=[]},_filterForArray:function(t,e){for(var a=[],i=function(i){var n=e[i],r=t.find((function(t){return t.value==n}));r&&a.push(r)},n=0;n<e.length;n++)i(n);return a},_dispatchEvent:function(t){var e={};if(t.length){for(var a=new Array(t.length),i=0;i<t.length;i++)a[i]=t[i].value;e=t[t.length-1]}else e.value="";this.formItem&&this.formItem.setValue(e.value),this.$emit("input",e.value),this.$emit("update:modelValue",e.value),this.$emit("change",{detail:{value:t}})}}};e.default=o},"8b5a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={pages:[{path:"pages/index/index"},{path:"uni_modules/uni-id-pages/pages/login/login-withpwd",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u767b\u5f55"}},{path:"pages/error/404",style:{navigationBarTitleText:"Not Found"}},{path:"uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",style:{navigationBarTitleText:"\u4fee\u6539\u5bc6\u7801"}},{path:"uni_modules/uni-upgrade-center/pages/version/list",style:{navigationBarTitleText:"\u7248\u672c\u5217\u8868"}},{path:"uni_modules/uni-upgrade-center/pages/version/add",style:{navigationBarTitleText:"\u65b0\u7248\u53d1\u5e03"}},{path:"uni_modules/uni-upgrade-center/pages/version/detail",style:{navigationBarTitleText:"\u7248\u672c\u4fe1\u606f\u67e5\u770b"}},{path:"uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate",style:{navigationBarTitleText:"\u6ce8\u9500\u8d26\u53f7"}},{path:"uni_modules/uni-id-pages/pages/userinfo/userinfo",style:{navigationBarTitleText:"\u4e2a\u4eba\u8d44\u6599"}},{path:"uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile",style:{navigationBarTitleText:"\u7ed1\u5b9a\u624b\u673a\u53f7\u7801"}},{path:"uni_modules/uni-id-pages/pages/userinfo/cropImage/cropImage",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/login/login-smscode",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u624b\u673a\u9a8c\u8bc1\u7801\u767b\u5f55"}},{path:"uni_modules/uni-id-pages/pages/login/login-withoutpwd",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u514d\u5bc6\u767b\u5f55\u9875"}},{path:"uni_modules/uni-id-pages/pages/register/register",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u6ce8\u518c"}},{path:"uni_modules/uni-id-pages/pages/register/register-admin",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u521b\u5efa\u8d85\u7ea7\u7ba1\u7406\u5458"}},{path:"uni_modules/uni-id-pages/pages/register/register-by-email",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u6ce8\u518c"}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u91cd\u7f6e\u5bc6\u7801"}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u901a\u8fc7\u90ae\u7bb1\u91cd\u7f6e\u5bc6\u7801"}},{path:"uni_modules/uni-id-pages/pages/common/webview/webview",style:{topWindow:!1,leftWindow:!1,enablePullDownRefresh:!1,navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd",style:{enablePullDownRefresh:!1,navigationBarTitleText:"\u8bbe\u7f6e\u5bc6\u7801"}},{path:"uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify",style:{enablePullDownRefresh:!1,navigationBarTitleText:"\u5b9e\u540d\u8ba4\u8bc1"}}],subPackages:[{root:"pages/system",pages:[{path:"menu/list",style:{navigationBarTitleText:"\u83dc\u5355\u7ba1\u7406"}},{path:"menu/add",style:{navigationBarTitleText:"\u65b0\u589e\u83dc\u5355",navigationStyle:"default"}},{path:"menu/edit",style:{navigationBarTitleText:"\u4fee\u6539\u83dc\u5355",navigationStyle:"default"}},{path:"permission/list",style:{navigationBarTitleText:"\u6743\u9650\u7ba1\u7406"}},{path:"permission/add",style:{navigationBarTitleText:"\u65b0\u589e\u6743\u9650",navigationStyle:"default"}},{path:"permission/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6743\u9650",navigationStyle:"default"}},{path:"role/add",style:{navigationBarTitleText:"\u65b0\u589e\u89d2\u8272",navigationStyle:"default"}},{path:"role/edit",style:{navigationBarTitleText:"\u4fee\u6539\u89d2\u8272",navigationStyle:"default"}},{path:"role/list",style:{navigationBarTitleText:"\u89d2\u8272\u7ba1\u7406"}},{path:"user/add",style:{navigationBarTitleText:"\u65b0\u589e\u7528\u6237",navigationStyle:"default"}},{path:"user/edit",style:{navigationBarTitleText:"\u4fee\u6539\u7528\u6237",navigationStyle:"default"}},{path:"user/list",style:{navigationBarTitleText:"\u7528\u6237\u7ba1\u7406"}},{path:"app/add",style:{navigationBarTitleText:"\u65b0\u589e\u5e94\u7528",navigationStyle:"default"}},{path:"app/list",style:{navigationBarTitleText:"\u5e94\u7528\u7ba1\u7406"}},{path:"app/uni-portal/uni-portal",style:{navigationBarTitleText:"\u53d1\u5e03\u9875\u7ba1\u7406",navigationStyle:"default"}},{path:"tag/add",style:{navigationBarTitleText:"\u65b0\u589e\u6807\u7b7e"}},{path:"tag/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6807\u7b7e"}},{path:"tag/list",style:{navigationBarTitleText:"\u6807\u7b7e\u7ba1\u7406"}},{path:"safety/list",style:{navigationBarTitleText:"\u7528\u6237\u65e5\u5fd7"}}]},{root:"pages/demo",pages:[{path:"icons/icons",style:{navigationBarTitleText:"\u56fe\u6807"}},{path:"table/table",style:{navigationBarTitleText:"\u8868\u683c"}}]},{root:"pages/uni-stat",pages:[{path:"page-res/page-res",style:{navigationBarTitleText:"\u53d7\u8bbf\u9875",enablePullDownRefresh:!1}},{path:"page-ent/page-ent",style:{navigationBarTitleText:"\u5165\u53e3\u9875",enablePullDownRefresh:!1}},{path:"page-content/page-content",style:{navigationBarTitleText:"\u5185\u5bb9\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"page-rule/page-rule",style:{navigationBarTitleText:"\u9875\u9762\u89c4\u5219",enablePullDownRefresh:!1}},{path:"scene/scene",style:{navigationBarTitleText:"\u573a\u666f\u503c\uff08\u5c0f\u7a0b\u5e8f\uff09",enablePullDownRefresh:!1}},{path:"channel/channel",style:{navigationBarTitleText:"\u6e20\u9053\uff08app\uff09",enablePullDownRefresh:!1}},{path:"error/js/js",style:{navigationBarTitleText:"js\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"error/js/detail",style:{navigationBarTitleText:"\u9519\u8bef\u4fe1\u606f",navigationStyle:"default",enablePullDownRefresh:!1}},{path:"error/app/app",style:{navigationBarTitleText:"app\u539f\u751f\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"event/event",style:{navigationBarTitleText:"\u4e8b\u4ef6\u548c\u8f6c\u5316",enablePullDownRefresh:!1}},{path:"device/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"device/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"device/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"device/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"device/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"device/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}},{path:"user/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"user/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"user/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"user/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"user/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"user/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}},{path:"pay-order/overview/overview",style:{navigationBarTitleText:"\u8ba2\u5355\u6982\u51b5",enablePullDownRefresh:!1}},{path:"pay-order/list/list",style:{navigationBarTitleText:"\u8ba2\u5355\u660e\u7ec6",enablePullDownRefresh:!1}},{path:"pay-order/funnel/funnel",style:{navigationBarTitleText:"\u6f0f\u6597\u5206\u6790",enablePullDownRefresh:!1}},{path:"pay-order/ranking/ranking",style:{navigationBarTitleText:"\u7528\u6237\u4ef7\u503c\u6392\u884c",enablePullDownRefresh:!1}}]}],globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"\u7ba1\u7406\u7cfb\u7edf",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8",h5:{titleNView:!1}},topWindow:{path:"windows/topWindow",style:{height:"60px"},matchMedia:{minWidth:0}},leftWindow:{path:"windows/leftWindow",style:{width:"240px"}},uniIdRouter:{loginPage:"uni_modules/uni-id-pages/pages/login/login-withpwd",needLogin:["^((?!uni-id-pages/pages/login|register|retrieve).)*$"],resToLogin:!0}}},"8bbf":function(t,e){t.exports=Vue},"8bd7":function(t,e,a){"use strict";a.r(e);var i=a("5e12"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"8cb5":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("413d")),r=i(a("d8a9")),s=i(a("5269")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},"8d40":function(t,e,a){"use strict";a.r(e);var i=a("6d28"),n=a("6b99");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"8e6e":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("2127");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database(),c=["permission_id","permission_name"],l={ascending:"asc",descending:"desc"},d={data:function(){return{query:"",where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-permissions.xls",type:"xls",fields:{"\u6743\u9650ID":"permission_id","\u6743\u9650\u540d\u79f0":"permission_name","\u5907\u6ce8":"comment"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,r.filterToWhere)(this._filter,u.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))}}};e.default=d}).call(this,a("a9ff")["default"])},"8f0e":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniIdPagesSmsForm:a("1e30").default,uniPopupCaptcha:a("e6c4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[a("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),a("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),a("text",{staticClass:t._$s(4,"sc","tip"),attrs:{_i:4}}),a("uni-forms",{attrs:{_i:5}},[a("uni-id-pages-sms-form",{ref:"smsCode",attrs:{focusCaptchaInput:!0,type:"login-by-sms",phone:t.phone,_i:6},model:{value:t._$s(6,"v-model",t.code),callback:function(e){t.code=e},expression:"code"}}),a("button",{staticClass:t._$s(7,"sc","uni-btn send-btn"),attrs:{_i:7},on:{click:t.submit}})],1),a("uni-popup-captcha",{ref:"popup",attrs:{scene:"login-by-sms",_i:8},on:{confirm:t.submit},model:{value:t._$s(8,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}})],1)},r=[]},"8f65":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniDataMenu:a("eec6").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("scroll-view",{staticClass:this._$s(0,"sc","sidebar"),attrs:{_i:0}},[e("uni-data-menu",{ref:"menu",attrs:{value:this.currentMenu,staticMenu:this.staticMenu,collection:"opendb-admin-menus","page-size":500,field:this.field,where:"enable==true",orderby:"sort asc","active-text-color":"#409eff",_i:1},on:{select:this.select}})],1)},r=[]},"8f8c":function(t,e,a){"use strict";a.r(e);var i=a("a652"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"8f91":function(t,e,a){"use strict";a.r(e);var i=a("4b9b"),n=a("6e9f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"8fdf":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("099a"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},channelData:[],tabName:"\u65e5\u6d3b",errorMessage:""}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,r.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,r.getTimeOfSomeDayAgo)(t),i=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,a){this.currentChartTab=t,this.tabName=a,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.currentChartTab,this.tabName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count";this.chartData={};var c={categories:[],series:[{name:n,data:[]}]};t=(0,r.stringifyQuery)(t,!1,["uni_platform"]);var l=i.database();"day"===e?l.collection(this.tableName).where(t).field("".concat((0,r.stringifyField)(s.default,u),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,u)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);a.chartData=[];var n,s=o(i);try{for(s.s();!(n=s.n()).done;){var l=n.value,d=(0,r.formatDate)(l.start_time,"day"),f=l[u];c.series[0].data.push(f),c.categories.push(d)}}catch(p){s.e(p)}finally{s.f()}a.chartData=c})).catch((function(t){})):this.getRangeCountData(t,e).then((function(t){var i=e;"week"===e&&(e="isoWeek");var n=t.result,s=(n.count,n.data);a.chartData=[];var l,d=o(s);try{for(d.s();!(l=d.n()).done;){var f=l.value,p=+new Date(f.year,0)+(6048e5*Number(f[e])-1),h=(0,r.formatDate)(p,i),m=f[e+"_"+u];m&&(c.series[0].data.push(m),c.categories.push(h))}}catch(_){d.e(_)}finally{d.f()}a.chartData=c}))},getTabelData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_device_count",n=this.options.pageCurrent,u=(0,r.stringifyQuery)(t);this.loading=!0;var c=i.database();c.collection(this.tableName).where(u).field("".concat((0,r.stringifyField)(s.default,a),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,a)).orderBy("start_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(a){var i=a.result,n=i.count,u=i.data,c=u,l=n,d=[],f=[],p=JSON.parse(JSON.stringify(t));p.dimension="week",e.getRangeCountData((0,r.stringifyQuery)(p),"week").then((function(a){var i=a.result,n=(i.count,i.data);d=n;var u=JSON.parse(JSON.stringify(t));u.dimension="month",e.getRangeCountData((0,r.stringifyQuery)(u),"month").then((function(t){var a=t.result,i=(a.count,a.data);f=i;var n,u=e.mapWithWeekAndMonth(c,d,f),p=o(u);try{for(p.s();!(n=p.n()).done;){var h=n.value;(0,r.mapfields)(s.default,h,h)}}catch(m){p.e(m)}finally{p.f()}e.tableData=[],e.options.total=l,e.tableData=u})).finally((function(){e.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_device_count";"week"===e&&(e="isoWeek");this.options.pageCurrent;var n=i.database();return n.collection(this.tableName).where(t).field("".concat(a,", start_time, ").concat(e,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(e,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(e)).groupField("sum(".concat(a,") as ").concat(e,"_").concat(a)).orderBy("year asc, ".concat(e," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count",r=o(t);try{for(r.s();!(i=r.n()).done;){var s,u=i.value,c=new Date(u.start_time),l=c.getUTCFullYear(),d=c.getMonth()+1,f=this.getWeekNumber(c),p=o(e);try{for(p.s();!(s=p.n()).done;){var h=s.value;h.isoWeek===f&&h.year===l&&(u["week_".concat(n)]=h["isoWeek_".concat(n)])}}catch(v){p.e(v)}finally{p.f()}var m,_=o(a);try{for(_.s();!(m=_.n()).done;){var g=m.value;g.month===d&&g.year===l&&(u["month_".concat(n)]=g["month_".concat(n)])}}catch(v){_.e(v)}finally{_.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)},getChannelData:function(t,e){var a=this;this.query.channel_id="";var n=i.database(),r={};t=t||this.query.appid,t&&(r.appid=t),e=e||this.query.platform_id,e&&(r.platform_id=e);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("0de9")["default"],a("a9ff")["default"])},"8ffe":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{weeks:{type:Object,default:function(){return{}}},calendar:{type:Object,default:function(){return{}}},selected:{type:Array,default:function(){return[]}},checkHover:{type:Boolean,default:!1}},methods:{choiceDate:function(t){this.$emit("change",t)},handleMousemove:function(t){this.$emit("handleMouse",t)}}};e.default=i},"90d8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={onLoad:function(t){var e=t.url,a=t.title;"http"!=e.substring(0,4)?(uni.showModal({title:"\u9519\u8bef",content:'\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u7f51\u7ad9\u94fe\u63a5,"'+e+'"',showCancel:!1,confirmText:"\u77e5\u9053\u4e86",complete:function(){uni.navigateBack()}}),a="\u9875\u9762\u8def\u5f84\u9519\u8bef"):this.url=e,a&&uni.setNavigationBarTitle({title:a})},data:function(){return{url:null}}};e.default=i},9160:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-table-td"),class:this._$s(0,"c",{"table--border":this.border}),style:this._$s(0,"s",{width:this.width+"px","text-align":this.align}),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},9255:function(t,e,a){"use strict";(function(t){var i=a("4ea4"),n=a("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("278c")),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var a=o(e);if(a&&a.has(t))return a.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=r?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}i.default=t,a&&a.set(t,i);return i}(a("b452"));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(o=function(t){return t?a:e})(t)}var u={namespaced:!0,state:{},mutations:{},actions:{getUserInfo:function(e){e.commit;var a=t.database();return a.collection("uni-id-users").where("_id==$cloudEnv_uid").field("username,nickname,mobile,email,role,permission").get().then((function(t){var e=t.result,a=(0,r.default)(e.data,1),i=a[0];return s.mutations.setUserInfo(i,!0),Promise.resolve(i)}))}}};e.default=u}).call(this,a("a9ff")["default"])},9292:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading2"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"92f2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[this._t("default",null,{options:this.options,data:this.dataList,pagination:this.paginationInternal,loading:this.loading,hasMore:this.hasMore,error:this.errorMessage,_i:1})],2)},n=[]},"93cf":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat__select"),attrs:{_i:0}},[t._$s(1,"i",t.label)?a("span",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),a("view",{staticClass:t._$s(2,"sc","uni-stat-box"),class:t._$s(2,"c",{"uni-stat__actived":t.current}),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-select"),class:t._$s(3,"c",{"uni-select--disabled":t.disabled}),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-select__input-box"),attrs:{_i:4},on:{click:t.toggleSelector}},[t._$s(5,"i",t.current)?a("view",{staticClass:t._$s(5,"sc","uni-select__input-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.current)))]):a("view",{staticClass:t._$s(6,"sc","uni-select__input-text uni-select__input-placeholder"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.typePlaceholder)))]),t._$s(7,"i",t.current&&t.clear&&!t.disabled)?a("view",{attrs:{_i:7},on:{click:function(e){return e.stopPropagation(),t.clearVal(e)}}},[a("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:8}})],1):a("view",[a("uni-icons",{attrs:{type:t.showSelector?"top":"bottom",size:"14",color:"#999",_i:10}})],1)]),t._$s(11,"i",t.showSelector)?a("view",{staticClass:t._$s(11,"sc","uni-select--mask"),attrs:{_i:11},on:{click:t.toggleSelector}}):t._e(),t._$s(12,"i",t.showSelector)?a("view",{staticClass:t._$s(12,"sc","uni-select__selector"),attrs:{_i:12}},[a("view",{staticClass:t._$s(13,"sc","uni-popper__arrow"),attrs:{_i:13}}),a("scroll-view",{staticClass:t._$s(14,"sc","uni-select__selector-scroll"),attrs:{_i:14}},[t._$s(15,"i",0===t.mixinDatacomResData.length)?a("view",{staticClass:t._$s(15,"sc","uni-select__selector-empty"),attrs:{_i:15}},[a("text",[t._v(t._$s(16,"t0-0",t._s(t.emptyTips)))])]):t._l(t._$s(17,"f",{forItems:t.mixinDatacomResData}),(function(e,i,n,r){return a("view",{key:t._$s(17,"f",{forIndex:n,key:i}),staticClass:t._$s("17-"+r,"sc","uni-select__selector-item"),attrs:{_i:"17-"+r},on:{click:function(a){return t.change(e)}}},[a("text",{class:t._$s("18-"+r,"c",{"uni-select__selector__disabled":e.disable}),attrs:{_i:"18-"+r}},[t._v(t._$s("18-"+r,"t0-0",t._s(t.formatItemName(e))))])])}))],2)]):t._e()])])])},r=[]},"93ea":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},created:function(){this.popup=this.getParent()},methods:{getParent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniPopup",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}};e.default=i},9460:function(t,e,a){"use strict";a.r(e);var i=a("576f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},9480:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("39f5");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){return{formData:{username:"",nickname:"",password:"",role:[],authorizedApp:[],tags:[],mobile:void 0,email:void 0,status:!0},rules:o(o({},c(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[]}},onLoad:function(){this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkbox.loadData()}}})},submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,a=t.detail,i=a.value,n=a.errors;n||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),"boolean"===typeof i.status&&(i.status=Number(!i.status)),this.$request("addUser",i).then((function(){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},loadroles:function(){var t=this;u.collection("uni-id-roles").limit(500).get().then((function(e){var a=[];t.roles=e.result.data.map((function(t){return a.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===a.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))}}};e.default=l}).call(this,a("a9ff")["default"])},"94b0":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initInterceptor=function(){uni.addInterceptor("navigateTo",{fail:function(t){var e=t.errMsg;-1!==e.indexOf("is not found")&&uni.navigateTo({url:n.default.error.url+"?errMsg="+e})}})};var n=i(a("f808"))},"94e7":function(t,e,a){"use strict";a.r(e);var i=a("83a4"),n=a("36d9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"63838a00",null,!1,i["a"],void 0);e["default"]=o.exports},9523:function(t,e,a){var i=a("a395");t.exports=function(t,e,a){return e=i(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t},t.exports.__esModule=!0,t.exports["default"]=t.exports},9557:function(t,e,a){"use strict";a.r(e);var i=a("e49d"),n=a("d27d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"f4e86178",null,!1,i["a"],void 0);e["default"]=o.exports},9585:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsMap=void 0;e.fieldsMap=[{title:"\u62a5\u9519\u65f6\u95f4",field:"create_time",tooltip:"",formatter:"",filter:"timestamp"},{title:"\u9519\u8bef\u4fe1\u606f",field:"error_msg",formatter:"",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u5305\u540d",field:"package_name",formatter:"",filter:"search"},{title:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e94\u7528\u7248\u672c\u53f7",field:"version",formatter:"",tooltip:"manifest.json\u4e2d\u7684versionName\u7684\u503c",filter:"search"},{title:"\u5e73\u53f0",field:"platform",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e73\u53f0code",filter:"search"},{title:"\u6e20\u9053",field:"channel",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u6e20\u9053code\u573a\u666f\u503c",filter:"search"},{title:"\u57fa\u7840\u5e93\u7248\u672c\u53f7",field:"sdk_version",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",formatter:"",tooltip:"\u5ba2\u6237\u7aef\u643a\u5e26\u7684\u8bbe\u5907\u6807\u8bc6",filter:"search"},{title:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7",field:"device_net",formatter:"",tooltip:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7wifi/3G/4G/",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c",field:"device_os",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e3a\u7cfb\u7edf\u7248\u672c\u53f7\uff0c\u598215.1\uff1bAndroid\u5e73\u53f0\u4e3aAPI\u7b49\u7ea7\uff0c\u598230",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c\u540d\u79f0",field:"device_os_version",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e0eos\u5b57\u6bb5\u4e00\u81f4\uff1bAndroid\u5e73\u53f0\u4e3a\u7248\u672c\u540d\u79f0\uff0c\u59825.1.1",filter:"search"},{title:"\u8bbe\u5907\u4f9b\u5e94\u5546",field:"device_vendor",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u578b\u53f7",field:"device_model",formatter:"",tooltip:"",filter:"search"},{title:"\u662f\u5426root",field:"device_is_root",formatter:"",tooltip:"1\u8868\u793aroot\uff1b0\u8868\u793a\u672aroot",filter:"range"},{title:"\u7cfb\u7edf\u540d\u79f0",field:"device_os_name",formatter:"",tooltip:"\u7528\u4e8e\u533a\u522bAndroid\u548c\u9e3f\u8499\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8bbe\u5907\u7535\u6c60\u7535\u91cf",field:"device_batt_level",formatter:"",tooltip:"\u53d6\u503c\u8303\u56f40-100\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7535\u6c60\u6e29\u5ea6",field:"device_batt_temp",formatter:"",tooltip:"\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u7cfb\u7edf\u5df2\u4f7f\u7528\u5185\u5b58",field:"device_memory_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u603b\u5185\u5b58",field:"device_memory_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u5df2\u4f7f\u7528\u5927\u5c0f",field:"device_disk_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u603b\u5927\u5c0f",field:"device_disk_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u8bbe\u5907\u652f\u6301\u7684CPU\u67b6\u6784",field:"device_abis",formatter:"",tooltip:"\u591a\u4e2a\u4f7f\u7528,\u5206\u5272\uff0c\u5982arm64-v8a,armeabi-v7a,armeabi\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8fd0\u884c\u7684app\u4e2a\u6570",field:"app_count",formatter:"",tooltip:"\u5305\u62ec\u8fd0\u884c\u7684uni\u5c0f\u7a0b\u5e8f\u6570\u76ee\uff0c\u72ec\u7acbApp\u65f6\u503c\u4e3a1",filter:"range"},{title:"APP\u4f7f\u7528\u7684\u5185\u5b58\u91cf",field:"app_use_memory_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte",filter:"range"},{title:"\u8fd0\u884c\u5e94\u7528\u7684\u4e2a\u6570",field:"app_count",formatter:"",filter:"range"},{title:"\u6253\u5f00 Webview \u7684\u4e2a\u6570",field:"app_webview_count",formatter:"",filter:"range"},{title:"APP\u4f7f\u7528\u65f6\u957f",field:"app_use_duration",formatter:"",tooltip:"\u5355\u4f4d\u4e3as",filter:"range"},{title:"\u662f\u5426\u524d\u53f0\u8fd0\u884c",field:"app_run_fore",formatter:"",tooltip:"1\u8868\u793a\u524d\u53f0\u8fd0\u884c\uff0c0\u8868\u793a\u540e\u53f0\u8fd0\u884c",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u7248\u672c\u540d\u79f0",field:"package_version",formatter:"",tooltip:"Android\u7684apk\u7248\u672c\u540d\u79f0\uff1biOS\u7684ipa\u7248\u672c\u540d\u79f0",filter:"search"},{title:"\u9875\u9762url",field:"page_url",formatter:"",filter:"search"}]},"95e4":function(t,e,a){"use strict";a.r(e);var i=a("b1d6"),n=a("867e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"960d":function(t,e,a){"use strict";a.r(e);var i=a("92f2"),n=a("848e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"963a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statPanelTodayFieldsMap=e.fieldsMap=e.fieldsGroupMap=void 0;var i=[{title:"\u8ba2\u5355\u91d1\u989d",group:"total_amount",list:[{title:"\u4e0b\u5355\u91d1\u989d",field:"create_total_amount",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u4e0b\u5355\u91d1\u989d\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u6536\u6b3e\u91d1\u989d",field:"pay_total_amount",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u91d1\u989d\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u9000\u6b3e\u91d1\u989d",field:"refund_total_amount",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u91d1\u989d\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,multiple:.01}]},{title:"\u8ba2\u5355\u6570\u91cf",group:"order_count",list:[{title:"\u4e0b\u5355\u6570\u91cf",field:"create_order_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u8ba2\u5355\u7b14\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u6570\u91cf",field:"pay_order_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:"",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u6570\u91cf",field:"refund_order_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u8ba2\u5355\u6570\u3002",formatter:"",value:"-",contrast:0,stat:"sum",fix:0}]},{title:"\u7528\u6237\u6570\u91cf",group:"user_count",list:[{title:"\u4e0b\u5355\u7528\u6237\u6570",field:"create_user_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u5ba2\u6237\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u7528\u6237\u6570",field:"pay_user_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u7528\u6237\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u7528\u6237\u6570",field:"refund_user_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u7528\u6237\u6570\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0}]},{title:"\u8bbe\u5907\u6570\u91cf",group:"device_count",list:[{title:"\u4e0b\u5355\u8bbe\u5907\u6570",field:"create_device_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u8bbe\u5907\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u8bbe\u5907\u6570",field:"pay_device_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8bbe\u5907\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u8bbe\u5907\u6570",field:"refund_device_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u8bbe\u5907\u6570\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0}]}];e.fieldsGroupMap=i;var n=[];e.fieldsMap=n,i.map((function(t,e){t.list.map((function(t,e){n.push(t)}))}));e.statPanelTodayFieldsMap=[{title:"\u4e0b\u5355\u91d1\u989d\uff08GMV\uff09",field:"create_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u4e0b\u5355\u91d1\u989d\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u6536\u6b3e\u91d1\u989d\uff08GPV\uff09",field:"pay_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u91d1\u989d\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u9000\u6b3e\u91d1\u989d",field:"refund_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u91d1\u989d\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u5b9e\u6536\u91d1\u989d",field:"actual_total_amount",tooltip:"\u5b9e\u6536\u91d1\u989d=\u6536\u6b3e\u91d1\u989d-\u9000\u6b3e\u91d1\u989d",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01}]},"96c7":function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u986f\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f09...","uni-load-more.contentnomore":"\u6c92\u6709\u66f4\u591a\u6578\u64da\u4e86"}')},"96c8":function(t,e,a){"use strict";a.r(e);var i=a("3091"),n=a("643a");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"96c83":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1d9d")),r=i(a("62d7")),s=i(a("9255")),o=i(a("8bbf")),u=i(a("26cb"));o.default.use(u.default);var c=new u.default.Store({modules:{app:n.default,error:r.default,user:s.default}}),l=c;e.default=l},"96f6":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.isShowA)?a("a",{staticClass:t._$s(0,"sc","uni-link"),class:t._$s(0,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(0,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{href:t._$s(0,"a-href",t.href),download:t._$s(0,"a-download",t.download),_i:0}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.text)))],{_i:1})],2):a("text",{staticClass:t._$s(2,"sc","uni-link"),class:t._$s(2,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(2,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{_i:2},on:{click:t.openURL}},[t._t("default",[t._v(t._$s(3,"t0-0",t._s(t.text)))],{_i:3})],2)},n=[]},"970b":function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"978d":function(t,e,a){"use strict";a.r(e);var i=a("4d74"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"97c3":function(t,e,a){"use strict";a.r(e);var i=a("bf99"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"97c5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},fontSize:{type:Number,default:14},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36)),e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:t,elIdBox:e,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}},computed:{isShowGetMore:function(){return!0===this.showGetMore||"true"===this.showGetMore},isShowClose:function(){return(!0===this.showClose||"true"===this.showClose)&&(!1===this.showGetMore||"false"===this.showGetMore)}},mounted:function(){var t=this,e=getCurrentPages(),a=e[e.length-1],i=a.$getAppWebview();i.addEventListener("hide",(function(){t.webviewHide=!0})),i.addEventListener("show",(function(){t.webviewHide=!1})),this.$nextTick((function(){t.initSize()}))},methods:{initSize:function(){var t=this;if(this.scrollable){var e=[],a=new Promise((function(e,a){uni.createSelectorQuery().in(t).select("#".concat(t.elId)).boundingClientRect().exec((function(a){t.textWidth=a[0].width,e()}))})),i=new Promise((function(e,a){uni.createSelectorQuery().in(t).select("#".concat(t.elIdBox)).boundingClientRect().exec((function(a){t.boxWidth=a[0].width,e()}))}));e.push(a),e.push(i),Promise.all(e).then((function(){t.animationDuration="".concat(t.textWidth/t.speed,"s"),t.animationDelay="-".concat(t.boxWidth/t.speed,"s"),setTimeout((function(){t.animationPlayState="running"}),1e3)}))}},loopAnimation:function(){},clickMore:function(){this.$emit("getmore")},close:function(){this.show=!1,this.$emit("close")},onClick:function(){this.$emit("click")}}};e.default=i},"988a":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("37dc"),r=i(a("41b5")),s=(0,n.initVueI18n)(r.default),o=s.t,u={name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:function(){return[20,50,100,500]}}},data:function(){return{pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}},computed:{piecePerPage:function(){return this.piecePerPageText||o("uni-pagination.piecePerPage")},prevPageText:function(){return this.prevText||o("uni-pagination.prevText")},nextPageText:function(){return this.nextText||o("uni-pagination.nextText")},maxPage:function(){var t=1,e=Number(this.total),a=Number(this.pageSize);return e&&a&&(t=Math.ceil(e/a)),t},paper:function(){for(var t=this.currentIndex,e=this.pagerCount,a=this.total,i=this.pageSize,n=[],r=[],s=Math.ceil(a/i),o=0;o<s;o++)n.push(o+1);r.push(1);var u=n[n.length-(e+1)/2];return n.forEach((function(a,i){(e+1)/2>=t?a<e+1&&a>1&&r.push(a):t+2<=u?a>t-(e+1)/2&&a<t+(e+1)/2&&r.push(a):(a>t-(e+1)/2||s-e<a)&&a<n[n.length-1]&&r.push(a)})),s>e?((e+1)/2>=t?r[r.length-1]="...":t+2<=u?(r[1]="...",r[r.length-1]="..."):r[1]="...",r.push(n[n.length-1])):(e+1)/2>=t||t+2<=u||(r.shift(),r.push(n[n.length-1])),r}},watch:{current:{immediate:!0,handler:function(t,e){this.currentIndex=t<1?1:t}},value:{immediate:!0,handler:function(t){1===Number(this.current)&&(this.currentIndex=t<1?1:t)}},pageSizeIndex:function(t){this.$emit("pageSizeChange",this.pageSizeRange[t])}},methods:{pickerChange:function(t){this.pageSizeIndex=t.detail.value,this.pickerClick()},pickerClick:function(){},selectPage:function(t,e){if(parseInt(t))this.currentIndex=t,this.change("current");else{var a=Math.ceil(this.total/this.pageSize);if(e<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(e>=6)return void(this.currentIndex+5>a?this.currentIndex=a:this.currentIndex+=5)}},clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change:function(t){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:t,current:this.currentIndex})}}};e.default=u},9890:function(t,e,a){"use strict";a.r(e);var i=a("3c09"),n=a("741b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"ac7db2a6",null,!1,i["a"],void 0);e["default"]=o.exports},9911:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-breadcrumb"),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},"9a16":function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("430d");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return u.collection("uni-id-tag").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-tag").doc(t).field("tagid,name,description").get().then((function(t){var a=t.result.data[0];a&&(e.formData=a)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,a("a9ff")["default"])},"9a4a":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9adb":function(t,e,a){"use strict";a.r(e);var i=a("bd32"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9b0e":function(t,e,a){"use strict";a.r(e);var i=a("3998"),n=a("2366");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"8cdcf304",null,!1,i["a"],void 0);e["default"]=o.exports},"9b17":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"Success","uniCloud.component.update.success":"Success","uniCloud.component.remove.showModal.title":"Tips","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9b42":function(t,e){t.exports=function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,n,r,s,o=[],u=!0,c=!1;try{if(r=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;u=!1}else for(;!(u=(i=r.call(a)).done)&&(o.push(i.value),o.length!==e);u=!0);}catch(l){c=!0,n=l}finally{try{if(!u&&null!=a["return"]&&(s=a["return"](),Object(s)!==s))return}finally{if(c)throw n}}return o}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"9b94":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{currentPage:""}},options:{virtualHost:!0},props:{to:{type:String,default:""},replace:{type:Boolean,default:!1}},inject:{uniBreadcrumb:{from:"uniBreadcrumb",default:null}},created:function(){var t=getCurrentPages(),e=t[t.length-1];e&&(this.currentPage="/".concat(e.route))},computed:{separator:function(){return this.uniBreadcrumb.separator},separatorClass:function(){return this.uniBreadcrumb.separatorClass}},methods:{navTo:function(){var t=this.to;t&&this.currentPage!==t&&(this.replace?uni.redirectTo({url:t}):uni.navigateTo({url:t}))}}};e.default=i},"9ba2":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=a("39f5");n(a("2abe")),n(a("19b1")),n(a("5fc7"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=t.database(),l=["username","role.role_name","mobile","email"],d={ascending:"asc",descending:"desc"},f={data:function(){return{collectionList:[c.collection("uni-id-users").field("ali_openid,apple_openid,avatar,avatar_file,comment,dcloud_appid,department_id,email,email_confirmed,gender,invite_time,inviter_uid,last_login_date,last_login_ip,mobile,mobile_confirmed,my_invite_code,nickname,role,score,status,username,wx_unionid,qq_unionid,tags").getTemp(),c.collection("uni-id-roles").field("role_id, role_name").getTemp()],query:"",where:"",orderby:"last_login_date desc",orderByFieldName:"",selectedIndexs:[],pageSizeIndex:0,pageSizeOption:[20,50,100,500],tags:{},managerTags:[],queryTagid:"",queryUserId:"",options:u({pageSize:20,pageCurrent:1,filterData:{status_localdata:[{text:"\u6b63\u5e38",value:0,checked:!0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}},s.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-users.xls",type:"xls",fields:{"\u7528\u6237\u540d":"username","\u624b\u673a\u53f7\u7801":"mobile","\u7528\u6237\u72b6\u6001":"status","\u90ae\u7bb1":"email","\u89d2\u8272":"role",last_login_date:"last_login_date"}},exportExcelData:[],noAppidWhatShouldIDoLink:"https://uniapp.dcloud.net.cn/uniCloud/uni-id?id=makeup-dcloud-appid",smsCondition:{}}},onLoad:function(t){this._filter={};var e=t.tagid,a=t.id;if(e){this.queryTagid=e;var i={filterType:"select",filter:[e]};this.filterChange(i,"tags")}if(a){this.queryUserId=a;var n={filterType:"select",filter:[a]};this.filterChange(n,"_id")}},onReady:function(){this.loadTags(),this.queryTagid||this.queryUserId||this.$refs.udb.loadData()},computed:{tagsData:function(){var t=[];for(var e in this.tags){var a={value:e,text:this.tags[e]};e===this.queryTagid&&(a.checked=!0),t.push(a)}return t},smsReceiver:function(){if(this.selectedIndexs.length){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))}}},methods:{onqueryload:function(t){for(var e=this,a=0;a<t.length;a++){var i=t[a],n=i.role.map((function(t){return t.role_name}));i.role=n.join("\u3001");var r=i.tags&&i.tags.map((function(t){return e.tags[t]}));i.tags=r,Array.isArray(i.dcloud_appid)&&(i.dcloud_appid=i.dcloud_appid.join("\u3001")),i.last_login_date=this.$formatDate(i.last_login_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},openTagsPopup:function(){this.$refs.tagsPopup.open()},closeTagsPopup:function(){this.$refs.tagsPopup.close()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return JSON.stringify(c.command.or(l.map((function(t){return(0,r.default)({},t,e)})))),c.command.or(l.map((function(t){return(0,r.default)({},t,e)})))},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadTags(),a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+d[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,s.filterToWhere)(this._filter,c.command);Object.keys(i).length?this.where=i:this.where="",Object.keys(this._filter).length?this.smsCondition=this._filter:this.smsCondition={},this.$nextTick((function(){a.$refs.udb.loadData()}))},loadTags:function(){var t=this;c.collection("uni-id-tag").limit(500).get().then((function(e){e.result.data.map((function(e){t.$set(t.tags,e.tagid,e.name)}))})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},managerMultiTag:function(){var t=this,e=this.selectedItems();c.collection("uni-id-users").where({_id:c.command.in(e)}).update({tags:this.managerTags}).then((function(){uni.showToast({title:"\u4fee\u6539\u6807\u7b7e\u6210\u529f",duration:2e3}),t.$refs.table.clearSelection(),t.managerTags=[],t.loadData(),t.closeTagsPopup()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()}))}}};e.default=f}).call(this,a("a9ff")["default"],a("0de9")["default"])},"9bf7":function(t,e,a){"use strict";a.r(e);var i=a("622e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9c1e":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-container"),attrs:{_i:1}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.popupFieldsMap,loading:t.loading,_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-pagination-box"),attrs:{_i:3}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:4},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1),a("fix-window",{attrs:{_i:5}})],1)},r=[]},"9c74":function(t,e,a){"use strict";a.r(e);var i=a("136d"),n=a("e537");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"9ca5":function(t,e,a){"use strict";a.r(e);var i=a("b847"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9ca6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniTooltip:a("0179").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u66f4\u591a\u6570\u636e",_i:2}},[a("uni-tr",{attrs:{_i:3}},[a("uni-th",{staticClass:t._$s(4,"sc","th"),attrs:{align:"center",_i:4}}),a("uni-th",{staticClass:t._$s(5,"sc","th"),attrs:{align:"center",_i:5}},[t._v("")]),a("uni-th",{staticClass:t._$s(6,"sc","th"),attrs:{align:"center",_i:6}},[t._v("")]),a("uni-th",{staticClass:t._$s(7,"sc","th"),attrs:{align:"center",_i:7}},[t._v("")]),a("uni-th",{staticClass:t._$s(8,"sc","th"),attrs:{align:"center",_i:8}},[t._v("")]),a("uni-th",{staticClass:t._$s(9,"sc","th"),attrs:{align:"center",_i:9}},[t._v("")]),a("uni-th",{staticClass:t._$s(10,"sc","th"),attrs:{align:"center",_i:10}},[t._v("")]),a("uni-th",{staticClass:t._$s(11,"sc","th"),attrs:{align:"center",_i:11}},[t._v("")]),a("uni-th",{staticClass:t._$s(12,"sc","th"),attrs:{align:"center",_i:12}},[t._v("")])],1),t._l(t._$s(13,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(13,"f",{forIndex:n,key:i}),attrs:{_i:"13-"+r}},[a("uni-td",{staticClass:t._$s("14-"+r,"sc","td"),attrs:{align:"center",_i:"14-"+r}},[a("uni-tooltip",{attrs:{_i:"15-"+r},scopedSlots:t._u([t._$s("18-"+r,"i",e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("19-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"19-"+r+"-"+s}},[t._v(n._$s("19-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[a("view",{staticClass:t._$s("16-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"16-"+r}},[t._v(t._$s("16-"+r,"t0-0",t._s(e.title))),a("uni-icons",{staticClass:t._$s("17-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"17-"+r}})],1)])],1),a("uni-td",{staticClass:t._$s("20-"+r,"sc","td"),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(t.panelData.today[e.field])))]),a("uni-td",{staticClass:t._$s("21-"+r,"sc","td"),attrs:{align:"center",_i:"21-"+r}},[t._v(t._$s("21-"+r,"t0-0",t._s(t.panelData.yesterday[e.field])))]),a("uni-td",{staticClass:t._$s("22-"+r,"sc","td"),attrs:{align:"center",_i:"22-"+r}},[t._v(t._$s("22-"+r,"t0-0",t._s(t.panelData.beforeyesterday[e.field])))]),a("uni-td",{staticClass:t._$s("23-"+r,"sc","td"),attrs:{align:"center",_i:"23-"+r}},[t._v(t._$s("23-"+r,"t0-0",t._s(t.panelData.week[e.field])))]),a("uni-td",{staticClass:t._$s("24-"+r,"sc","td"),attrs:{align:"center",_i:"24-"+r}},[t._v(t._$s("24-"+r,"t0-0",t._s(t.panelData.month[e.field])))]),a("uni-td",{staticClass:t._$s("25-"+r,"sc","td"),attrs:{align:"center",_i:"25-"+r}},[t._v(t._$s("25-"+r,"t0-0",t._s(t.panelData.quarter[e.field])))]),a("uni-td",{staticClass:t._$s("26-"+r,"sc","td"),attrs:{align:"center",_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(t.panelData.year[e.field])))]),a("uni-td",{staticClass:t._$s("27-"+r,"sc","td"),attrs:{align:"center",_i:"27-"+r}},[t._v(t._$s("27-"+r,"t0-0",t._s(t.panelData.total[e.field])))])],1)}))],2)],1)},r=[]},"9cb8":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading6"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"9d3e":function(t,e,a){"use strict";a.r(e);var i=a("ad18"),n=a("412a");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"515880f8",null,!1,i["a"],void 0);e["default"]=o.exports},"9d80":function(t,e,a){"use strict";a.r(e);var i=a("f5f3"),n=a("6799");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"9e25":function(t){t.exports=JSON.parse('[{"menu_id":"index","name":"\u9996\u9875","icon":"uni-icons-home","url":"/","sort":100,"parent_id":"","permission":[],"enable":true,"create_date":1602662469396},{"menu_id":"system_management","name":"\u7cfb\u7edf\u7ba1\u7406","icon":"admin-icons-fl-xitong","url":"","sort":1000,"parent_id":"","permission":[],"enable":true,"create_date":1602662469396},{"menu_id":"system_user","name":"\u7528\u6237\u7ba1\u7406","icon":"admin-icons-manager-user","url":"/pages/system/user/list","sort":1010,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662469398},{"menu_id":"system_role","name":"\u89d2\u8272\u7ba1\u7406","icon":"admin-icons-manager-role","url":"/pages/system/role/list","sort":1020,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662469397},{"menu_id":"system_permission","name":"\u6743\u9650\u7ba1\u7406","icon":"admin-icons-manager-permission","url":"/pages/system/permission/list","sort":1030,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662469396},{"menu_id":"system_menu","name":"\u83dc\u5355\u7ba1\u7406","icon":"admin-icons-manager-menu","url":"/pages/system/menu/list","sort":1040,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662469396},{"menu_id":"system_app","name":"\u5e94\u7528\u7ba1\u7406","icon":"admin-icons-manager-app","url":"/pages/system/app/list","sort":1035,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662469399},{"menu_id":"system_update","name":"App\u5347\u7ea7\u4e2d\u5fc3","icon":"uni-icons-cloud-upload","url":"/uni_modules/uni-upgrade-center/pages/version/list","sort":1036,"parent_id":"system_management","permission":[],"enable":true,"create_date":1656491532434},{"menu_id":"system_tag","name":"\u6807\u7b7e\u7ba1\u7406","icon":"admin-icons-manager-tag","url":"/pages/system/tag/list","sort":1037,"parent_id":"system_management","permission":[],"enable":true,"create_date":1602662479389},{"permission":[],"enable":true,"menu_id":"safety_statistics","name":"\u5b89\u5168\u5ba1\u8ba1","icon":"admin-icons-safety","url":"","sort":3100,"parent_id":"","create_date":1638356430871},{"permission":[],"enable":true,"menu_id":"safety_statistics_user_log","name":"\u7528\u6237\u65e5\u5fd7","icon":"","url":"/pages/system/safety/list","sort":3101,"parent_id":"safety_statistics","create_date":1638356430871},{"permission":[],"enable":true,"menu_id":"uni-stat","name":"uni \u7edf\u8ba1","icon":"admin-icons-tongji","url":"","sort":2100,"parent_id":"","create_date":1638356430871},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-device","name":"\u8bbe\u5907\u7edf\u8ba1","icon":"admin-icons-shebeitongji","url":"","sort":2120,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-overview","name":"\u6982\u51b5","icon":"","url":"/pages/uni-stat/device/overview/overview","sort":2121,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-activity","name":"\u6d3b\u8dc3\u5ea6","icon":"","url":"/pages/uni-stat/device/activity/activity","sort":2122,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-trend","name":"\u8d8b\u52bf\u5206\u6790","icon":"","url":"/pages/uni-stat/device/trend/trend","sort":2123,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-retention","name":"\u7559\u5b58","icon":"","url":"/pages/uni-stat/device/retention/retention","sort":2124,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-comparison","name":"\u5e73\u53f0\u5bf9\u6bd4","icon":"","url":"/pages/uni-stat/device/comparison/comparison","sort":2125,"create_date":1638356902516},{"parent_id":"uni-stat-device","permission":[],"enable":true,"menu_id":"uni-stat-device-stickiness","name":"\u7c98\u6027","icon":"","url":"/pages/uni-stat/device/stickiness/stickiness","sort":2126,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-user","name":"\u6ce8\u518c\u7528\u6237\u7edf\u8ba1","icon":"admin-icons-yonghutongji","url":"","sort":2122,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"menu_id":"uni-stat-user-overview","name":"\u6982\u51b5","icon":"","url":"/pages/uni-stat/user/overview/overview","sort":2121,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"menu_id":"uni-stat-user-activity","name":"\u6d3b\u8dc3\u5ea6","icon":"","url":"/pages/uni-stat/user/activity/activity","sort":2122,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"icon":"","menu_id":"uni-stat-user-trend","name":"\u8d8b\u52bf\u5206\u6790","url":"/pages/uni-stat/user/trend/trend","sort":2123,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"menu_id":"uni-stat-user-retention","name":"\u7559\u5b58","icon":"","url":"/pages/uni-stat/user/retention/retention","sort":2124,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"menu_id":"uni-stat-user-comparison","name":"\u5e73\u53f0\u5bf9\u6bd4","icon":"","url":"/pages/uni-stat/user/comparison/comparison","sort":2125,"create_date":1638356902516},{"parent_id":"uni-stat-user","permission":[],"enable":true,"menu_id":"uni-stat-user-stickiness","name":"\u7c98\u6027","icon":"","url":"/pages/uni-stat/user/stickiness/stickiness","sort":2126,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-page-analysis","name":"\u9875\u9762\u7edf\u8ba1","icon":"admin-icons-page-ent","url":"","sort":2123,"create_date":1638356902516},{"parent_id":"uni-stat-page-analysis","permission":[],"enable":true,"menu_id":"uni-stat-page-res","name":"\u53d7\u8bbf\u9875","icon":"","url":"/pages/uni-stat/page-res/page-res","sort":2131,"create_date":1638356902516},{"parent_id":"uni-stat-page-analysis","permission":[],"enable":true,"menu_id":"uni-stat-page-ent","name":"\u5165\u53e3\u9875","icon":"","url":"/pages/uni-stat/page-ent/page-ent","sort":2132,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-page-content-analysis","name":"\u5185\u5bb9\u7edf\u8ba1","icon":"admin-icons-doc","url":"","sort":2140,"create_date":1638356902516},{"parent_id":"uni-stat-page-content-analysis","permission":[],"enable":true,"menu_id":"uni-stat-page-content","name":"\u5185\u5bb9\u7edf\u8ba1","icon":"","url":"/pages/uni-stat/page-content/page-content","sort":2141,"create_date":1638356902516},{"parent_id":"uni-stat-page-content-analysis","permission":[],"enable":true,"menu_id":"uni-stat-page-rule","name":"\u9875\u9762\u89c4\u5219","icon":"","url":"/pages/uni-stat/page-rule/page-rule","sort":2142,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-senceChannel","name":"\u6e20\u9053/\u573a\u666f\u503c\u5206\u6790","icon":"admin-icons-qudaofenxi","url":"","sort":2150,"create_date":1638356902516},{"parent_id":"uni-stat-senceChannel","permission":[],"enable":true,"menu_id":"uni-stat-senceChannel-scene","name":"\u573a\u666f\u503c\uff08\u5c0f\u7a0b\u5e8f\uff09","icon":"","url":"/pages/uni-stat/scene/scene","sort":2151,"create_date":1638356902516},{"parent_id":"uni-stat-senceChannel","permission":[],"enable":true,"menu_id":"uni-stat-senceChannel-channel","name":"\u6e20\u9053\uff08app\uff09","icon":"","url":"/pages/uni-stat/channel/channel","sort":2152,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-event-event","name":"\u81ea\u5b9a\u4e49\u4e8b\u4ef6","icon":"admin-icons-shijianfenxi","url":"/pages/uni-stat/event/event","sort":2160,"create_date":1638356902516},{"parent_id":"uni-stat","permission":[],"enable":true,"menu_id":"uni-stat-error","name":"\u9519\u8bef\u7edf\u8ba1","icon":"admin-icons-cuowutongji","url":"","sort":2170,"create_date":1638356902516},{"parent_id":"uni-stat-error","permission":[],"enable":true,"menu_id":"uni-stat-error-js","name":"js\u62a5\u9519","icon":"","url":"/pages/uni-stat/error/js/js","sort":2171,"create_date":1638356902516},{"parent_id":"uni-stat-error","permission":[],"enable":true,"menu_id":"uni-stat-error-app","name":"app\u5d29\u6e83","icon":"","url":"/pages/uni-stat/error/app/app","sort":2172,"create_date":1638356902516},{"menu_id":"uni-stat-pay","name":"\u652f\u4ed8\u7edf\u8ba1","icon":"uni-icons-circle","url":"","sort":2122,"parent_id":"uni-stat","permission":[],"enable":true,"create_date":1667386977981},{"menu_id":"uni-stat-pay-overview","name":"\u6982\u51b5","icon":"","url":"/pages/uni-stat/pay-order/overview/overview","sort":21221,"parent_id":"uni-stat-pay","permission":[],"enable":true,"create_date":1667387038602},{"menu_id":"uni-stat-pay-funnel","name":"\u8f6c\u6362\u6f0f\u6597\u5206\u6790","icon":"","url":"/pages/uni-stat/pay-order/funnel/funnel","sort":21222,"parent_id":"uni-stat-pay","permission":[],"enable":true,"create_date":1668430092890},{"menu_id":"uni-stat-pay-ranking","name":"\u4ef7\u503c\u7528\u6237\u6392\u884c","icon":"","url":"/pages/uni-stat/pay-order/ranking/ranking","sort":21223,"parent_id":"uni-stat-pay","permission":[],"enable":true,"create_date":1668430128302},{"menu_id":"uni-stat-pay-order-list","name":"\u8ba2\u5355\u660e\u7ec6","icon":"","url":"/pages/uni-stat/pay-order/list/list","sort":21224,"parent_id":"uni-stat-pay","permission":[],"enable":true,"create_date":1667387078947}]')},"9e42":function(t,e,a){"use strict";a.r(e);var i=a("a281"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9e4e":function(t,e,a){"use strict";a.r(e);var i=a("89b0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9eaf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},"9ebe":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-easyinput"),class:t._$s(0,"c",{"uni-easyinput-error":t.msg}),style:t._$s(0,"s",t.boxStyle),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-easyinput__content"),class:t._$s(1,"c",t.inputContentClass),style:t._$s(1,"s",t.inputContentStyle),attrs:{_i:1}},[t._$s(2,"i",t.prefixIcon)?a("uni-icons",{staticClass:t._$s(2,"sc","content-clear-icon"),attrs:{type:t.prefixIcon,color:"#c0c4cc",size:"22",_i:2},on:{click:function(e){return t.onClickIcon("prefix")}}}):t._e(),t._$s(3,"i","textarea"===t.type)?a("textarea",{staticClass:t._$s(3,"sc","uni-easyinput__content-textarea"),class:t._$s(3,"c",{"input-padding":t.inputBorder}),attrs:{name:t._$s(3,"a-name",t.name),value:t._$s(3,"a-value",t.val),placeholder:t._$s(3,"a-placeholder",t.placeholder),placeholderStyle:t._$s(3,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(3,"a-disabled",t.disabled),maxlength:t._$s(3,"a-maxlength",t.inputMaxlength),focus:t._$s(3,"a-focus",t.focused),autoHeight:t._$s(3,"a-autoHeight",t.autoHeight),"cursor-spacing":t._$s(3,"a-cursor-spacing",t.cursorSpacing),_i:3},on:{input:t.onInput,blur:t._Blur,focus:t._Focus,confirm:t.onConfirm,keyboardheightchange:t.onkeyboardheightchange}}):a("input",{staticClass:t._$s(4,"sc","uni-easyinput__content-input"),style:t._$s(4,"s",t.inputStyle),attrs:{type:t._$s(4,"a-type","password"===t.type?"text":t.type),name:t._$s(4,"a-name",t.name),value:t._$s(4,"a-value",t.val),password:t._$s(4,"a-password",!t.showPassword&&"password"===t.type),placeholder:t._$s(4,"a-placeholder",t.placeholder),placeholderStyle:t._$s(4,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(4,"a-disabled",t.disabled),maxlength:t._$s(4,"a-maxlength",t.inputMaxlength),focus:t._$s(4,"a-focus",t.focused),confirmType:t._$s(4,"a-confirmType",t.confirmType),"cursor-spacing":t._$s(4,"a-cursor-spacing",t.cursorSpacing),_i:4},on:{focus:t._Focus,blur:t._Blur,input:t.onInput,confirm:t.onConfirm,keyboardheightchange:t.onkeyboardheightchange}}),t._$s(5,"i","password"===t.type&&t.passwordIcon)?[t._$s(6,"i",t.isVal)?a("uni-icons",{staticClass:t._$s(6,"sc","content-clear-icon"),class:t._$s(6,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:t.showPassword?"eye-slash-filled":"eye-filled",size:22,color:t.focusShow?t.primaryColor:"#c0c4cc",_i:6},on:{click:t.onEyes}}):t._e()]:t._$s(7,"e",t.suffixIcon)?[t._$s(8,"i",t.suffixIcon)?a("uni-icons",{staticClass:t._$s(8,"sc","content-clear-icon"),attrs:{type:t.suffixIcon,color:"#c0c4cc",size:"22",_i:8},on:{click:function(e){return t.onClickIcon("suffix")}}}):t._e()]:[t._$s(10,"i",t.clearable&&t.isVal&&!t.disabled&&"textarea"!==t.type)?a("uni-icons",{staticClass:t._$s(10,"sc","content-clear-icon"),class:t._$s(10,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:"clear",size:t.clearSize,color:t.msg?"#dd524d":t.focusShow?t.primaryColor:"#c0c4cc",_i:10},on:{click:t.onClear}}):t._e()],t._t("right",null,{_i:11})],2)])},r=[]},"9f0d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-table-checkbox"),attrs:{_i:0},on:{click:t.selected}},[t._$s(1,"i",!t.indeterminate)?a("view",{staticClass:t._$s(1,"sc","checkbox__inner"),class:t._$s(1,"c",{"is-checked":t.isChecked,"is-disable":t.isDisabled}),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","checkbox__inner-icon"),attrs:{_i:2}})]):a("view",{staticClass:t._$s(3,"sc","checkbox__inner checkbox--indeterminate"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","checkbox__inner-icon"),attrs:{_i:4}})])])},n=[]},"9f26":function(t,e,a){"use strict";a.r(e);var i=a("23b1"),n=a("f7b6");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"9f4e":function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("c973")),o=n(a("0ec9")),u=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),c={mixins:[o.default],data:function(){return{password:"",username:"",captcha:"",needCaptcha:!1,focusUsername:!1,focusPassword:!1,logo:"/static/logo.png",existAdmin:!0}},onShow:function(){},onLoad:function(){var e=this;return(0,s.default)(r.default.mark((function a(){var i,n,s;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,i=t.database(),a.next=4,i.collection("uni-id-users").where({role:"admin"}).count();case 4:n=a.sent,s=n.result.total,e.existAdmin=s>0,a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),e.existAdmin=!1;case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},methods:{toRetrievePwd:function(){var t="/uni_modules/uni-id-pages/pages/retrieve/retrieve";/^1\d{10}$/.test(this.username)&&(t+="?phoneNumber=".concat(this.username)),uni.navigateTo({url:t})},pwdLogin:function(){var t=this;if(!this.password.length)return this.focusPassword=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u5bc6\u7801",icon:"none",duration:3e3});if(!this.username.length)return this.focusUsername=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u7528\u6237\u540d/\u90ae\u7bb1",icon:"none",duration:3e3});if(this.needCaptcha&&4!=this.captcha.length)return this.$refs.captcha.getImageCaptcha(),uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(this.needAgreements&&!this.agree)return this.$refs.agreements.popup(this.pwdLogin);var e={password:this.password,captcha:this.captcha};/^1\d{10}$/.test(this.username)?e.mobile=this.username:/@/.test(this.username)?e.email=this.username:e.username=this.username,u.login(e).then((function(e){t.loginSuccess(e)})).catch((function(e){"uni-id-captcha-required"==e.errCode?t.needCaptcha=!0:t.needCaptcha&&t.$refs.captcha.getImageCaptcha()}))},toRegister:function(){uni.navigateTo({url:this.config.isAdmin?"/uni_modules/uni-id-pages/pages/register/register-admin":"/uni_modules/uni-id-pages/pages/register/register",fail:function(t){}})}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},"9fac":function(t,e,a){"use strict";a.r(e);var i=a("020c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9fde":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.agreements.length)?a("view",{staticClass:t._$s(0,"sc","root"),attrs:{_i:0}},[t._$s(1,"i",t.needAgreements)?[a("checkbox-group",{attrs:{_i:2},on:{change:t.setAgree}},[a("label",{staticClass:t._$s(3,"sc","checkbox-box"),attrs:{_i:3}},[a("checkbox",{attrs:{checked:t._$s(4,"a-checked",t.isAgree),_i:4}}),a("text",{staticClass:t._$s(5,"sc","text"),attrs:{_i:5}})])]),a("view",{staticClass:t._$s(6,"sc","content"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.agreements}),(function(e,i,n,r){return a("view",{key:t._$s(7,"f",{forIndex:n,key:i}),staticClass:t._$s("7-"+r,"sc","item"),attrs:{_i:"7-"+r}},[a("text",{staticClass:t._$s("8-"+r,"sc","agreement text"),attrs:{_i:"8-"+r},on:{click:function(a){return t.navigateTo(e)}}},[t._v(t._$s("8-"+r,"t0-0",t._s(e.title)))]),t._$s("9-"+r,"i",t.hasAnd(t.agreements,i))?a("text",{staticClass:t._$s("9-"+r,"sc","text and"),attrs:{_i:"9-"+r}}):t._e()])})),0)]:t._e(),t._$s(10,"i",t.needAgreements||t.needPopupAgreements)?a("uni-popup",{ref:"popupAgreement",attrs:{type:"center",_i:10}},[a("uni-popup-dialog",{attrs:{confirmText:"\u540c\u610f",_i:11},on:{confirm:t.popupConfirm}},[a("view",{staticClass:t._$s(12,"sc","content"),attrs:{_i:12}},[a("text",{staticClass:t._$s(13,"sc","text"),attrs:{_i:13}}),t._l(t._$s(14,"f",{forItems:t.agreements}),(function(e,i,n,r){return a("view",{key:t._$s(14,"f",{forIndex:n,key:i}),staticClass:t._$s("14-"+r,"sc","item"),attrs:{_i:"14-"+r}},[a("text",{staticClass:t._$s("15-"+r,"sc","agreement text"),attrs:{_i:"15-"+r},on:{click:function(a){return t.navigateTo(e)}}},[t._v(t._$s("15-"+r,"t0-0",t._s(e.title)))]),t._$s("16-"+r,"i",t.hasAnd(t.agreements,i))?a("text",{staticClass:t._$s("16-"+r,"sc","text and"),attrs:{_i:"16-"+r}}):t._e()])}))],2)])],1):t._e()],2):t._e()},r=[]},"9fe3":function(t,e,a){"use strict";a.r(e);var i=a("37ce"),n=a("9ca5");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"9fe7":function(t,e,a){"use strict";a.r(e);var i=a("c155"),n=a("f5a3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},"9ffc":function(t,e,a){"use strict";a.r(e);var i=a("25f2"),n=a("ea20");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a032:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("0ec9")),s=i(a("d107"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=t.importObject("uni-id-co",{customUI:!0}),l={mixins:[r.default],data:function(){return{focusOldPassword:!1,focusNewPassword:!1,focusNewPassword2:!1,formData:{oldPassword:"",newPassword:"",newPassword2:""},rules:u({oldPassword:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"}]}},s.default.getPwdRules("newPassword","newPassword2")),logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var a=t.formData,i=a.oldPassword,n=a.newPassword;c.updatePwd({oldPassword:i,newPassword:n}).then((function(t){uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})})).catch((function(t){uni.showModal({content:t.message,showCancel:!1})}))})).catch((function(e){var a=e[0].key;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))}}};e.default=l}).call(this,a("a9ff")["default"])},a058:function(t,e,a){"use strict";a.r(e);var i=a("7453"),n=a("7be3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a066:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("55e5"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_devices",fields:[{_id:"visit_devices",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[],errorMessage:""}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.getAllData(this.query)},field:function(){this.getAllData(this.query)}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",a=t.length,i=this.options[e].prefix,n=this.options[e].value,r=n.map((function(n){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(i+"_"+n,") as ").concat(a>1?t+"_"+i+"_"+n:i+"_"+n)}))})),s=r.join();return s},parseChars:function(t){t=t.split("_");var e=this.options[this.type],a=e.title;e.value.forEach((function(i,n){var r=e.value[n+1];i===Number(t[t.length-1])&&(a=r?i+1===r?i+a:i+"-"+(r-1)+a:i+"+"+a)}));return a},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===a.field})).name;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.createStr([i],this.type),s=t.database();s.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(n).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);i=i[0];var n={series:[{data:[]}]};for(var r in i)if("appid"!==r){var s=a.parseChars(r),o=i[r];n.series[0].data.push({name:s,value:o})}a.chartData=n})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var i=this.createStr(["visit_devices","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===a.type})).name,this.loading=!0;var n=t.database();n.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(i).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),n=a.type,u=[],c=a.options[n].prefix;c="_".concat(c,"_");var l,d=o(i);try{for(d.s();!(l=d.n()).done;){var f=l.value;for(var p in f)if("appid"!==p){var h={},m=p.split(c);h.name=m[1],h[m[0]]=f[p],u.push(h)}}}catch($){d.e($)}finally{d.f()}var _=[],g={},v=function(t,e){return t+e},y=u.filter((function(t){return t.visit_devices})).map((function(t){return t.visit_devices}));y=y.length?y.reduce(v):0;var b=u.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));b=b.length?b.reduce(v):0,g.visit_times=b,g.visit_devices=y,a.options[n].value.forEach((function(t){var e={};e.name=t+"p",u.forEach((function(a){if(Number(a.name)===t)for(var i in a)i!==name&&(e[i]=a[i],e["total_"+i]=g[i])})),e.name=a.parseChars(String(t)),_.push(e)}));for(var x=0,w=_;x<w.length;x++){var C=w[x];(0,r.mapfields)(s.default,C,C)}a.tableData=[],a.tableData=_})).catch((function(t){})).finally((function(){a.loading=!1}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},a0a5:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(0,"v-show",t.isShow),expression:"_$s(0,'v-show',isShow)"}],ref:"ani",class:t._$s(0,"c",t.customClass),style:t._$s(0,"s",t.transformStyles),attrs:{animation:t._$s(0,"a-animation",t.animationData),_i:0},on:{click:t.onClick}},[t._t("default",null,{_i:1})],2)},n=[]},a0f4:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9523")),s=a("220d"),o=a("26cb");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=t.database(),d=[],f={ascending:"asc",descending:"desc"},p={data:function(){return{query:"",where:"",orderby:"create_date",orderByFieldName:"",selectedIndexs:[],options:c({pageSize:20,pageCurrent:1,filterData:{}},s.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"opendb-app-list.xls",type:"xls",fields:{AppID:"appid","\u5e94\u7528\u540d\u79f0":"name","\u5e94\u7528\u63cf\u8ff0":"description","\u521b\u5efa\u65f6\u95f4":"create_date"}},exportExcelData:[],addAppidLoading:!0,descriptionThWidth:380,buttonThWidth:400}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},computed:c({},(0,o.mapState)("app",["appName","appid"])),methods:{pageSizeChange:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},onqueryload:function(t){var e=this;t.find((function(t){return t.appid===e.appid}))?this.addAppidLoading=!1:this.addCurrentAppid({appid:this.appid,name:this.appName,description:"admin \u7ba1\u7406\u540e\u53f0"}),this.exportExcelData=t},changeSize:function(t){this.pageSizeIndex=t.detail.value},addCurrentAppid:function(t){var e=this;l.collection("opendb-app-list").add(t).then((function(t){e.loadData(),setTimeout((function(){uni.showModal({content:"\u68c0\u6d4b\u5230\u6570\u636e\u5e93\u4e2d\u65e0\u5f53\u524d\u5e94\u7528, \u5df2\u81ea\u52a8\u6dfb\u52a0\u5e94\u7528: ".concat(e.appName),showCancel:!1})}),500)})).catch((function(t){})).finally((function(){e.addAppidLoading=!1}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return d.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere();this.where=t,this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{confirmContent:"\u662f\u5426\u5220\u9664\u8be5\u5e94\u7528",success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,s.filterToWhere)(this._filter,l.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))},publish:function(t){uni.navigateTo({url:"/pages/system/app/uni-portal/uni-portal?id="+t})}}};e.default=p}).call(this,a("a9ff")["default"],a("0de9")["default"])},a0f4b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u573a\u666f\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u573a\u666f\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},a128:function(t,e,a){var i=a("36c6"),n=a("4a4b"),r=a("c5f7"),s=a("b17c");function o(e){var a="function"===typeof Map?new Map:void 0;return t.exports=o=function(t){if(null===t||!r(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof a){if(a.has(t))return a.get(t);a.set(t,e)}function e(){return s(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n(e,t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},a138:function(t,e,a){"use strict";a.r(e);var i=a("6177"),n=a("00de");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a161:function(t,e,a){"use strict";a.r(e);var i=a("2820"),n=a("0fa3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a240:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("26cb"),s=i(a("f808"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u=s.default.navBar.debug||{},c={data:function(){return{engines:u.engine||[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},(0,r.mapState)("error",["logs"])),methods:{search:function(t,e){}}};e.default=c},a277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading1",data:function(){return{}}}},a281:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var t=this.inverted,e=this.type,a=this.size,i=this.absolute;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+a,i?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var t=this.width/2,e=10;this.isDot&&(t=5,e=5);var a="".concat(-t+this.offset[0],"px"),i="".concat(-e+this.offset[1],"px"),n={rightTop:{right:a,top:i},rightBottom:{right:a,bottom:i},leftBottom:{left:a,bottom:i},leftTop:{left:a,top:i}},r=n[this.absolute];return r||n["rightTop"]},dotStyle:function(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue:function(){var t=this.isDot,e=this.text,a=this.maxNum;return t?"":Number(e)>a?"".concat(a,"+"):e}},methods:{onClick:function(){this.$emit("click")}}};e.default=i},a2b0:function(t,e,a){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-email-code-form",model:{prop:"modelValue",event:"update:modelValue"},props:{event:["update:modelValue"],count:{type:[String,Number],default:60},email:{type:[String],default:""},type:{type:String,default:function(){return"register"}},focusCaptchaInput:{type:Boolean,default:function(){return!1}}},data:function(){return{captcha:"",reverseNumber:0,reverseTimer:null,modelValue:"",focusEmailCodeInput:!1}},watch:{captcha:function(t,e){4==t.length&&4!=e.length&&this.start()},modelValue:function(t){this.$emit("input",t),this.$emit("update:modelValue",t)}},computed:{innerText:function(){return 0==this.reverseNumber?"\u83b7\u53d6\u90ae\u7bb1\u9a8c\u8bc1\u7801":"\u91cd\u65b0\u53d1\u9001("+this.reverseNumber+"s)"}},created:function(){this.initClick()},methods:{getImageCaptcha:function(t){this.$refs.captcha.getImageCaptcha(t)},initClick:function(){var t=this;this.start=function(t,e){var a;return e=e||500,function(){var i=this,n=arguments;a&&clearTimeout(a);var r=!a;a=setTimeout((function(){a=null}),e),r&&t.apply(i,n)}}((function(){0==t.reverseNumber&&t.sendMsg()}))},sendMsg:function(){var e=this;if(4!=this.captcha.length)return this.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u5148\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(!this.email)return uni.showToast({title:"\u8bf7\u8f93\u5165\u90ae\u7bb1",icon:"none",duration:3e3});if(!/@/.test(this.email))return uni.showToast({title:"\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef",icon:"none",duration:3e3});var a=t.importObject("uni-id-co",{customUI:!0});this.email,this.type,this.captcha,a.sendEmailCode({email:this.email,scene:this.type,captcha:this.captcha}).then((function(t){uni.showToast({title:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f",icon:"none",duration:3e3}),e.reverseNumber=Number(e.count),e.getCode()})).catch((function(t){"uni-id-invalid-mail-template"==t.code?(e.modelValue="123456",uni.showToast({title:"\u5df2\u542f\u52a8\u6d4b\u8bd5\u6a21\u5f0f,\u8be6\u60c5\u3010\u63a7\u5236\u53f0\u4fe1\u606f\u3011",icon:"none",duration:3e3}),t.message):(e.getImageCaptcha(),e.captcha="",uni.showToast({title:t.message,icon:"none",duration:3e3}))}))},getCode:function(){var t=this;if(0==this.reverseNumber)return clearTimeout(this.reverseTimer),void(this.reverseTimer=null);this.reverseNumber--,this.reverseTimer=setTimeout((function(){t.getCode()}),1e3)}}};e.default=i}).call(this,a("a9ff")["default"],a("0de9")["default"])},a34a:function(t,e,a){var i=a("7037"),n=a("7ec2")();t.exports=n;try{regeneratorRuntime=n}catch(r){"object"===("undefined"===typeof globalThis?"undefined":i(globalThis))?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},a395:function(t,e,a){var i=a("7037")["default"],n=a("e50d");t.exports=function(t){var e=n(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},a3a4:function(t,e,a){"use strict";a.r(e);var i=a("3219"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},a3f2:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniLoadMore:a("81c5").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-data-checklist"),style:t._$s(0,"s",{"margin-top":t.isTop+"px"}),attrs:{_i:0}},[t._$s(1,"i",!t.isLocal)?[a("view",{staticClass:t._$s(2,"sc","uni-data-loading"),attrs:{_i:2}},[t._$s(3,"i",!t.mixinDatacomErrorMessage)?a("uni-load-more",{attrs:{status:"loading",iconType:"snow",iconSize:18,"content-text":t.contentText,_i:3}}):a("text",[t._v(t._$s(4,"t0-0",t._s(t.mixinDatacomErrorMessage)))])],1)]:[t._$s(6,"i",t.multiple)?a("checkbox-group",{staticClass:t._$s(6,"sc","checklist-group"),class:t._$s(6,"c",{"is-list":"list"===t.mode||t.wrap}),attrs:{_i:6},on:{change:t.chagne}},t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,i,n,r){return a("label",{key:t._$s(7,"f",{forIndex:n,key:i}),staticClass:t._$s("7-"+r,"sc","checklist-box"),class:t._$s("7-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""]),style:t._$s("7-"+r,"s",e.styleBackgroud),attrs:{_i:"7-"+r}},[a("checkbox",{staticClass:t._$s("8-"+r,"sc","hidden"),attrs:{disabled:t._$s("8-"+r,"a-disabled",t.disabled||!!e.disabled),value:t._$s("8-"+r,"a-value",e[t.map.value]+""),checked:t._$s("8-"+r,"a-checked",e.selected),_i:"8-"+r}}),t._$s("9-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?a("view",{staticClass:t._$s("9-"+r,"sc","checkbox__inner"),style:t._$s("9-"+r,"s",e.styleIcon),attrs:{_i:"9-"+r}},[a("view",{staticClass:t._$s("10-"+r,"sc","checkbox__inner-icon"),attrs:{_i:"10-"+r}})]):t._e(),a("view",{staticClass:t._$s("11-"+r,"sc","checklist-content"),class:t._$s("11-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"11-"+r}},[a("text",{staticClass:t._$s("12-"+r,"sc","checklist-text"),style:t._$s("12-"+r,"s",e.styleIconText),attrs:{_i:"12-"+r}},[t._v(t._$s("12-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("13-"+r,"i","list"===t.mode&&"right"===t.icon)?a("view",{staticClass:t._$s("13-"+r,"sc","checkobx__list"),style:t._$s("13-"+r,"s",e.styleBackgroud),attrs:{_i:"13-"+r}}):t._e()])])})),0):a("radio-group",{staticClass:t._$s(14,"sc","checklist-group"),class:t._$s(14,"c",{"is-list":"list"===t.mode,"is-wrap":t.wrap}),attrs:{_i:14},on:{change:t.chagne}},t._l(t._$s(15,"f",{forItems:t.dataList}),(function(e,i,n,r){return a("label",{key:t._$s(15,"f",{forIndex:n,key:i}),staticClass:t._$s("15-"+r,"sc","checklist-box"),class:t._$s("15-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""]),style:t._$s("15-"+r,"s",e.styleBackgroud),attrs:{_i:"15-"+r}},[a("radio",{staticClass:t._$s("16-"+r,"sc","hidden"),attrs:{disabled:t._$s("16-"+r,"a-disabled",t.disabled||e.disabled),value:t._$s("16-"+r,"a-value",e[t.map.value]+""),checked:t._$s("16-"+r,"a-checked",e.selected),_i:"16-"+r}}),t._$s("17-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?a("view",{staticClass:t._$s("17-"+r,"sc","radio__inner"),style:t._$s("17-"+r,"s",e.styleBackgroud),attrs:{_i:"17-"+r}},[a("view",{staticClass:t._$s("18-"+r,"sc","radio__inner-icon"),style:t._$s("18-"+r,"s",e.styleIcon),attrs:{_i:"18-"+r}})]):t._e(),a("view",{staticClass:t._$s("19-"+r,"sc","checklist-content"),class:t._$s("19-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"19-"+r}},[a("text",{staticClass:t._$s("20-"+r,"sc","checklist-text"),style:t._$s("20-"+r,"s",e.styleIconText),attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("21-"+r,"i","list"===t.mode&&"right"===t.icon)?a("view",{staticClass:t._$s("21-"+r,"sc","checkobx__list"),style:t._$s("21-"+r,"s",e.styleRightIcon),attrs:{_i:"21-"+r}}):t._e()])])})),0)]],2)},r=[]},a448:function(t,e,a){"use strict";a.r(e);var i=a("f5c2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},a4b3:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default,showInfo:a("0e79").default,uniFilePicker:a("9c74").default,uniCard:a("aeaf").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])])]),a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:5}},[a("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:6}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:8}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:10}},[a("uni-easyinput",{attrs:{placeholder:"\u66f4\u65b0\u6807\u9898",_i:11},model:{value:t._$s(11,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:12}},[a("textarea",{staticClass:t._$s(13,"sc","uni-textarea-border"),attrs:{maxlength:t._$s(13,"a-maxlength",-1),value:t._$s(13,"a-value",t.formData.contents),_i:13},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),a("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:14}},[a("uni-data-checkbox",{attrs:{multiple:t.isWGT,localdata:t.platformLocaldata,_i:15},model:{value:t._$s(15,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),a("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:16}},[a("uni-easyinput",{attrs:{placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248\u672c\u53f7",_i:17},model:{value:t._$s(17,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(18,"i",t.isWGT)?a("uni-forms-item",{key:"min_uni_version",attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:18}},[a("uni-easyinput",{attrs:{placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:19},model:{value:t._$s(19,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),a("show-info",{attrs:{content:t.minUniVersionContent,_i:20}})],1):t._e(),a("uni-forms-item",{attrs:{label:"\u5b58\u50a8\u9009\u62e9",_i:21}},[a("view",{staticClass:t._$s(22,"sc","flex"),attrs:{_i:22}},[a("radio-group",{attrs:{_i:23},on:{change:function(e){return t.uniFilePickerProvider=e.detail.value}}},[a("view",{staticClass:t._$s(24,"sc","flex"),attrs:{_i:24}},[a("label",[a("radio",{attrs:{checked:t._$s(26,"a-checked","unicloud"===t.uniFilePickerProvider),_i:26}}),a("text")]),a("label",[a("radio",{attrs:{checked:t._$s(29,"a-checked","extStorage"===t.uniFilePickerProvider),_i:29}}),a("text")])])]),a("text",{staticClass:t._$s(31,"sc","uni-sub-title"),attrs:{_i:31}}),a("text",{staticClass:t._$s(32,"sc","uni-sub-title"),attrs:{_i:32}}),a("text",{staticClass:t._$s(33,"sc","uni-sub-title"),attrs:{_i:33},on:{click:function(e){return t.toUrl("https://doc.dcloud.net.cn/uniCloud/ext-storage/service.html")}}})])]),t._$s(34,"i","extStorage"===t.uniFilePickerProvider)?a("uni-forms-item",{attrs:{label:"\u81ea\u5b9a\u4e49\u57df\u540d",_i:34}},[a("view",{staticClass:t._$s(35,"sc","flex"),attrs:{_i:35}},[a("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u6269\u5c55\u5b58\u50a8\u81ea\u5b9a\u4e49\u57df\u540d",maxlength:-1,_i:36},model:{value:t._$s(36,"v-model",t.domain),callback:function(e){t.domain=e},expression:"domain"}}),a("text",{staticClass:t._$s(37,"sc","uni-sub-title"),attrs:{_i:37}})],1)]):t._e(),t._$s(38,"i",!t.isiOS)?a("uni-forms-item",{attrs:{label:"\u4e0a\u4f20"+t.fileExtname[0]+"\u5305",_i:38}},[a("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",provider:t.uniFilePickerProvider,_i:39},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(39,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[a("view",{staticClass:t._$s(40,"sc","flex"),attrs:{_i:40}},[a("button",{attrs:{_i:41},on:{click:t.selectFile}})]),a("view",{staticClass:t._$s(42,"sc","flex"),attrs:{_i:42}},[a("text",[t._v(t._$s(43,"t0-0",t._s(t.fileExtname[0])))]),a("text")])]),t._$s(45,"i",t.hasPackage)?a("text",[t._v(t._$s(45,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),a("uni-forms-item",{key:"url",attrs:{name:"url",label:t.isiOS?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",required:!0,_i:46}},[a("view",{staticClass:t._$s(47,"sc","flex"),attrs:{_i:47}},[a("view",{staticClass:t._$s(48,"sc","flex"),attrs:{_i:48}},[a("uni-easyinput",{attrs:{placeholder:"\u94fe\u63a5",maxlength:-1,_i:49},model:{value:t._$s(49,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}}),t._$s(50,"i",t.formData.url)?a("text",{attrs:{_i:50},on:{click:function(e){return t.toUrl(t.formData.url)}}}):t._e()],1),t._$s(51,"i",t.formData.url)?a("text"):t._e()])]),t._$s(52,"i",!t.isiOS&&!t.isWGT&&t.formData.store_list.length)?a("uni-forms-item",{key:"store_list",attrs:{label:"Android\u5e94\u7528\u5e02\u573a",labelWidth:"125px",name:"store_list",_i:52}},[a("view",t._l(t._$s(54,"f",{forItems:t.formData.store_list}),(function(e,i,n,r){return a("view",{key:t._$s(54,"f",{forIndex:n,key:e.id})},[a("uni-card",{attrs:{_i:"55-"+r}},[a("view",[a("checkbox-group",{attrs:{_i:"57-"+r},on:{change:function(t){var a=t.detail.value;e.enable=!!a.length}}},[a("label",{staticClass:t._$s("58-"+r,"sc","title_padding"),attrs:{_i:"58-"+r}},[a("checkbox",{attrs:{checked:t._$s("59-"+r,"a-checked",e.enable),_i:"59-"+r}}),a("text")])])]),a("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"61-"+r}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"62-"+r},model:{value:t._$s("62-"+r,"v-model",e.name),callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("uni-forms-item",{attrs:{label:"Scheme",_i:"63-"+r}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"64-"+r},model:{value:t._$s("64-"+r,"v-model",e.scheme),callback:function(a){t.$set(e,"scheme",a)},expression:"item.scheme"}})],1),a("uni-forms-item",{attrs:{label:"\u4f18\u5148\u7ea7",_i:"65-"+r}},[a("uni-easyinput",{attrs:{type:"number",_i:"66-"+r},model:{value:t._$s("66-"+r,"v-model",e.priority),callback:function(a){t.$set(e,"priority",a)},expression:"item.priority"}}),a("show-info",{attrs:{top:-100,left:-180,content:t.priorityContent,_i:"67-"+r}})],1)],1)],1)})),0)]):t._e(),t._$s(68,"i",t.isWGT)?a("uni-forms-item",{key:"is_silently",attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:68}},[a("switch",{attrs:{checked:t._$s(69,"a-checked",t.formData.is_silently),_i:69},on:{change:function(e){return t.binddata("is_silently",e.detail.value)}}}),a("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:70}})],1):t._e(),t._$s(71,"i",!t.isiOS)?a("uni-forms-item",{key:"is_mandatory",attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:71}},[a("switch",{attrs:{checked:t._$s(72,"a-checked",t.formData.is_mandatory),_i:72},on:{change:function(e){return t.binddata("is_mandatory",e.detail.value)}}}),a("show-info",{attrs:{content:t.mandatoryContent,_i:73}})],1):t._e(),a("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:74}},[a("switch",{attrs:{checked:t._$s(75,"a-checked",t.formData.stable_publish),_i:75},on:{change:function(e){return t.binddata("stable_publish",e.detail.value)}}}),a("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:76}})],1),a("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(77,"v-show",!1),expression:"_$s(77,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:77}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:78},model:{value:t._$s(78,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),a("view",{staticClass:t._$s(79,"sc","uni-button-group"),attrs:{_i:79}},[a("button",{staticClass:t._$s(80,"sc","uni-button"),attrs:{_i:80},on:{click:t.submit}}),a("button",{staticClass:t._$s(81,"sc","uni-button"),attrs:{_i:81},on:{click:t.back}})])],1)],1)},r=[]},a4b9:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"}')},a52f:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("39f5");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){return{showPassword:!1,formData:{username:"",nickname:"",password:void 0,role:[],tags:[],authorizedApp:[],mobile:void 0,email:void 0,status:!1},rules:o(o({},c(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[],userId:"",appList:[],unknownAppids:[]}},onLoad:function(t){var e=t.id;this.formDataId=e;var a=uni.getStorageSync("uni-id-pages-userInfo")||{};this.userId=a._id,this.getDetail(e),this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkboxTags.loadData()}}})},trigger:function(){this.showPassword=!this.showPassword},submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,a=t.detail,i=a.value,n=a.errors;n||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),"boolean"===typeof i.status&&(i.status=Number(!i.status)),i.uid=this.formDataId,this.$request("updateUser",i).then((function(){uni.showToast({title:"\u4fee\u6539\u6210\u529f"});var t=e.getOpenerEventChannel();t.emit&&t.emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},resetPWd:function(t){this.$request("system/user/resetPwd",t).then().catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally()},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-users").doc(t).field("username,nickname,role,dcloud_appid as authorizedApp,tags,mobile,email,status").get().then((function(t){var a=t.result.data[0];a&&(void 0===a.status&&(a.status=!0),0===a.status&&(a.status=!0),1===a.status&&(a.status=!1),e.formData=Object.assign(e.formData,a),e.loadAppList(e.formData.authorizedApp))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},loadroles:function(){var t=this;u.collection("uni-id-roles").limit(500).get().then((function(e){var a=[];t.roles=e.result.data.map((function(t){return a.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===a.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},loadAppList:function(t){var e=this;u.collection("opendb-app-list").limit(500).get().then((function(a){var i=a.result.data.map((function(t,e){return{value:t.appid,text:t.name}}));i||(i=[]),t.map((function(t){var a=i.find((function(e){return e.value===t}));a||(e.unknownAppids.push(t),i.push({value:t,text:"\u672a\u77e5\u5e94\u7528".concat(t)}))})),e.appList=i})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},parseUserStatus:function(t){return 0===t?"\u542f\u7528":1===t?"\u7981\u7528":2===t?"\u5ba1\u6838\u4e2d":3===t?"\u5ba1\u6838\u62d2\u7edd":4===t?"\u5df2\u6ce8\u9500":"undefined"!==typeof t?"\u672a\u77e5":"\u542f\u7528"}},computed:{unknownAppidsCom:function(){var t=this,e="";return this.unknownAppids.map((function(a,i){e+=a,i!==t.unknownAppids.length-1&&(e+="\u3001")})),e}}};e.default=l}).call(this,a("a9ff")["default"])},a540:function(t,e,a){"use strict";a.r(e);var i=a("c35d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},a55c:function(t,e,a){"use strict";a.r(e);var i=a("a9f6"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},a5bb:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-card"),class:t._$s(0,"c",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}),style:t._$s(0,"s",{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}),attrs:{_i:0}},[t._t("cover",[t._$s(2,"i",t.cover)?a("view",{staticClass:t._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[a("image",{staticClass:t._$s(3,"sc","uni-card__cover-image"),attrs:{src:t._$s(3,"a-src",t.cover),_i:3},on:{click:function(e){return t.onClick("cover")}}})]):t._e()],{_i:1}),t._t("title",[t._$s(5,"i",t.title||t.extra)?a("view",{staticClass:t._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(e){return t.onClick("title")}}},[t._$s(7,"i",t.thumbnail)?a("view",{staticClass:t._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[a("image",{staticClass:t._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:t._$s(8,"a-src",t.thumbnail),_i:8}})]):t._e(),a("view",{staticClass:t._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[a("text",{staticClass:t._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))]),t._$s(11,"i",t.title&&t.subTitle)?a("text",{staticClass:t._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.subTitle)))]):t._e()])]),a("view",{staticClass:t._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(e){return t.onClick("extra")}}},[a("text",{staticClass:t._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.extra)))])])]):t._e()],{_i:4}),a("view",{staticClass:t._$s(14,"sc","uni-card__content"),style:t._$s(14,"s",{padding:t.padding}),attrs:{_i:14},on:{click:function(e){return t.onClick("content")}}},[t._t("default",null,{_i:15})],2),a("view",{staticClass:t._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(e){return t.onClick("actions")}}},[t._t("actions",null,{_i:17})],2)],2)},n=[]},a5e8:function(t,e,a){"use strict";a.r(e);var i=a("d42d"),n=a("4723");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a652:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a")),r=a("7c5a");function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var u={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,r.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[],errorMessage:""}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat((0,n.default)(this.dayChartsData),(0,n.default)(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,r.stringifyQuery)({appid:t});return e}},methods:{getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t),this.getRangeCountData(t,"month")):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var n=(0,r.getTimeOfSomeDayAgo)(0);if(e.start_time>=n){var s=(new Date).getTime();e.start_time=[n,s],e=(0,r.stringifyQuery)(e,!0)}else e=(0,r.stringifyQuery)(e);var o=t.database();o.collection("uni-stat-result").where(e).field("active_device_count,new_device_count,total_devices,platform_id").groupBy("platform_id").groupField("sum(active_device_count) as ".concat(i,"_active_device_count, sum(new_device_count) as ").concat(i,"_new_device_count, max(total_devices) as ").concat(i,"_total_devices")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,a){var i=this;e=(0,r.stringifyQuery)(e);var n=t.database();n.collection("uni-stat-result").where(e).field("active_device_count, new_device_count, platform_id, ".concat(a,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(a,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(a?a+",":"","platform_id")).groupField("sum(active_device_count) as ".concat(a,"_active_device_count, sum(new_device_count) as ").concat(a,"_new_device_count")).orderBy("year asc, ".concat(a," asc")).get().then((function(t){var e=t.result.data;i.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,a){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=t.database();r.collection("uni-stat-app-platforms").get().then((function(t){var r=[{field:"".concat(n,"_new_device_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u65b0\u589e\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(n,"_active_device_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u6d3b\u8dc3\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===n&&r.unshift({field:"day_total_devices",title:"\u603b\u8bbe\u5907\u6570\u5bf9\u6bd4",series:[{data:[]}]}),i[a]=r;var o=t.result.data,u={};o.forEach((function(t){u[t._id]=t.name}));var c,l=s(i[a]);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,p=f.series[0].data,h=JSON.parse(JSON.stringify(u)),m=s(e);try{for(m.s();!(d=m.n()).done;){var _=d.value;for(var g in _)if(f.field===g){var v=_.platform_id,y={name:h[v],value:_[g]};p.push(y),delete h[v]}}}catch(w){m.e(w)}finally{m.f()}for(var b in h){var x={name:h[b],value:0};p.push(x)}}}catch(w){l.e(w)}finally{l.f()}}))}}};e.default=u}).call(this,a("a9ff")["default"])},a704:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}}),a("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),a("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),a("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[a("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),a("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:21}})],1)],1),a("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),a("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),a("fix-window",{attrs:{_i:26}})],1)},r=[]},a813:function(t,e,a){"use strict";function i(t){var e="";for(var a in t){var i=t[a];e+="".concat(a,":").concat(i,";")}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:function(){return{color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}},computed:{isVal:function(){var t=this.val;return!(!t&&0!==t)},msg:function(){return this.localMsg||this.errorMessage},inputMaxlength:function(){return Number(this.maxlength)},boxStyle:function(){return"color:".concat(this.inputBorder&&this.msg?"#e43d33":this.styles.color,";")},inputContentClass:function(){return function(t){var e="";for(var a in t){var i=t[a];i&&(e+="".concat(a," "))}return e}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle:function(){var t=this.focusShow?this.primaryColor:this.styles.borderColor,e=this.inputBorder&&this.msg?"#dd524d":t;return i({"border-color":e||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle:function(){var t="password"===this.type||this.clearable||this.prefixIcon?"":"10px";return i({"padding-right":t,"padding-left":this.prefixIcon?"":"10px"})}},watch:{value:function(t){this.val=t},modelValue:function(t){this.val=t},focus:function(t){var e=this;this.$nextTick((function(){e.focused=e.focus,e.focusShow=e.focus}))}},created:function(){var t=this;this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(function(e){t.localMsg=e}))},mounted:function(){var t=this;this.$nextTick((function(){t.focused=t.focus,t.focusShow=t.focus}))},methods:{init:function(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon:function(t){this.$emit("iconClick",t)},onEyes:function(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput:function(t){var e=t.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(e=this.trimStr(e)),"string"===typeof this.trim&&(e=this.trimStr(e,this.trim))),this.errMsg&&(this.errMsg=""),this.val=e,this.$emit("input",e),this.$emit("update:modelValue",e)},onFocus:function(){var t=this;this.$nextTick((function(){t.focused=!0})),this.$emit("focus",null)},_Focus:function(t){this.focusShow=!0,this.$emit("focus",t)},onBlur:function(){this.focused=!1,this.$emit("focus",null)},_Blur:function(t){t.detail.value;if(this.focusShow=!1,this.$emit("blur",t),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){var e=this.form.validateTrigger;"blur"===e&&this.formItem.onFieldChange()}},onConfirm:function(t){var e=this;this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((function(){e.isEnter=!1}))},onClear:function(t){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange:function(t){this.$emit("keyboardheightchange",t)},trimStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===e?t.trim():"left"===e?t.trimLeft():"right"===e?t.trimRight():"start"===e?t.trimStart():"end"===e?t.trimEnd():"all"===e?t.replace(/\s+/g,""):t}}};e.default=n},a863:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("05a3")),r={data:function(){return{searchVal:"",tableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1}},onLoad:function(){this.selectedIndexs=[],this.getData(1)},methods:{selectedItems:function(){var t=this;return this.selectedIndexs.map((function(e){return t.tableData[e]}))},selectionChange:function(t){this.selectedIndexs=t.detail.index},delTable:function(){this.selectedItems()},change:function(t){this.getData(t.current)},search:function(){this.getData(1,this.searchVal)},getData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loading=!0,this.pageCurrent=t,this.request({pageSize:this.pageSize,pageCurrent:t,value:a,success:function(t){e.tableData=t.data,e.total=t.total,e.loading=!1}})},request:function(t){var e=t.pageSize,a=t.pageCurrent,i=t.success,r=t.value,s=n.default.length,o=n.default.filter((function(t,i){var n=i-(a-1)*e;return n<e&&n>=0}));r&&(o=[],n.default.forEach((function(t){-1!==t.name.indexOf(r)&&o.push(t)})),s=o.length),setTimeout((function(){"function"===typeof i&&i({data:o,total:s})}),500)}}};e.default=r},a919:function(t,e,a){"use strict";a.r(e);var i=a("24f9"),n=a("6791");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},a925:function(t,e,a){"use strict";a.r(e);
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */
var i=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],n=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];var r=Array.isArray;function s(t){return null!==t&&"object"===typeof t}function o(t){return"boolean"===typeof t}function u(t){return"string"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function d(t){return null===t||void 0===t}function f(t){return"function"===typeof t}function p(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var a=null,i=null;return 1===t.length?s(t[0])||r(t[0])?i=t[0]:"string"===typeof t[0]&&(a=t[0]):2===t.length&&("string"===typeof t[0]&&(a=t[0]),(s(t[1])||r(t[1]))&&(i=t[1])),{locale:a,params:i}}function h(t){return JSON.parse(JSON.stringify(t))}function m(t,e){return!!~t.indexOf(e)}var _=Object.prototype.hasOwnProperty;function g(t,e){return _.call(t,e)}function v(t){for(var e=arguments,a=Object(t),i=1;i<arguments.length;i++){var n=e[i];if(void 0!==n&&null!==n){var r=void 0;for(r in n)g(n,r)&&(s(n[r])?a[r]=v(a[r],n[r]):a[r]=n[r])}}return a}function y(t,e){if(t===e)return!0;var a=s(t),i=s(e);if(!a||!i)return!a&&!i&&String(t)===String(e);try{var n=r(t),o=r(e);if(n&&o)return t.length===e.length&&t.every((function(t,a){return y(t,e[a])}));if(n||o)return!1;var u=Object.keys(t),c=Object.keys(e);return u.length===c.length&&u.every((function(a){return y(t[a],e[a])}))}catch(l){return!1}}function b(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(t[e]))})),t}var x={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var a=e.data,i=e.parent,n=e.props,r=e.slots,s=i.$i18n;if(s){var o=n.path,u=n.locale,c=n.places,l=r(),d=s.i(o,u,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(l)||c?function(t,e){var a=e?function(t){0;return Array.isArray(t)?t.reduce(C,{}):Object.assign({},t)}(e):{};if(!t)return a;t=t.filter((function(t){return t.tag||""!==t.text.trim()}));var i=t.every($);0;return t.reduce(i?w:C,a)}(l.default,c):l),f=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return f?t(f,a,d):d}}};function w(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function C(t,e,a){return t[a]=e,t}function $(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var k,D={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var a=e.props,n=e.parent,r=e.data,o=n.$i18n;if(!o)return null;var c=null,l=null;u(a.format)?c=a.format:s(a.format)&&(a.format.key&&(c=a.format.key),l=Object.keys(a.format).reduce((function(t,e){var n;return m(i,e)?Object.assign({},t,(n={},n[e]=a.format[e],n)):t}),null));var d=a.locale||o.locale,f=o._ntp(a.value,d,c,l),p=f.map((function(t,e){var a,i=r.scopedSlots&&r.scopedSlots[t.type];return i?i((a={},a[t.type]=t.value,a.index=e,a.parts=f,a)):t.value})),h=a.tag&&!0!==a.tag||!1===a.tag?a.tag:"span";return h?t(h,{attrs:r.attrs,class:r["class"],staticClass:r.staticClass},p):p}};function S(t,e,a){P(t,a)&&M(t,e,a)}function T(t,e,a,i){if(P(t,a)){var n=a.context.$i18n;(function(t,e){var a=e.context;return t._locale===a.$i18n.locale})(t,a)&&y(e.value,e.oldValue)&&y(t._localeMessage,n.getLocaleMessage(n.locale))||M(t,e,a)}}function O(t,e,a,i){var n=a.context;if(n){var r=a.context.$i18n||{};e.modifiers.preserve||r.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}}function P(t,e){var a=e.context;return!!a&&!!a.$i18n}function M(t,e,a){var i,n,r=e.value,s=function(t){var e,a,i,n;u(t)?e=t:l(t)&&(e=t.path,a=t.locale,i=t.args,n=t.choice);return{path:e,locale:a,args:i,choice:n}}(r),o=s.path,c=s.locale,d=s.args,f=s.choice;if((o||c||d)&&o){var p=a.context;t._vt=t.textContent=null!=f?(i=p.$i18n).tc.apply(i,[o,f].concat(A(c,d))):(n=p.$i18n).t.apply(n,[o].concat(A(c,d))),t._locale=p.$i18n.locale,t._localeMessage=p.$i18n.getLocaleMessage(p.$i18n.locale)}}function A(t,e){var a=[];return t&&a.push(t),e&&(Array.isArray(e)||l(e))&&a.push(e),a}function I(t,e){void 0===e&&(e={bridge:!1}),I.installed=!0,k=t;k.version&&Number(k.version.split(".")[0]);(function(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],a=arguments.length-1;while(a-- >0)e[a]=arguments[a+1];var i=this.$i18n;return i._t.apply(i,[t,i.locale,i._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var a=[],i=arguments.length-2;while(i-- >0)a[i]=arguments[i+2];var n=this.$i18n;return n._tc.apply(n,[t,n.locale,n._getMessages(),this,e].concat(a))},t.prototype.$te=function(t,e){var a=this.$i18n;return a._te(t,a.locale,a._getMessages(),e)},t.prototype.$d=function(t){var e,a=[],i=arguments.length-1;while(i-- >0)a[i]=arguments[i+1];return(e=this.$i18n).d.apply(e,[t].concat(a))},t.prototype.$n=function(t){var e,a=[],i=arguments.length-1;while(i-- >0)a[i]=arguments[i+1];return(e=this.$i18n).n.apply(e,[t].concat(a))}})(k),k.mixin(function(t){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===t&&(t=!1),t?{mounted:e}:{beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n)if(t.i18n instanceof J){if(t.__i18nBridge||t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{},a=t.__i18nBridge||t.__i18n;a.forEach((function(t){e=v(e,JSON.parse(t))})),Object.keys(e).forEach((function(a){t.i18n.mergeLocaleMessage(a,e[a])}))}catch(u){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(l(t.i18n)){var i=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J?this.$root.$i18n:null;if(i&&(t.i18n.root=this.$root,t.i18n.formatter=i.formatter,t.i18n.fallbackLocale=i.fallbackLocale,t.i18n.formatFallbackMessages=i.formatFallbackMessages,t.i18n.silentTranslationWarn=i.silentTranslationWarn,t.i18n.silentFallbackWarn=i.silentFallbackWarn,t.i18n.pluralizationRules=i.pluralizationRules,t.i18n.preserveDirectiveContent=i.preserveDirectiveContent),t.__i18nBridge||t.__i18n)try{var n=t.i18n&&t.i18n.messages?t.i18n.messages:{},r=t.__i18nBridge||t.__i18n;r.forEach((function(t){n=v(n,JSON.parse(t))})),t.i18n.messages=n}catch(u){0}var s=t.i18n,o=s.sharedMessages;o&&l(o)&&(t.i18n.messages=v(t.i18n.messages,o)),this._i18n=new J(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),i&&i.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof J&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n?(t.i18n instanceof J||l(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof J)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}}}(e.bridge)),k.directive("t",{bind:S,update:T,unbind:O}),k.component(x.name,x),k.component(D.name,D);var a=k.config.optionMergeStrategies;a.i18n=function(t,e){return void 0===e?t:e}}var j=function(){this._caches=Object.create(null)};j.prototype.interpolate=function(t,e){if(!e)return[t];var a=this._caches[t];return a||(a=function(t){var e=[],a=0,i="";while(a<t.length){var n=t[a++];if("{"===n){i&&e.push({type:"text",value:i}),i="";var r="";n=t[a++];while(void 0!==n&&"}"!==n)r+=n,n=t[a++];var s="}"===n,o=F.test(r)?"list":s&&L.test(r)?"named":"unknown";e.push({value:r,type:o})}else"%"===n?"{"!==t[a]&&(i+=n):i+=n}return i&&e.push({type:"text",value:i}),e}(t),this._caches[t]=a),function(t,e){var a=[],i=0,n=Array.isArray(e)?"list":s(e)?"named":"unknown";if("unknown"===n)return a;while(i<t.length){var r=t[i];switch(r.type){case"text":a.push(r.value);break;case"list":a.push(e[parseInt(r.value,10)]);break;case"named":"named"===n&&a.push(e[r.value]);break;case"unknown":0;break}i++}return a}(a,e)};var F=/^(?:\d)+/,L=/^(?:\w)+/;var E=[];E[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},E[1]={ws:[1],".":[2],"[":[4],eof:[7]},E[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},E[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},E[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},E[5]={"'":[4,0],eof:8,else:[5,0]},E[6]={'"':[4,0],eof:8,else:[6,0]};var q=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function R(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function N(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(function(t){return q.test(t)}(e)?function(t){var e=t.charCodeAt(0),a=t.charCodeAt(t.length-1);return e!==a||34!==e&&39!==e?t:t.slice(1,-1)}(e):"*"+e)}var B=function(){this._cache=Object.create(null)};B.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=function(t){var e,a,i,n,r,s,o,u=[],c=-1,l=0,d=0,f=[];function p(){var e=t[c+1];if(5===l&&"'"===e||6===l&&'"'===e)return c++,i="\\"+e,f[0](),!0}f[1]=function(){void 0!==a&&(u.push(a),a=void 0)},f[0]=function(){void 0===a?a=i:a+=i},f[2]=function(){f[0](),d++},f[3]=function(){if(d>0)d--,l=4,f[0]();else{if(d=0,void 0===a)return!1;if(a=N(a),!1===a)return!1;f[1]()}};while(null!==l)if(c++,e=t[c],"\\"!==e||!p()){if(n=R(e),o=E[l],r=o[n]||o["else"]||8,8===r)return;if(l=r[0],s=f[r[1]],s&&(i=r[2],i=void 0===i?e:i,!1===s()))return;if(7===l)return u}}(t),e&&(this._cache[t]=e)),e||[]},B.prototype.getPathValue=function(t,e){if(!s(t))return null;var a=this.parsePath(e);if(0===a.length)return null;var i=a.length,n=t,r=0;while(r<i){var o=n[a[r]];if(void 0===o||null===o)return null;n=o,r++}return n};var z,W=/<\/?[\w\s="/.':;#-\/]+>/,U=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,V=/^@(?:\.([a-zA-Z]+))?:/,H=/[()]/g,G={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},Q=new j,J=function(t){var e=this;void 0===t&&(t={}),!k&&"undefined"!==typeof window&&window.Vue&&I(window.Vue);var a=t.locale||"en-US",i=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),n=t.messages||{},r=t.dateTimeFormats||t.datetimeFormats||{},s=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||Q,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._fallbackRootWithEmptyString=void 0===t.fallbackRootWithEmptyString||!!t.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new B,this._dataListeners=new Set,this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in t&&(this.__VUE_I18N_BRIDGE__=t.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(t,a){var i=Object.getPrototypeOf(e);if(i&&i.getChoiceIndex){var n=i.getChoiceIndex;return n.call(e,t,a)}return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,a]):function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0}(t,a)},this._exist=function(t,a){return!(!t||!a)&&(!d(e._path.getPathValue(t,a))||!!t[a])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(n).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,n[t])})),this._initVM({locale:a,fallbackLocale:i,messages:n,dateTimeFormats:r,numberFormats:s})},Y={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};J.prototype._checkLocaleMessage=function(t,e,a){var i=function(t,e,a,n){if(l(a))Object.keys(a).forEach((function(r){var s=a[r];l(s)?(n.push(r),n.push("."),i(t,e,s,n),n.pop(),n.pop()):(n.push(r),i(t,e,s,n),n.pop())}));else if(r(a))a.forEach((function(a,r){l(a)?(n.push("["+r+"]"),n.push("."),i(t,e,a,n),n.pop(),n.pop()):(n.push("["+r+"]"),i(t,e,a,n),n.pop())}));else if(u(a)){var s=W.test(a);if(s)n.join("")}};i(e,t,a,[])},J.prototype._initVM=function(t){var e=k.config.silent;k.config.silent=!0,this._vm=new k({data:t,__VUE18N__INSTANCE__:!0}),k.config.silent=e},J.prototype.destroyVM=function(){this._vm.$destroy()},J.prototype.subscribeDataChanging=function(t){this._dataListeners.add(t)},J.prototype.unsubscribeDataChanging=function(t){(function(t,e){if(t.delete(e));})(this._dataListeners,t)},J.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){var e=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}(t._dataListeners),a=e.length;while(a--)k.nextTick((function(){e[a]&&e[a].$forceUpdate()}))}),{deep:!0})},J.prototype.watchLocale=function(t){if(t){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,a=this._vm;return this.vm.$watch("locale",(function(i){a.$set(a,"locale",i),e.__VUE_I18N_BRIDGE__&&t&&(t.locale.value=i),a.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var i=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){i.$set(i,"locale",t),i.$forceUpdate()}),{immediate:!0})},J.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},Y.vm.get=function(){return this._vm},Y.messages.get=function(){return h(this._getMessages())},Y.dateTimeFormats.get=function(){return h(this._getDateTimeFormats())},Y.numberFormats.get=function(){return h(this._getNumberFormats())},Y.availableLocales.get=function(){return Object.keys(this.messages).sort()},Y.locale.get=function(){return this._vm.locale},Y.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},Y.fallbackLocale.get=function(){return this._vm.fallbackLocale},Y.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},Y.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Y.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},Y.missing.get=function(){return this._missing},Y.missing.set=function(t){this._missing=t},Y.formatter.get=function(){return this._formatter},Y.formatter.set=function(t){this._formatter=t},Y.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Y.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},Y.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Y.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},Y.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Y.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},Y.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Y.warnHtmlInMessage.set=function(t){var e=this,a=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,a!==t&&("warn"===t||"error"===t)){var i=this._getMessages();Object.keys(i).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,i[t])}))}},Y.postTranslation.get=function(){return this._postTranslation},Y.postTranslation.set=function(t){this._postTranslation=t},Y.sync.get=function(){return this._sync},Y.sync.set=function(t){this._sync=t},J.prototype._getMessages=function(){return this._vm.messages},J.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},J.prototype._getNumberFormats=function(){return this._vm.numberFormats},J.prototype._warnDefault=function(t,e,a,i,n,r){if(!d(a))return a;if(this._missing){var s=this._missing.apply(null,[t,e,i,n]);if(u(s))return s}else 0;if(this._formatFallbackMessages){var o=p.apply(void 0,n);return this._render(e,r,o.params,e)}return e},J.prototype._isFallbackRoot=function(t){return(this._fallbackRootWithEmptyString?!t:d(t))&&!d(this._root)&&this._fallbackRoot},J.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},J.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},J.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},J.prototype._interpolate=function(t,e,a,i,n,s,o){if(!e)return null;var c,p=this._path.getPathValue(e,a);if(r(p)||l(p))return p;if(d(p)){if(!l(e))return null;if(c=e[a],!u(c)&&!f(c))return null}else{if(!u(p)&&!f(p))return null;c=p}return u(c)&&(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(t,e,c,i,"raw",s,o)),this._render(c,n,s,a)},J.prototype._link=function(t,e,a,i,n,s,o){var u=a,c=u.match(U);for(var l in c)if(c.hasOwnProperty(l)){var d=c[l],f=d.match(V),p=f[0],h=f[1],_=d.replace(p,"").replace(H,"");if(m(o,_))return u;o.push(_);var g=this._interpolate(t,e,_,i,"raw"===n?"string":n,"raw"===n?void 0:s,o);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;g=v._translate(v._getMessages(),v.locale,v.fallbackLocale,_,i,n,s)}g=this._warnDefault(t,_,g,i,r(s)?s:[s],n),this._modifiers.hasOwnProperty(h)?g=this._modifiers[h](g):G.hasOwnProperty(h)&&(g=G[h](g)),o.pop(),u=g?u.replace(d,g):u}return u},J.prototype._createMessageContext=function(t,e,a,i){var n=this,o=r(t)?t:[],u=s(t)?t:{},c=this._getMessages(),l=this.locale;return{list:function(t){return o[t]},named:function(t){return u[t]},values:t,formatter:e,path:a,messages:c,locale:l,linked:function(t){return n._interpolate(l,c[l]||{},t,null,i,void 0,[t])}}},J.prototype._render=function(t,e,a,i){if(f(t))return t(this._createMessageContext(a,this._formatter||Q,i,e));var n=this._formatter.interpolate(t,a,i);return n||(n=Q.interpolate(t,a,i)),"string"!==e||u(n)?n:n.join("")},J.prototype._appendItemToChain=function(t,e,a){var i=!1;return m(t,e)||(i=!0,e&&(i="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),a&&a[e]&&(i=a[e]))),i},J.prototype._appendLocaleToChain=function(t,e,a){var i,n=e.split("-");do{var r=n.join("-");i=this._appendItemToChain(t,r,a),n.splice(-1,1)}while(n.length&&!0===i);return i},J.prototype._appendBlockToChain=function(t,e,a){for(var i=!0,n=0;n<e.length&&o(i);n++){var r=e[n];u(r)&&(i=this._appendLocaleToChain(t,r,a))}return i},J.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var a=this._localeChainCache[t];if(!a){e||(e=this.fallbackLocale),a=[];var i,n=[t];while(r(n))n=this._appendBlockToChain(a,n,e);i=r(e)?e:s(e)?e["default"]?e["default"]:null:e,n=u(i)?[i]:i,n&&this._appendBlockToChain(a,n,null),this._localeChainCache[t]=a}return a},J.prototype._translate=function(t,e,a,i,n,r,s){for(var o,u=this._getLocaleChain(e,a),c=0;c<u.length;c++){var l=u[c];if(o=this._interpolate(l,t[l],i,n,r,s,[i]),!d(o))return o}return null},J.prototype._t=function(t,e,a,i){var n,r=[],s=arguments.length-4;while(s-- >0)r[s]=arguments[s+4];if(!t)return"";var o=p.apply(void 0,r);this._escapeParameterHtml&&(o.params=b(o.params));var u=o.locale||e,c=this._translate(a,u,this.fallbackLocale,t,i,"string",o.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(n=this._root).$t.apply(n,[t].concat(r))}return c=this._warnDefault(u,t,c,i,r,"string"),this._postTranslation&&null!==c&&void 0!==c&&(c=this._postTranslation(c,t)),c},J.prototype.t=function(t){var e,a=[],i=arguments.length-1;while(i-- >0)a[i]=arguments[i+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(a))},J.prototype._i=function(t,e,a,i,n){var r=this._translate(a,e,this.fallbackLocale,t,i,"raw",n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,n)}return this._warnDefault(e,t,r,i,[n],"raw")},J.prototype.i=function(t,e,a){return t?(u(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,a)):""},J.prototype._tc=function(t,e,a,i,n){var r,s=[],o=arguments.length-5;while(o-- >0)s[o]=arguments[o+5];if(!t)return"";void 0===n&&(n=1);var u={count:n,n:n},c=p.apply(void 0,s);return c.params=Object.assign(u,c.params),s=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((r=this)._t.apply(r,[t,e,a,i].concat(s)),n)},J.prototype.fetchChoice=function(t,e){if(!t||!u(t))return null;var a=t.split("|");return e=this.getChoiceIndex(e,a.length),a[e]?a[e].trim():t},J.prototype.tc=function(t,e){var a,i=[],n=arguments.length-2;while(n-- >0)i[n]=arguments[n+2];return(a=this)._tc.apply(a,[t,this.locale,this._getMessages(),null,e].concat(i))},J.prototype._te=function(t,e,a){var i=[],n=arguments.length-3;while(n-- >0)i[n]=arguments[n+3];var r=p.apply(void 0,i).locale||e;return this._exist(a[r],t)},J.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},J.prototype.getLocaleMessage=function(t){return h(this._vm.messages[t]||{})},J.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},J.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,v("undefined"!==typeof this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?Object.assign({},this._vm.messages[t]):{},e))},J.prototype.getDateTimeFormat=function(t){return h(this._vm.dateTimeFormats[t]||{})},J.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},J.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,v(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},J.prototype._clearDateTimeFormat=function(t,e){for(var a in e){var i=t+"__"+a;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}},J.prototype._localizeDateTime=function(t,e,a,i,n,r){for(var s=e,o=i[s],u=this._getLocaleChain(e,a),c=0;c<u.length;c++){var l=u[c];if(o=i[l],s=l,!d(o)&&!d(o[n]))break}if(d(o)||d(o[n]))return null;var f,p=o[n];if(r)f=new Intl.DateTimeFormat(s,Object.assign({},p,r));else{var h=s+"__"+n;f=this._dateTimeFormatters[h],f||(f=this._dateTimeFormatters[h]=new Intl.DateTimeFormat(s,p))}return f.format(t)},J.prototype._d=function(t,e,a,i){if(!a){var n=i?new Intl.DateTimeFormat(e,i):new Intl.DateTimeFormat(e);return n.format(t)}var r=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),a,i);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,a,e)}return r||""},J.prototype.d=function(t){var e=[],a=arguments.length-1;while(a-- >0)e[a]=arguments[a+1];var i=this.locale,r=null,o=null;return 1===e.length?(u(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(r=e[0].key)),o=Object.keys(e[0]).reduce((function(t,a){var i;return m(n,a)?Object.assign({},t,(i={},i[a]=e[0][a],i)):t}),null)):2===e.length&&(u(e[0])&&(r=e[0]),u(e[1])&&(i=e[1])),this._d(t,i,r,o)},J.prototype.getNumberFormat=function(t){return h(this._vm.numberFormats[t]||{})},J.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},J.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,v(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},J.prototype._clearNumberFormat=function(t,e){for(var a in e){var i=t+"__"+a;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}},J.prototype._getNumberFormatter=function(t,e,a,i,n,r){for(var s=e,o=i[s],u=this._getLocaleChain(e,a),c=0;c<u.length;c++){var l=u[c];if(o=i[l],s=l,!d(o)&&!d(o[n]))break}if(d(o)||d(o[n]))return null;var f,p=o[n];if(r)f=new Intl.NumberFormat(s,Object.assign({},p,r));else{var h=s+"__"+n;f=this._numberFormatters[h],f||(f=this._numberFormatters[h]=new Intl.NumberFormat(s,p))}return f},J.prototype._n=function(t,e,a,i){if(!J.availabilities.numberFormat)return"";if(!a){var n=i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e);return n.format(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),a,i),s=r&&r.format(t);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:a,locale:e},i))}return s||""},J.prototype.n=function(t){var e=[],a=arguments.length-1;while(a-- >0)e[a]=arguments[a+1];var n=this.locale,r=null,o=null;return 1===e.length?u(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(n=e[0].locale),e[0].key&&(r=e[0].key),o=Object.keys(e[0]).reduce((function(t,a){var n;return m(i,a)?Object.assign({},t,(n={},n[a]=e[0][a],n)):t}),null)):2===e.length&&(u(e[0])&&(r=e[0]),u(e[1])&&(n=e[1])),this._n(t,n,r,o)},J.prototype._ntp=function(t,e,a,i){if(!J.availabilities.numberFormat)return[];if(!a){var n=i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e);return n.formatToParts(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),a,i),s=r&&r.formatToParts(t);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,a,i)}return s||[]},Object.defineProperties(J.prototype,Y),Object.defineProperty(J,"availabilities",{get:function(){if(!z){var t="undefined"!==typeof Intl;z={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return z}}),J.install=I,J.version="8.28.2",e["default"]=J},a9f6:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("9523")),o=n(a("c973")),u=n(a("278c")),c=a("7c5a"),l=a("527a"),d=n(a("2321")),f=a("ad22"),p=n(a("f808"));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var v=[{title:"\u9519\u8bef\u603b\u6570",value:0,tooltip:"\u6307\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u9519\u8bef\u7684\u603b\u6570"},{title:"\u9519\u8bef\u7387",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u9519\u8bef\u6570/\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],y=t.database(),b=y.command,x={},w={data:function(){return{uniStat:p.default.uniStat,fieldsMap:l.fieldsMap,popupFieldsMap:l.popupFieldsMap,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},uploadOptions:(0,c.createUniStatQuery)({appid:"",uni_platform:""}),uploadMsg:"",options:{pageSize:20,pageCurrent:1,total:0},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(v)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u9519\u8bef\u6b21\u6570"},{_id:"errorRate",name:"\u9519\u8bef\u7387"}],errMsg:"",msgLoading:!1,uploadFile:{tempFileTasks:[],tempFiles:[],clear:function(){this.tempFileTasks.length=this.tempFiles.length=0}},uploadSuccessTaskNames:[],errorItem:"",errorMessage:""}},components:{uploadTask:d.default},computed:{queryStr:function(){return(0,c.stringifyQuery)(this.query)},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,c.stringifyQuery)((0,c.createUniStatQuery)({appid:e,uni_platform:a}));return i},uploadVersionQuery:function(){var t=this.uploadOptions,e=t.appid,a=t.uni_platform,i=(0,c.stringifyQuery)((0,c.createUniStatQuery)({appid:e,uni_platform:a}));return i},vaildate:function(){var t=this,e=Object.keys(this.uploadOptions).every((function(e){return t.uploadOptions[e]}));return e&&this.uploadMsg&&(this.uploadMsg=""),e},uploadSuccessTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1===t.state}))},sortUploadFileTempFileTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1!==t.state})).sort((function(t,e){return t.state-e.state}))},sourceMapEnabled:function(){return!0},channelQuery:function(){var t=this.query.platform_id;return(0,c.stringifyQuery)({platform_id:t})}},created:function(){var e=this;if(this.parsedErrors={},this.sourceMapEnabled)if(this.uniStat.uploadSourceMapCloudSpaceId)if("aliyun"===this.uniStat.uploadSourceMapCloudPlatform){var a=0===this.uniStat.uploadSourceMapCloudSpaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com";this.uploadSourcemapCloud=t.init({provider:"aliyun",spaceId:this.uniStat.uploadSourceMapCloudSpaceId,clientSecret:this.uniStat.uploadSourceMapCloudClientSecret,endpoint:a})}else this.uploadSourcemapCloud=t.init({provider:"tencent",spaceId:this.uniStat.uploadSourceMapCloudSpaceId});else this.uploadSourcemapCloud=t;this.getCloudDataDebounce=(0,c.debounce)((function(){e.getAllData(e.queryStr)}),300),this.getCloudDataDebounce()},watch:{query:{deep:!0,handler:function(t,e){this.options.pageCurrent=1,this.getCloudDataDebounce()}},chartTab:function(t){this.getChartData(this.queryStr)}},methods:{useDatetimePicker:function(t){this.currentDateTab=-1},changePlatform:function(t,e,a,i){this.query.version_id=0,this.uploadOptions.uni_platform=i.code,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,c.getTimeOfSomeDayAgo)(t),i=(0,c.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData(this.queryStr)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getChartData(t),this.getTableData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day_count",n=(0,c.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var s=t.database(),l=(0,u.default)(this.query.start_time,2),d=l[0],f=l[1],p=(0,c.getAllDateCN)(new Date(d),new Date(f));s.collection("uni-stat-error-result").where(n).groupBy("start_time").groupField("sum(count) as total_day_count").orderBy("start_time","desc").get({getCount:!0}).then(function(){var t=(0,o.default)(r.default.mark((function t(e){var s,o,u,l,d,f,h,m,g,v,y,b,x,w,C,$,k;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.result.count,s=e.result.data,o=[],p.forEach((function(t){var e=s.find((function(e){return e.start_time===t}));e?o.push(e):o.push({start_time:t,total_day_count:0})})),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},"errorCount"!==a.chartTab){t.next=13;break}l=u.series[0]={name:"\u9519\u8bef\u6b21\u6570",data:[]},d=u.categories,f=_(o);try{for(f.s();!(h=f.n()).done;)m=h.value,g=m.start_time,v=(0,c.formatDate)(g,"day"),y=m["total_".concat(i)],d.push(v),l.data.push(y)}catch(r){f.e(r)}finally{f.f()}a.chartData=u,t.next=21;break;case 13:return t.next=15,a.getDayLaunch(n);case 15:b=t.sent,x=u.series[0]={name:"\u9519\u8bef\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},w=u.categories,C=_(o);try{for(k=function(){var t=$.value,e=t.start_time,a=(0,c.formatDate)(e,"day"),n=t["total_".concat(i)];if(w.push(a),b.length){var r=b.find((function(e){return e.start_time===t.start_time})),s=w.indexOf(a);if(r){var o=100*n/r.day_app_launch_count;o=o.toFixed(2),x.data[s]=o}else x.data[s]=0}},C.s();!($=C.n()).done;)k()}catch(r){C.e(r)}finally{C.f()}a.chartData=u;case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){})).finally((function(){}))},getTotalCount:function(e){var a=t.database();return a.collection("uni-stat-error-result").where(e).groupBy("appid").groupField("sum(count) as total_count").get()},getTotalLaunch:function(e){var a=t.database();return a.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getDayLaunch:function(e){return(0,o.default)(r.default.mark((function a(){var i,n;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.database(),a.next=3,i.collection("uni-stat-result").where(e).groupBy("start_time").groupField("sum(app_launch_count) as day_app_launch_count").orderBy("start_time","asc").get();case 3:return n=a.sent,a.abrupt("return",n.result.data||[]);case 5:case"end":return a.stop()}}),a)})))()},getTableData:function(){var e=this,a=(arguments.length>0&&void 0!==arguments[0]||(0,c.stringifyQuery)(this.query),(0,c.stringifyQuery)(this.query,!1,["uni_platform"])),i=this.options.pageCurrent;this.loading=!0;var n=t.database(),r=(0,c.stringifyQuery)((0,c.createUniStatQuery)({appid:this.query.appid})),s=n.collection("uni-stat-error-result").where(a).getTemp(),o=n.collection("opendb-app-versions").where(r).getTemp(),u=n.collection("uni-stat-app-platforms").getTemp();n.collection(s,o,u).orderBy("count","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var i=t.result,n=i.count,r=i.data,s=[];e.panelData=JSON.parse(JSON.stringify(v));var o,u=_(r);try{for(u.s();!(o=u.n()).done;){var d=o.value;d.last_time=(0,c.parseDateTime)(d.last_time,"dateTime"),d.msgTooltip=d.msg,d.msg=d.msg?d.msg.substring(0,100)+"...":"";var f=d.version_id[0],p=d.platform_id[0];d.version=f&&f.version,d.platform=p&&p.name,d.platform_code=p&&p.code,s.push(d)}}catch(h){u.e(h)}finally{u.f()}e.getTotalCount(a).then((function(t){var i=t.result.data[0],n=i&&i.total_count;n&&(s.forEach((function(t){return t.total_count=Number(n)})),e.panelData[0].value=n);var r="";e.getTotalLaunch(a).then((function(t){var a=t.result.data[0];if(r=a&&a.total_app_launch_count,n&&r){var i=n/r;i=(100*i).toFixed(2)+"%",e.panelData[1].value=i}}))})).finally((function(){e.tableData=[],e.options.total=n,s.forEach((function(t){return(0,c.mapfields)(l.fieldsMap,t,t)})),e.tableData=s}))})).catch((function(t){})).finally((function(){e.loading=!1}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?error_hash=").concat(e.hash,"&create_time=").concat(e.start_time)),uni.navigateTo({url:t}))},closeErrPopup:function(){this.$refs.errMsg.close()},errMsgPopupChange:function(t){if(t.show){var e=this.errorItem.msgTooltip;if(this.msgLoading)return void this.closeErrPopup();e||(this.errMsg="\u6682\u65e0\u9519\u8bef\u6570\u636e"),this.errMsg="";this.parsedErrors[e];return this.msgLoading=!0,void this.parseError(this.errorItem)}this.msgLoading=!1},parseError:function(t){var e=this;return(0,o.default)(r.default.mark((function a(){var i,n,s,o,u,c,l;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.msgTooltip,n=t.appid,s=t.platform_code,o=t.version,u="/".concat(n,"/").concat(s,"/").concat(o,"/"),!(x[u]&&x[u].length>0)){a.next=6;break}c=x[u],a.next=10;break;case 6:return a.next=8,e.getSourceMapFileList({base:u});case 8:c=a.sent,c&&c.length>0?x[u]=c:"\u7f3a\u5c11".concat(u,"\u5bf9\u5e94\u7684sourceMap\uff0c\u8bf7\u5148\u4e0a\u4f20sourceMap");case 10:try{i=JSON.parse(i)}catch(r){}l={base:u,uniPlatform:s,splitThirdParty:!0},["ios","android","app"].indexOf(s)>-1&&(l.lineOffset=-1),(0,f.stacktracey)(i,{preset:m(m({},(0,f.uniStracktraceyPreset)(l)),{},{parseSourceMapUrl:function(t,e,a){if(-1!==a.indexOf("(")){var i=a.match(/\((.*)/);a=i&&i[1]}if(!u||!a)return"";if("undefined"!==typeof sourceRoot)return"".concat(a.replace(sourceRoot,u+"/"),".map");var n="";s.indexOf("mp-")>-1&&-1!==a.indexOf("app-service.js")&&(n=(u.match(/\w$/)?"/":"")+"__WEIXIN__",a===e&&(n+="/__APP__")),n&&a.match(/^\w/)&&(n+="/");var r,o="".concat(u).concat(n).concat(a,".map"),l="".concat("__UNI__/uni-stat/sourcemap").concat(o);if("web"===s){var d=a.substring(a.indexOf("/")+1),f="".concat(u).concat(n).concat(d,".map");r="".concat("__UNI__/uni-stat/sourcemap").concat(f)}var p=c.find((function(t){return[l,r].indexOf(t.cloud_path)>-1}));return p?p.url:l}})}).then((function(t){var a=t.userError,n=t.thirdParty,r=a.length&&n.length?"\n\n------------".concat(-1!==s.indexOf("mp-")?s:"uni-app"," runtime error------------\n\n"):"";e.errMsg="".concat(a).concat(r).concat(n),e.parsedErrors[i]=e.errMsg})).finally((function(){e.msgLoading=!1}));case 14:case"end":return a.stop()}}),a)})))()},openUploadPopup:function(){var t=this.query,e=t.appid,a=t.uni_platform;this.uploadOptions={appid:e,uni_platform:a},this.$refs.upload.open()},closeUploadPopup:function(){this.$refs.upload.close()},createUploadFileTask:function(t,e,a,i){var n=t+e;return this.uploadSourcemapCloud.uploadFile({filePath:a,cloudPath:n,onUploadProgress:i})},choosefile:function(){var e=this;return(0,o.default)(r.default.mark((function a(){var i,n,s,u,l,d,f;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.vaildate){a.next=3;break}return e.uploadMsg="\u8bf7\u5148\u5c06\u5e94\u7528\u3001\u5e73\u53f0\u3001\u7248\u672c\u586b\u5199\u5b8c\u6574",a.abrupt("return");case 3:i=e.uploadOptions,n=i.appid,s=i.uni_platform,u=i.version,l="/".concat(n,"/").concat(s,"/").concat(u,"/"),d="".concat("__UNI__/uni-stat/sourcemap").concat(l),f=document.createElement("input"),f.type="file",f.directory=!0,f.webkitdirectory=!0,f.click(),f.addEventListener("change",(0,o.default)(r.default.mark((function a(){var i,o,p,h;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.uploadFile.clear(),i=f.files,i.length){a.next=4;break}return a.abrupt("return");case 4:Array.prototype.forEach.call(i,(function(t){var a=(0,c.fileToUrl)(t);e.uploadFile.tempFileTasks.push({fileDiskPath:t.webkitRelativePath.split("/").slice(1).join("/"),path:a,size:"".concat((t.size/1024).toFixed(2),"kb"),name:t.name,state:0,progress:0,file:t}),Object.defineProperty(t,"path",{get:function(){return a}}),e.uploadFile.tempFiles.push(t)})),o=[],p=r.default.mark((function a(i){var c,f;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c=e.uploadFile.tempFileTasks[i],a.next=3,new Promise((function(a,i){-1!==e.uploadSuccessTaskNames.indexOf(c.name)?(c.progress=1,setTimeout((function(){c.state=1,a()}),200)):e.createUploadFileTask(d,c.fileDiskPath,c.path,(function(t){var e=t.loaded,a=t.total;c.progress=e/a})).then((function(i){var r=d+c.fileDiskPath,o=i.fileID;t.getTempFileURL({fileList:[o]}).then((function(t){var i=t.fileList[0].tempFileURL,d={appid:n,uni_platform:s,version:u,file_id:o,url:i,name:c.name,size:c.file.size,cloud_path:r,base:l};setTimeout((function(){e.uploadSuccessTaskNames.push(name),c.state=1,a(d)}),100)}))})).catch((function(t){c.state=-1,i("".concat(c.name," \u4e0a\u4f20\u5931\u8d25\uff1a")+JSON.stringify(t))}))}));case 3:f=a.sent,f&&o.push(f);case 5:case"end":return a.stop()}}),a)})),h=0;case 8:if(!(h<e.uploadFile.tempFileTasks.length)){a.next=13;break}return a.delegateYield(p(h),"t0",10);case 10:h++,a.next=8;break;case 13:if(!(o&&o.length>0)){a.next=16;break}return a.next=16,e.addSourceMapFile(o);case 16:case"end":return a.stop()}}),a)}))));case 12:case"end":return a.stop()}}),a)})))()},createStr:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",i=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var n=t.field;i.push("".concat(e,"(").concat(n,") as ").concat(a+n))}})),i.join()},openErrPopup:function(t){this.errorItem=t,this.$refs.errMsg.open()},addSourceMapFile:function(t){return(0,o.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],t.map((function(t,e){a.push(t.cloud_path)})),e.next=4,y.collection("uni-stat-error-source-map").where({cloud_path:b.in(a)}).remove();case 4:return e.next=6,y.collection("uni-stat-error-source-map").add(t);case 6:case"end":return e.stop()}}),e)})))()},getSourceMapFileList:function(t){return(0,o.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.base,e.next=3,y.collection("uni-stat-error-source-map").where({base:a}).limit(1e3).get();case 3:return i=e.sent,e.abrupt("return",i.result.data||[]);case 5:case"end":return e.stop()}}),e)})))()}}};e.default=w}).call(this,a("a9ff")["default"],a("0de9")["default"])},a9ff:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("3c96")),o=n(a("278c")),u=n(a("7037")),c=n(a("448a")),l=n(a("c973")),d=n(a("9523")),f=n(a("ed6d")),p=n(a("6b58")),h=n(a("36c6")),m=n(a("a128")),_=n(a("970b")),g=n(a("5bc3")),v=n(a("8b5a"));function y(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){(0,d.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=(0,h.default)(t);if(e){var n=(0,h.default)(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return(0,p.default)(this,a)}}function $(t,e,a){return t(a={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&a.path)}},a.exports),a.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var k=$((function(t,e){var a;t.exports=(a=a||function(t,e){var a=Object.create||function(){function t(){}return function(e){var a;return t.prototype=e,a=new t,t.prototype=null,a}}(),i={},n=i.lib={},r=n.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,a=t.words,i=this.sigBytes,n=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<n;r++){var s=a[r>>>2]>>>24-r%4*8&255;e[i+r>>>2]|=s<<24-(i+r)%4*8}else for(r=0;r<n;r+=4)e[i+r>>>2]=a[r>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,a=this.sigBytes;e[a>>>2]&=4294967295<<32-a%4*8,e.length=t.ceil(a/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var a,i=[],n=function(e){e=e;var a=987654321,i=4294967295;return function(){var n=((a=36969*(65535&a)+(a>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var o=n(4294967296*(a||t.random()));a=987654071*o(),i.push(4294967296*o()|0)}return new s.init(i,e)}}),o=i.enc={},u=o.Hex={stringify:function(t){for(var e=t.words,a=t.sigBytes,i=[],n=0;n<a;n++){var r=e[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,a=[],i=0;i<e;i+=2)a[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(a,e/2)}},c=o.Latin1={stringify:function(t){for(var e=t.words,a=t.sigBytes,i=[],n=0;n<a;n++){var r=e[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(t){for(var e=t.length,a=[],i=0;i<e;i++)a[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(a,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var a=this._data,i=a.words,n=a.sigBytes,r=this.blockSize,o=n/(4*r),u=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*r,c=t.min(4*u,n);if(u){for(var l=0;l<u;l+=r)this._doProcessBlock(i,l);var d=i.splice(0,u);a.sigBytes-=c}return new s.init(d,c)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=d.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,a){return new t.init(a).finalize(e)}},_createHmacHelper:function(t){return function(e,a){return new f.HMAC.init(t,a).finalize(e)}}});var f=i.algo={};return i}(Math),a)})),D=k,S=($((function(t,e){var a;t.exports=(a=D,function(t){var e=a,i=e.lib,n=i.WordArray,r=i.Hasher,s=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var a=0;a<16;a++){var i=e+a,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var r=this._hash.words,s=t[e+0],u=t[e+1],p=t[e+2],h=t[e+3],m=t[e+4],_=t[e+5],g=t[e+6],v=t[e+7],y=t[e+8],b=t[e+9],x=t[e+10],w=t[e+11],C=t[e+12],$=t[e+13],k=t[e+14],D=t[e+15],S=r[0],T=r[1],O=r[2],P=r[3];S=c(S,T,O,P,s,7,o[0]),P=c(P,S,T,O,u,12,o[1]),O=c(O,P,S,T,p,17,o[2]),T=c(T,O,P,S,h,22,o[3]),S=c(S,T,O,P,m,7,o[4]),P=c(P,S,T,O,_,12,o[5]),O=c(O,P,S,T,g,17,o[6]),T=c(T,O,P,S,v,22,o[7]),S=c(S,T,O,P,y,7,o[8]),P=c(P,S,T,O,b,12,o[9]),O=c(O,P,S,T,x,17,o[10]),T=c(T,O,P,S,w,22,o[11]),S=c(S,T,O,P,C,7,o[12]),P=c(P,S,T,O,$,12,o[13]),O=c(O,P,S,T,k,17,o[14]),S=l(S,T=c(T,O,P,S,D,22,o[15]),O,P,u,5,o[16]),P=l(P,S,T,O,g,9,o[17]),O=l(O,P,S,T,w,14,o[18]),T=l(T,O,P,S,s,20,o[19]),S=l(S,T,O,P,_,5,o[20]),P=l(P,S,T,O,x,9,o[21]),O=l(O,P,S,T,D,14,o[22]),T=l(T,O,P,S,m,20,o[23]),S=l(S,T,O,P,b,5,o[24]),P=l(P,S,T,O,k,9,o[25]),O=l(O,P,S,T,h,14,o[26]),T=l(T,O,P,S,y,20,o[27]),S=l(S,T,O,P,$,5,o[28]),P=l(P,S,T,O,p,9,o[29]),O=l(O,P,S,T,v,14,o[30]),S=d(S,T=l(T,O,P,S,C,20,o[31]),O,P,_,4,o[32]),P=d(P,S,T,O,y,11,o[33]),O=d(O,P,S,T,w,16,o[34]),T=d(T,O,P,S,k,23,o[35]),S=d(S,T,O,P,u,4,o[36]),P=d(P,S,T,O,m,11,o[37]),O=d(O,P,S,T,v,16,o[38]),T=d(T,O,P,S,x,23,o[39]),S=d(S,T,O,P,$,4,o[40]),P=d(P,S,T,O,s,11,o[41]),O=d(O,P,S,T,h,16,o[42]),T=d(T,O,P,S,g,23,o[43]),S=d(S,T,O,P,b,4,o[44]),P=d(P,S,T,O,C,11,o[45]),O=d(O,P,S,T,D,16,o[46]),S=f(S,T=d(T,O,P,S,p,23,o[47]),O,P,s,6,o[48]),P=f(P,S,T,O,v,10,o[49]),O=f(O,P,S,T,k,15,o[50]),T=f(T,O,P,S,_,21,o[51]),S=f(S,T,O,P,C,6,o[52]),P=f(P,S,T,O,h,10,o[53]),O=f(O,P,S,T,x,15,o[54]),T=f(T,O,P,S,u,21,o[55]),S=f(S,T,O,P,y,6,o[56]),P=f(P,S,T,O,D,10,o[57]),O=f(O,P,S,T,g,15,o[58]),T=f(T,O,P,S,$,21,o[59]),S=f(S,T,O,P,m,6,o[60]),P=f(P,S,T,O,w,10,o[61]),O=f(O,P,S,T,p,15,o[62]),T=f(T,O,P,S,b,21,o[63]),r[0]=r[0]+S|0,r[1]=r[1]+T|0,r[2]=r[2]+O|0,r[3]=r[3]+P|0},_doFinalize:function(){var e=this._data,a=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;a[n>>>5]|=128<<24-n%32;var r=t.floor(i/4294967296),s=i;a[15+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),a[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(a.length+1),this._process();for(var o=this._hash,u=o.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,a,i,n,r,s){var o=t+(e&a|~e&i)+n+s;return(o<<r|o>>>32-r)+e}function l(t,e,a,i,n,r,s){var o=t+(e&i|a&~i)+n+s;return(o<<r|o>>>32-r)+e}function d(t,e,a,i,n,r,s){var o=t+(e^a^i)+n+s;return(o<<r|o>>>32-r)+e}function f(t,e,a,i,n,r,s){var o=t+(a^(e|~i))+n+s;return(o<<r|o>>>32-r)+e}e.MD5=r._createHelper(u),e.HmacMD5=r._createHmacHelper(u)}(Math),a.MD5)})),$((function(t,e){var a;t.exports=(a=D,void function(){var t=a,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var a=t.blockSize,n=4*a;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),s=this._iKey=e.clone(),o=r.words,u=s.words,c=0;c<a;c++)o[c]^=1549556828,u[c]^=909522486;r.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,a=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(a))}})}())})),$((function(t,e){t.exports=D.HmacMD5}))),T=$((function(t,e){t.exports=D.enc.Utf8})),O=$((function(t,e){var a;t.exports=(a=D,function(){var t=a,e=t.lib.WordArray;function i(t,a,i){for(var n=[],r=0,s=0;s<a;s++)if(s%4){var o=i[t.charCodeAt(s-1)]<<s%4*2,u=i[t.charCodeAt(s)]>>>6-s%4*2;n[r>>>2]|=(o|u)<<24-r%4*8,r++}return e.create(n,r)}t.enc.Base64={stringify:function(t){var e=t.words,a=t.sigBytes,i=this._map;t.clamp();for(var n=[],r=0;r<a;r+=3)for(var s=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<a;o++)n.push(i.charAt(s>>>6*(3-o)&63));var u=i.charAt(64);if(u)for(;n.length%4;)n.push(u);return n.join("")},parse:function(t){var e=t.length,a=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var r=0;r<a.length;r++)n[a.charCodeAt(r)]=r}var s=a.charAt(64);if(s){var o=t.indexOf(s);-1!==o&&(e=o)}return i(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),a.enc.Base64)})),P="FUNCTION",M="OBJECT",A="pending",I="fulfilled",j="rejected";function F(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function L(t){return"object"===F(t)}function E(t){return"function"==typeof t}function q(t){return function(){try{return t.apply(t,arguments)}catch(t){}}}var R="REJECTED",N="NOT_PENDING",B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.createPromise,i=e.retryRule,n=void 0===i?R:i;(0,_.default)(this,t),this.createPromise=a,this.status=null,this.promise=null,this.retryRule=n}return(0,g.default)(t,[{key:"needRetry",get:function(){if(!this.status)return!0;switch(this.retryRule){case R:return this.status===j;case N:return this.status!==A}}},{key:"exec",value:function(){var t=this;return this.needRetry?(this.status=A,this.promise=this.createPromise().then((function(e){return t.status=I,Promise.resolve(e)}),(function(e){return t.status=j,Promise.reject(e)})),this.promise):this.promise}}]),t}();function z(t){return t&&"string"==typeof t?JSON.parse(t):t}var W=z([]),U="app",V=(z(void 0),z([{provider:"aliyun",spaceName:"btcy",spaceId:"mp-75023985-293f-4294-8558-dded44fba640",clientSecret:"81hujzrOA+CJHn0iViDnvQ=="}])||[]);try{(a("6332").default||a("6332")).appid}catch(ui){}var H={};function G(t){var e,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=H,a=t,Object.prototype.hasOwnProperty.call(e,a)||(H[t]=i),H[t]}"app"===U&&(H=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var Q=["invoke","success","fail","complete"],J=G("_globalUniCloudInterceptor");function Y(t,e){J[t]||(J[t]={}),L(e)&&Object.keys(e).forEach((function(a){Q.indexOf(a)>-1&&function(t,e,a){var i=J[t][e];i||(i=J[t][e]=[]),-1===i.indexOf(a)&&E(a)&&i.push(a)}(t,a,e[a])}))}function K(t,e){J[t]||(J[t]={}),L(e)?Object.keys(e).forEach((function(a){Q.indexOf(a)>-1&&function(t,e,a){var i=J[t][e];if(i){var n=i.indexOf(a);n>-1&&i.splice(n,1)}}(t,a,e[a])})):delete J[t]}function X(t,e){return t&&0!==t.length?t.reduce((function(t,a){return t.then((function(){return a(e)}))}),Promise.resolve()):Promise.resolve()}function Z(t,e){return J[t]&&J[t][e]||[]}function tt(t){Y("callObject",t)}var et=G("_globalUniCloudListener"),at="response",it="needLogin",nt="refreshToken",rt="clientdb",st="cloudfunction",ot="cloudobject";function ut(t){return et[t]||(et[t]=[]),et[t]}function ct(t,e){var a=ut(t);a.includes(e)||a.push(e)}function lt(t,e){var a=ut(t),i=a.indexOf(e);-1!==i&&a.splice(i,1)}function dt(t,e){for(var a=ut(t),i=0;i<a.length;i++)(0,a[i])(e)}var ft,pt=!1;function ht(){return ft||(ft=new Promise((function(t){pt&&t(),function e(){if("function"==typeof getCurrentPages){var a=getCurrentPages();a&&a[0]&&(pt=!0,t())}pt||setTimeout((function(){e()}),30)}()})),ft)}function mt(t){var e={};for(var a in t){var i=t[a];E(i)&&(e[a]=q(i))}return e}var _t,gt,vt=function(t){(0,f.default)(a,t);var e=C(a);function a(t){var i;return(0,_.default)(this,a),i=e.call(this,t.message),i.errMsg=t.message||t.errMsg||"unknown system error",i.code=i.errCode=t.code||t.errCode||"SYSTEM_ERROR",i.errSubject=i.subject=t.subject||t.errSubject,i.cause=t.cause,i.requestId=t.requestId,i}return(0,g.default)(a,[{key:"toJson",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}]),a}((0,m.default)(Error)),yt={request:function(t){return uni.request(t)},uploadFile:function(t){return uni.uploadFile(t)},setStorageSync:function(t,e){return uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},removeStorageSync:function(t){return uni.removeStorageSync(t)},clearStorageSync:function(){return uni.clearStorageSync()}};function bt(){return{token:yt.getStorageSync("uni_id_token")||yt.getStorageSync("uniIdToken"),tokenExpired:yt.getStorageSync("uni_id_token_expired")}}function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,a=t.tokenExpired;e&&yt.setStorageSync("uni_id_token",e),a&&yt.setStorageSync("uni_id_token_expired",a)}function wt(){return _t||(_t=uni.getSystemInfoSync()),_t}function Ct(){var t=uni.getLocale&&uni.getLocale()||"en";if(gt)return w(w({},gt),{},{locale:t,LOCALE:t});for(var e=wt(),a=e.deviceId,i=e.osName,n=e.uniPlatform,r=e.appId,s=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"],o=0;o<s.length;o++)delete e[s[o]];return gt=w(w({PLATFORM:n,OS:i,APPID:r,DEVICEID:a},function(){var t,e;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;var a=uni.getLaunchOptionsSync(),i=a.scene,n=a.channel;t=n,e=i}}catch(t){}return{channel:t,scene:e}}()),e),w(w({},gt),{},{locale:t,LOCALE:t})}var $t,kt={sign:function(t,e){var a="";return Object.keys(t).sort().forEach((function(e){t[e]&&(a=a+"&"+e+"="+t[e])})),a=a.slice(1),S(a,e).toString()},wrappedRequest:function(t,e){return new Promise((function(a,i){e(Object.assign(t,{complete:function(t){t||(t={});var e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return i(new vt({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));var n=t.data;if(n.error)return i(new vt({code:n.error.code,message:n.error.message,requestId:e}));n.result=n.data,n.requestId=e,delete n.data,a(n)}}))}))},toBase64:function(t){return O.stringify(T.parse(t))}},Dt=function(){function t(e){var a=this;(0,_.default)(this,t),["spaceId","clientSecret"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("".concat(t," required"))})),this.config=Object.assign({},{endpoint:0===e.spaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=yt,this._getAccessTokenPromiseHub=new B({createPromise:function(){return a.requestAuth(a.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(t){if(!t.result||!t.result.accessToken)throw new vt({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"});a.setAccessToken(t.result.accessToken)}))},retryRule:N})}return(0,g.default)(t,[{key:"hasAccessToken",get:function(){return!!this.accessToken}},{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"requestWrapped",value:function(t){return kt.wrappedRequest(t,this.adapter.request)}},{key:"requestAuth",value:function(t){return this.requestWrapped(t)}},{key:"request",value:function(t,e){var a=this;return Promise.resolve().then((function(){return a.hasAccessToken?e?a.requestWrapped(t):a.requestWrapped(t).catch((function(e){return new Promise((function(t,a){!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?a(e):t()})).then((function(){return a.getAccessToken()})).then((function(){var e=a.rebuildRequest(t);return a.request(e,!0)}))})):a.getAccessToken().then((function(){var e=a.rebuildRequest(t);return a.request(e,!0)}))}))}},{key:"rebuildRequest",value:function(t){var e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=kt.sign(e.data,this.config.clientSecret),e}},{key:"setupRequest",value:function(t,e){var a=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return"auth"!==e&&(a.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=kt.sign(a,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:a,dataType:"json",header:i}}},{key:"getAccessToken",value:function(){return this._getAccessTokenPromiseHub.exec()}},{key:"authorize",value:function(){var t=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccessToken();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"callFunction",value:function(t){var e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}},{key:"getOSSUploadOptionsFromPath",value:function(t){var e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFileToOSS",value:function(t){var e=this,a=t.url,i=t.formData,n=t.name,r=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,u){var c=e.adapter.uploadFile({url:a,formData:i,name:n,filePath:r,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(e){e&&e.statusCode<400?t(e):u(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){u(new vt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(t){var e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFile",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i,n,s,o,u,c,l,d,f,p,h,m,_,g,v,y,b,x,w,C,$;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.filePath,i=e.cloudPath,n=e.fileType,s=void 0===n?"image":n,o=e.cloudPathAsRealPath,u=void 0!==o&&o,c=e.onUploadProgress,l=e.config,"string"===F(i)){t.next=3;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});case 3:if(i=i.trim()){t.next=5;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});case 5:if(!/:\/\//.test(i)){t.next=7;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});case 7:if(d=l&&l.envType||this.config.envType,!(u&&("/"!==i[0]&&(i="/"+i),i.indexOf("\\")>-1))){t.next=10;break}throw new vt({code:"INVALID_PARAM",message:"\u4f7f\u7528cloudPath\u4f5c\u4e3a\u8def\u5f84\u65f6\uff0ccloudPath\u4e0d\u53ef\u5305\u542b\u201c\\\u201d"});case 10:return t.next=12,this.getOSSUploadOptionsFromPath({env:d,filename:u?i.split("/").pop():i,fileId:u?i:void 0});case 12:return f=t.sent.result,p="https://"+f.cdnDomain+"/"+f.ossPath,h=f.securityToken,m=f.accessKeyId,_=f.signature,g=f.host,v=f.ossPath,y=f.id,b=f.policy,x=f.ossCallbackUrl,w={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:m,Signature:_,host:g,id:y,key:v,policy:b,success_action_status:200},h&&(w["x-oss-security-token"]=h),x&&(C=JSON.stringify({callbackUrl:x,callbackBody:JSON.stringify({fileId:y,spaceId:this.config.spaceId}),callbackBodyType:"application/json"}),w.callback=kt.toBase64(C)),$={url:"https://"+f.host,formData:w,fileName:"file",name:"file",filePath:a,fileType:s},t.next=27,this.uploadFileToOSS(Object.assign({},$,{onUploadProgress:c}));case 27:if(!x){t.next=29;break}return t.abrupt("return",{success:!0,filePath:a,fileID:p});case 29:return t.next=31,this.reportOSSUpload({id:y});case 31:if(!t.sent.success){t.next=33;break}return t.abrupt("return",{success:!0,filePath:a,fileID:p});case 33:throw new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"});case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;return new Promise((function(t,a){Array.isArray(e)&&0!==e.length||a(new vt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),t({fileList:e.map((function(t){return{fileID:t,tempFileURL:t}}))})}))}},{key:"getFileInfo",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:{},a=e.fileList,Array.isArray(a)&&0!==a.length){t.next=3;break}throw new vt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});case 3:return i={method:"serverless.file.resource.info",params:JSON.stringify({id:a.map((function(t){return t.split("?")[0]})).join(",")})},t.next=6,this.request(this.setupRequest(i));case 6:return t.t0=t.sent.result,t.abrupt("return",{fileList:t.t0});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),St={init:function(t){var e=new Dt(t),a={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return a},e.customAuth=e.auth,e}},Tt="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(t){t.local="local",t.none="none",t.session="session"}($t||($t={}));var Ot,Pt=function(){},Mt=$((function(t,e){var a;t.exports=(a=D,function(t){var e=a,i=e.lib,n=i.WordArray,r=i.Hasher,s=e.algo,o=[],u=[];!function(){function e(e){for(var a=t.sqrt(e),i=2;i<=a;i++)if(!(e%i))return!1;return!0}function a(t){return 4294967296*(t-(0|t))|0}for(var i=2,n=0;n<64;)e(i)&&(n<8&&(o[n]=a(t.pow(i,.5))),u[n]=a(t.pow(i,1/3)),n++),i++}();var c=[],l=s.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var a=this._hash.words,i=a[0],n=a[1],r=a[2],s=a[3],o=a[4],l=a[5],d=a[6],f=a[7],p=0;p<64;p++){if(p<16)c[p]=0|t[e+p];else{var h=c[p-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,_=c[p-2],g=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;c[p]=m+c[p-7]+g+c[p-16]}var v=i&n^i&r^n&r,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=f+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&l^~o&d)+u[p]+c[p];f=d,d=l,l=o,o=s+b|0,s=r,r=n,n=i,i=b+(y+v)|0}a[0]=a[0]+i|0,a[1]=a[1]+n|0,a[2]=a[2]+r|0,a[3]=a[3]+s|0,a[4]=a[4]+o|0,a[5]=a[5]+l|0,a[6]=a[6]+d|0,a[7]=a[7]+f|0},_doFinalize:function(){var e=this._data,a=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return a[n>>>5]|=128<<24-n%32,a[14+(n+64>>>9<<4)]=t.floor(i/4294967296),a[15+(n+64>>>9<<4)]=i,e.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(l),e.HmacSHA256=r._createHmacHelper(l)}(Math),a.SHA256)})),At=Mt,It=$((function(t,e){t.exports=D.HmacSHA256})),jt=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new vt({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var a=new Promise((function(e,a){t=function(t,i){return t?a(t):e(i)}}));return t.promise=a,t};function Ft(t){return void 0===t}function Lt(t){return"[object Null]"===Object.prototype.toString.call(t)}!function(t){t.WEB="web",t.WX_MP="wx_mp"}(Ot||(Ot={}));var Et={adapter:null,runtime:void 0},qt=["anonymousUuidKey"],Rt=function(t){(0,f.default)(a,t);var e=C(a);function a(){var t;return(0,_.default)(this,a),t=e.call(this),Et.adapter.root.tcbObject||(Et.adapter.root.tcbObject={}),t}return(0,g.default)(a,[{key:"setItem",value:function(t,e){Et.adapter.root.tcbObject[t]=e}},{key:"getItem",value:function(t){return Et.adapter.root.tcbObject[t]}},{key:"removeItem",value:function(t){delete Et.adapter.root.tcbObject[t]}},{key:"clear",value:function(){delete Et.adapter.root.tcbObject}}]),a}(Pt);function Nt(t,e){switch(t){case"local":return e.localStorage||new Rt;case"none":return new Rt;default:return e.sessionStorage||new Rt}}var Bt=function(){function t(e){if((0,_.default)(this,t),!this._storage){this._persistence=Et.adapter.primaryStorage||e.persistence,this._storage=Nt(this._persistence,Et.adapter);var a="access_token_".concat(e.env),i="access_token_expire_".concat(e.env),n="refresh_token_".concat(e.env),r="anonymous_uuid_".concat(e.env),s="login_type_".concat(e.env),o="user_info_".concat(e.env);this.keys={accessTokenKey:a,accessTokenExpireKey:i,refreshTokenKey:n,anonymousUuidKey:r,loginTypeKey:s,userInfoKey:o}}}return(0,g.default)(t,[{key:"updatePersistence",value:function(t){if(t!==this._persistence){var e="local"===this._persistence;this._persistence=t;var a=Nt(t,Et.adapter);for(var i in this.keys){var n=this.keys[i];if(!e||!qt.includes(i)){var r=this._storage.getItem(n);Ft(r)||Lt(r)||(a.setItem(n,r),this._storage.removeItem(n))}}this._storage=a}}},{key:"setStore",value:function(t,e,a){if(this._storage){var i={version:a||"localCachev1",content:e},n=JSON.stringify(i);try{this._storage.setItem(t,n)}catch(t){throw t}}}},{key:"getStore",value:function(t,e){try{if(!this._storage)return}catch(t){return""}e=e||"localCachev1";var a=this._storage.getItem(t);return a&&a.indexOf(e)>=0?JSON.parse(a).content:""}},{key:"removeStore",value:function(t){this._storage.removeItem(t)}}]),t}(),zt={},Wt={};function Ut(t){return zt[t]}var Vt=(0,g.default)((function t(e,a){(0,_.default)(this,t),this.data=a||null,this.name=e})),Ht=function(t){(0,f.default)(a,t);var e=C(a);function a(t,i){var n;return(0,_.default)(this,a),n=e.call(this,"error",{error:t,data:i}),n.error=t,n}return(0,g.default)(a)}(Vt),Gt=new(function(){function t(){(0,_.default)(this,t),this._listeners={}}return(0,g.default)(t,[{key:"on",value:function(t,e){return function(t,e,a){a[t]=a[t]||[],a[t].push(e)}(t,e,this._listeners),this}},{key:"off",value:function(t,e){return function(t,e,a){if(a&&a[t]){var i=a[t].indexOf(e);-1!==i&&a[t].splice(i,1)}}(t,e,this._listeners),this}},{key:"fire",value:function(t,e){if(t instanceof Ht)return this;var a="string"==typeof t?new Vt(t,e||{}):t,i=a.name;if(this._listens(i)){a.target=this;var n,r=this._listeners[i]?(0,c.default)(this._listeners[i]):[],s=y(r);try{for(s.s();!(n=s.n()).done;){var o=n.value;o.call(this,a)}}catch(u){s.e(u)}finally{s.f()}}return this}},{key:"_listens",value:function(t){return this._listeners[t]&&this._listeners[t].length>0}}]),t}());function Qt(t,e){Gt.on(t,e)}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gt.fire(t,e)}function Yt(t,e){Gt.off(t,e)}var Kt,Xt="loginStateChanged",Zt="loginStateExpire",te="loginTypeChanged",ee="anonymousConverted",ae="refreshAccessToken";!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(Kt||(Kt={}));var ie=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],ne={"X-SDK-Version":"1.3.5"};function re(t,e,a){var i=t[e];t[e]=function(e){var n={},r={};a.forEach((function(a){var i=a.call(t,e),s=i.data,o=i.headers;Object.assign(n,s),Object.assign(r,o)}));var s=e.data;return s&&function(){var t;if(t=s,"[object FormData]"!==Object.prototype.toString.call(t))e.data=w(w({},s),n);else for(var a in n)s.append(a,n[a])}(),e.headers=w(w({},e.headers||{}),r),i.call(t,e)}}function se(){var t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:w(w({},ne),{},{"x-seqid":t})}}var oe=function(){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_.default)(this,t),this.config=a,this._reqClass=new Et.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=Ut(this.config.env),this._localCache=(e=this.config.env,Wt[e]),re(this._reqClass,"post",[se]),re(this._reqClass,"upload",[se]),re(this._reqClass,"download",[se])}return(0,g.default)(t,[{key:"post",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.post(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"upload",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.upload(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"download",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.download(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"refreshAccessToken",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),t.prev=1,t.next=4,this._refreshAccessTokenPromise;case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),a=t.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!a){t.next=12;break}throw a;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"_refreshAccessToken",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o,u,c,l,d,f,p,h;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,n=e.refreshTokenKey,s=e.loginTypeKey,o=e.anonymousUuidKey,this._cache.removeStore(a),this._cache.removeStore(i),u=this._cache.getStore(n),u){t.next=5;break}throw new vt({message:"\u672a\u767b\u5f55CloudBase"});case 5:return c={refresh_token:u},t.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",c);case 8:if(l=t.sent,!l.data.code){t.next=21;break}if(d=l.data.code,"SIGN_PARAM_INVALID"!==d&&"REFRESH_TOKEN_EXPIRED"!==d&&"INVALID_REFRESH_TOKEN"!==d){t.next=20;break}if(this._cache.getStore(s)!==Kt.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==d){t.next=19;break}return f=this._cache.getStore(o),p=this._cache.getStore(n),t.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:p});case 17:return h=t.sent,t.abrupt("return",(this.setRefreshToken(h.refresh_token),this._refreshAccessToken()));case 19:Jt(Zt),this._cache.removeStore(n);case 20:throw new vt({code:l.data.code,message:"\u5237\u65b0access token\u5931\u8d25\uff1a".concat(l.data.code)});case 21:if(!l.data.access_token){t.next=23;break}return t.abrupt("return",(Jt(ae),this._cache.setStore(a,l.data.access_token),this._cache.setStore(i,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire}));case 23:l.data.refresh_token&&(this._cache.removeStore(n),this._cache.setStore(n,l.data.refresh_token),this._refreshAccessToken());case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,n=e.refreshTokenKey,this._cache.getStore(n)){t.next=3;break}throw new vt({message:"refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38"});case 3:if(s=this._cache.getStore(a),o=this._cache.getStore(i),u=!0,t.t0=this._shouldRefreshAccessTokenHook,!t.t0){t.next=9;break}return t.next=8,this._shouldRefreshAccessTokenHook(s,o);case 8:t.t0=!t.sent;case 9:if(t.t1=t.t0,!t.t1){t.next=12;break}u=!1;case 12:return t.abrupt("return",(!s||!o||o<Date.now())&&u?this.refreshAccessToken():{accessToken:s,accessTokenExpire:o});case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"request",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a,i){var n,s,o,u,c,l,d,f,p,h,m,_,g,v,y,b;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="x-tcb-trace_".concat(this.config.env),s="application/x-www-form-urlencoded",o=w({action:e,env:this.config.env,dataVersion:"2019-08-16"},a),-1!==ie.indexOf(e)){t.next=10;break}if(u=this._cache.keys.refreshTokenKey,t.t0=this._cache.getStore(u),!t.t0){t.next=10;break}return t.next=9,this.getAccessToken();case 9:o.access_token=t.sent.accessToken;case 10:if("storage.uploadFile"===e){for(l in c=new FormData,c)c.hasOwnProperty(l)&&void 0!==c[l]&&c.append(l,o[l]);s="multipart/form-data"}else for(d in s="application/json",c={},o)void 0!==o[d]&&(c[d]=o[d]);return f={headers:{"content-type":s}},i&&i.onUploadProgress&&(f.onUploadProgress=i.onUploadProgress),p=this._localCache.getStore(n),p&&(f.headers["X-TCB-Trace"]=p),h=a.parse,m=a.inQuery,_=a.search,g={env:this.config.env},h&&(g.parse=!0),m&&(g=w(w({},m),g)),v=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=/\?/.test(e),n="";for(var r in a)""===n?!i&&(e+="?"):n+="&",n+="".concat(r,"=").concat(encodeURIComponent(a[r]));return/^http(s)?\:\/\//.test(e+=n)?e:"".concat(t).concat(e)}(Tt,"//tcb-api.tencentcloudapi.com/web",g),_&&(v+=_),t.next=22,this.post(w({url:v,data:c},f));case 22:if(y=t.sent,b=y.header&&y.header["x-tcb-trace"],b&&this._localCache.setStore(n,b),(200===Number(y.status)||200===Number(y.statusCode))&&y.data){t.next=26;break}throw new vt({code:"NETWORK_ERROR",message:"network request error"});case 26:return t.abrupt("return",y);case 27:case"end":return t.stop()}}),t,this)})));return function(e,a,i){return t.apply(this,arguments)}}()},{key:"send",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i,n,s=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,this.request(e,a,{onUploadProgress:a.onUploadProgress});case 3:if(i=t.sent,"ACCESS_TOKEN_EXPIRED"!==i.data.code||-1!==ie.indexOf(e)){t.next=13;break}return t.next=7,this.refreshAccessToken();case 7:return t.next=9,this.request(e,a,{onUploadProgress:a.onUploadProgress});case 9:if(n=t.sent,!n.data.code){t.next=12;break}throw new vt({code:n.data.code,message:n.data.message});case 12:return t.abrupt("return",n.data);case 13:if(!i.data.code){t.next=15;break}throw new vt({code:i.data.code,message:i.data.message});case 15:return t.abrupt("return",i.data);case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setRefreshToken",value:function(t){var e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,n=e.refreshTokenKey;this._cache.removeStore(a),this._cache.removeStore(i),this._cache.setStore(n,t)}}]),t}(),ue={};function ce(t){return ue[t]}var le=function(){function t(e){(0,_.default)(this,t),this.config=e,this._cache=Ut(e.env),this._request=ce(e.env)}return(0,g.default)(t,[{key:"setRefreshToken",value:function(t){var e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,n=e.refreshTokenKey;this._cache.removeStore(a),this._cache.removeStore(i),this._cache.setStore(n,t)}},{key:"setAccessToken",value:function(t,e){var a=this._cache.keys,i=a.accessTokenKey,n=a.accessTokenExpireKey;this._cache.setStore(i,t),this._cache.setStore(n,e)}},{key:"refreshUserInfo",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,a=e.data,t.abrupt("return",(this.setLocalUserInfo(a),a));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t)}}]),t}(),de=function(){function t(e){if((0,_.default)(this,t),!e)throw new vt({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=e,this._cache=Ut(this._envId),this._request=ce(this._envId),this.setUserInfo()}return(0,g.default)(t,[{key:"linkWithTicket",value:function(t){if("string"!=typeof t)throw new vt({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}},{key:"linkWithRedirect",value:function(t){t.signInWithRedirect()}},{key:"updatePassword",value:function(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}},{key:"updateEmail",value:function(t){return this._request.send("auth.updateEmail",{newEmail:t})}},{key:"updateUsername",value:function(t){if("string"!=typeof t)throw new vt({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}},{key:"getLinkedUidList",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return e=t.sent,a=e.data,i=!1,n=a.users,t.abrupt("return",(n.forEach((function(t){t.wxOpenId&&t.wxPublicId&&(i=!0)})),{users:n,hasPrimaryUid:i}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setPrimaryUid",value:function(t){return this._request.send("auth.setPrimaryUid",{uid:t})}},{key:"unlink",value:function(t){return this._request.send("auth.unlink",{platform:t})}},{key:"update",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i,n,s,o,u,c,l;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.nickName,i=e.gender,n=e.avatarUrl,s=e.province,o=e.country,u=e.city,t.next=8,this._request.send("auth.updateUserInfo",{nickName:a,gender:i,avatarUrl:n,province:s,country:o,city:u});case 8:c=t.sent,l=c.data,this.setLocalUserInfo(l);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"refresh",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,a=e.data,t.abrupt("return",(this.setLocalUserInfo(a),a));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setUserInfo",value:function(){var t=this,e=this._cache.keys.userInfoKey,a=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(e){t[e]=a[e]})),this.location={country:a.country,province:a.province,city:a.city}}},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t),this.setUserInfo()}}]),t}(),fe=function(){function t(e){if((0,_.default)(this,t),!e)throw new vt({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Ut(e);var a=this._cache.keys,i=a.refreshTokenKey,n=a.accessTokenKey,r=a.accessTokenExpireKey,s=this._cache.getStore(i),o=this._cache.getStore(n),u=this._cache.getStore(r);this.credential={refreshToken:s,accessToken:o,accessTokenExpire:u},this.user=new de(e)}return(0,g.default)(t,[{key:"isAnonymousAuth",get:function(){return this.loginType===Kt.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===Kt.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===Kt.WECHAT||this.loginType===Kt.WECHAT_OPEN||this.loginType===Kt.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),pe=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"signIn",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._cache.updatePersistence("local"),e=this._cache.keys,a=e.anonymousUuidKey,i=e.refreshTokenKey,n=this._cache.getStore(a)||void 0,s=this._cache.getStore(i)||void 0,t.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:n,refresh_token:s});case 8:if(o=t.sent,!o.uuid||!o.refresh_token){t.next=20;break}return this._setAnonymousUUID(o.uuid),this.setRefreshToken(o.refresh_token),t.next=14,this._request.refreshAccessToken();case 14:return Jt(Xt),Jt(te,{env:this.config.env,loginType:Kt.ANONYMOUS,persistence:"local"}),u=new fe(this.config.env),t.next=19,u.user.refresh();case 19:return t.abrupt("return",u);case 20:throw new vt({message:"\u533f\u540d\u767b\u5f55\u5931\u8d25"});case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this._cache.keys,i=a.anonymousUuidKey,n=a.refreshTokenKey,s=this._cache.getStore(i),o=this._cache.getStore(n),t.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:s,refresh_token:o,ticket:e});case 7:if(u=t.sent,!u.refresh_token){t.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(u.refresh_token),t.next=13,this._request.refreshAccessToken();case 13:return Jt(ee,{env:this.config.env}),Jt(te,{loginType:Kt.CUSTOM,persistence:"local"}),t.abrupt("return",{credential:{refreshToken:u.refresh_token}});case 16:throw new vt({message:"\u533f\u540d\u8f6c\u5316\u5931\u8d25"});case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_setAnonymousUUID",value:function(t){var e=this._cache.keys,a=e.anonymousUuidKey,i=e.loginTypeKey;this._cache.removeStore(a),this._cache.setStore(a,t),this._cache.setStore(i,Kt.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),a}(le),he=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"signIn",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"ticket must be a string"});case 2:return a=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(a)||""});case 5:if(i=t.sent,!i.refresh_token){t.next=15;break}return this.setRefreshToken(i.refresh_token),t.next=10,this._request.refreshAccessToken();case 10:return Jt(Xt),Jt(te,{env:this.config.env,loginType:Kt.CUSTOM,persistence:this.config.persistence}),t.next=14,this.refreshUserInfo();case 14:return t.abrupt("return",new fe(this.config.env));case 15:throw new vt({message:"\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25"});case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),a}(le),me=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"signIn",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){var i,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"email must be a string"});case 2:return i=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:a,refresh_token:this._cache.getStore(i)||""});case 5:if(n=t.sent,s=n.refresh_token,o=n.access_token,u=n.access_token_expire,!s){t.next=22;break}if(this.setRefreshToken(s),!o||!u){t.next=15;break}this.setAccessToken(o,u),t.next=17;break;case 15:return t.next=17,this._request.refreshAccessToken();case 17:return t.next=19,this.refreshUserInfo();case 19:return Jt(Xt),Jt(te,{env:this.config.env,loginType:Kt.EMAIL,persistence:this.config.persistence}),t.abrupt("return",new fe(this.config.env));case 22:throw n.code?new vt({code:n.code,message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: ".concat(n.message)}):new vt({message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25"});case 23:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"activate",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.activateEndUserMail",{token:e}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resetPasswordWithToken",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:a}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()}]),a}(le),_e=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"signIn",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){var i,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return"string"!=typeof a&&(a=""),i=this._cache.keys.refreshTokenKey,t.next=6,this._request.send("auth.signIn",{loginType:Kt.USERNAME,username:e,password:a,refresh_token:this._cache.getStore(i)||""});case 6:if(n=t.sent,s=n.refresh_token,o=n.access_token_expire,u=n.access_token,!s){t.next=23;break}if(this.setRefreshToken(s),!u||!o){t.next=16;break}this.setAccessToken(u,o),t.next=18;break;case 16:return t.next=18,this._request.refreshAccessToken();case 18:return t.next=20,this.refreshUserInfo();case 20:return Jt(Xt),Jt(te,{env:this.config.env,loginType:Kt.USERNAME,persistence:this.config.persistence}),t.abrupt("return",new fe(this.config.env));case 23:throw n.code?new vt({code:n.code,message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: ".concat(n.message)}):new vt({message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25"});case 24:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()}]),a}(le),ge=function(){function t(e){(0,_.default)(this,t),this.config=e,this._cache=Ut(e.env),this._request=ce(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Qt(te,this._onLoginTypeChanged)}return(0,g.default)(t,[{key:"currentUser",get:function(){var t=this.hasLoginState();return t&&t.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},{key:"anonymousAuthProvider",value:function(){return new pe(this.config)}},{key:"customAuthProvider",value:function(){return new he(this.config)}},{key:"emailAuthProvider",value:function(){return new me(this.config)}},{key:"usernameAuthProvider",value:function(){return new _e(this.config)}},{key:"signInAnonymously",value:function(){var t=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new pe(this.config).signIn());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new me(this.config).signIn(e,a));case 1:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"signInWithUsernameAndPassword",value:function(t,e){return new _e(this.config).signIn(t,e)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new pe(this.config)),Qt(ee,this._onAnonymousConverted),t.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signOut",value:function(){var t=(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginType!==Kt.ANONYMOUS){t.next=2;break}throw new vt({message:"\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c"});case 2:if(e=this._cache.keys,a=e.refreshTokenKey,i=e.accessTokenKey,n=e.accessTokenExpireKey,s=this._cache.getStore(a),s){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this._request.send("auth.logout",{refresh_token:s});case 7:return o=t.sent,t.abrupt("return",(this._cache.removeStore(a),this._cache.removeStore(i),this._cache.removeStore(n),Jt(Xt),Jt(te,{env:this.config.env,loginType:Kt.NULL,persistence:this.config.persistence}),o));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signUpWithEmailAndPassword",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:a}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"sendPasswordResetEmail",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:e}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onLoginStateChanged",value:function(t){var e=this;Qt(Xt,(function(){var a=e.hasLoginState();t.call(e,a)}));var a=this.hasLoginState();t.call(this,a)}},{key:"onLoginStateExpired",value:function(t){Qt(Zt,t.bind(this))}},{key:"onAccessTokenRefreshed",value:function(t){Qt(ae,t.bind(this))}},{key:"onAnonymousConverted",value:function(t){Qt(ee,t.bind(this))}},{key:"onLoginTypeChanged",value:function(t){var e=this;Qt(te,(function(){var a=e.hasLoginState();t.call(e,a)}))}},{key:"getAccessToken",value:function(){var t=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.getAccessToken();case 2:return t.t0=t.sent.accessToken,t.t1=this.config.env,t.abrupt("return",{accessToken:t.t0,env:t.t1});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"hasLoginState",value:function(){var t=this._cache.keys.refreshTokenKey;return this._cache.getStore(t)?new fe(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return t.next=4,this._request.send("auth.isUsernameRegistered",{username:e});case 4:return a=t.sent,i=a.data,t.abrupt("return",i&&i.isRegistered);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var t=(0,l.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new he(this.config).signIn(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"shouldRefreshAccessToken",value:function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:w(w({},t.data),{},{requestId:t.seqId})}))}},{key:"getAuthHeader",value:function(){var t=this._cache.keys,e=t.refreshTokenKey,a=t.accessTokenKey,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(a)+"/@@/"+i}}},{key:"_onAnonymousConverted",value:function(t){var e=t.data.env;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(t){var e=t.data,a=e.loginType,i=e.persistence,n=e.env;n===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,a))}}]),t}(),ve=function(t,e){e=e||jt();var a=ce(this.config.env),i=t.cloudPath,n=t.filePath,r=t.onUploadProgress,s=t.fileType,o=void 0===s?"image":s;return a.send("storage.getUploadMetadata",{path:i}).then((function(t){var s=t.data,u=s.url,c=s.authorization,l=s.token,d=s.fileId,f=s.cosFileId,p=t.requestId,h={key:i,signature:c,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":l};a.upload({url:u,data:h,file:n,name:i,fileType:o,onUploadProgress:r}).then((function(t){201===t.statusCode?e(null,{fileID:d,requestId:p}):e(new vt({code:"STORAGE_REQUEST_FAIL",message:"STORAGE_REQUEST_FAIL: ".concat(t.data)}))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},ye=function(t,e){e=e||jt();var a=ce(this.config.env),i=t.cloudPath;return a.send("storage.getUploadMetadata",{path:i}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},be=function(t,e){var a=t.fileList;if(e=e||jt(),!a||!Array.isArray(a))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var i,n=y(a);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(!r||"string"!=typeof r)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(o){n.e(o)}finally{n.f()}var s={fileid_list:a};return ce(this.config.env).send("storage.batchDeleteFile",s).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},xe=function(t,e){var a=t.fileList;e=e||jt(),a&&Array.isArray(a)||e(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var i,n=[],r=y(a);try{for(r.s();!(i=r.n()).done;){var s=i.value;"object"==(0,u.default)(s)?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),n.push({fileid:s.fileID,max_age:s.maxAge})):"string"==typeof s?n.push({fileid:s}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(c){r.e(c)}finally{r.f()}var o={file_list:n};return ce(this.config.env).send("storage.batchGetDownloadUrl",o).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},we=function(){var t=(0,l.default)(r.default.mark((function t(e,a){var i,n,s,o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.fileID,t.next=3,xe.call(this,{fileList:[{fileID:i,maxAge:600}]});case 3:if(n=t.sent.fileList[0],"SUCCESS"===n.code){t.next=6;break}return t.abrupt("return",a?a(n):new Promise((function(t){t(n)})));case 6:if(s=ce(this.config.env),o=n.download_url,o=encodeURI(o),a){t.next=10;break}return t.abrupt("return",s.download({url:o}));case 10:return t.t0=a,t.next=13,s.download({url:o});case 13:t.t1=t.sent,(0,t.t0)(t.t1);case 15:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),Ce=function(t,e){var a,i=t.name,n=t.data,r=t.query,s=t.parse,o=t.search,u=e||jt();try{a=n?JSON.stringify(n):""}catch(i){return Promise.reject(i)}if(!i)return Promise.reject(new vt({code:"PARAM_ERROR",message:"\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"}));var c={inQuery:r,parse:s,search:o,function_name:i,request_data:a};return ce(this.config.env).send("functions.invokeFunction",c).then((function(t){if(t.code)u(null,t);else{var e=t.data.response_data;if(s)u(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),u(null,{result:e,requestId:t.requestId})}catch(t){u(new vt({message:"response data must be json"}))}}return u.promise})).catch((function(t){u(t)})),u.promise},$e={timeout:15e3,persistence:"session"},ke={},De=function(){function t(e){(0,_.default)(this,t),this.config=e||this.config,this.authObj=void 0}return(0,g.default)(t,[{key:"init",value:function(e){switch(Et.adapter||(this.requestClient=new Et.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((e.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=w(w({},$e),e),!0){case this.config.timeout>6e5:this.config.timeout=6e5;break;case this.config.timeout<100:this.config.timeout=100}return new t(this.config)}},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.persistence;if(this.authObj)return this.authObj;var a,i=e||Et.adapter.primaryStorage||$e.persistence;return i!==this.config.persistence&&(this.config.persistence=i),function(t){var e=t.env;zt[e]=new Bt(t),Wt[e]=new Bt(w(w({},t),{},{persistence:"local"}))}(this.config),a=this.config,ue[a.env]=new oe(a),this.authObj=new ge(this.config),this.authObj}},{key:"on",value:function(t,e){return Qt.apply(this,[t,e])}},{key:"off",value:function(t,e){return Yt.apply(this,[t,e])}},{key:"callFunction",value:function(t,e){return Ce.apply(this,[t,e])}},{key:"deleteFile",value:function(t,e){return be.apply(this,[t,e])}},{key:"getTempFileURL",value:function(t,e){return xe.apply(this,[t,e])}},{key:"downloadFile",value:function(t,e){return we.apply(this,[t,e])}},{key:"uploadFile",value:function(t,e){return ve.apply(this,[t,e])}},{key:"getUploadMetadata",value:function(t,e){return ye.apply(this,[t,e])}},{key:"registerExtension",value:function(t){ke[t.name]=t}},{key:"invokeExtension",value:function(){var t=(0,l.default)(r.default.mark((function t(e,a){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=ke[e],i){t.next=3;break}throw new vt({message:"\u6269\u5c55".concat(e," \u5fc5\u987b\u5148\u6ce8\u518c")});case 3:return t.next=5,i.invoke(a,this);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"useAdapters",value:function(t){var e=function(t){var e,a,i=(e=t,"[object Array]"===Object.prototype.toString.call(e)?t:[t]),n=y(i);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=r.isMatch,o=r.genAdapter,u=r.runtime;if(s())return{adapter:o(),runtime:u}}}catch(c){n.e(c)}finally{n.f()}}(t)||{},a=e.adapter,i=e.runtime;a&&(Et.adapter=a),i&&(Et.runtime=i)}}]),t}(),Se=new De;function Te(t,e,a){void 0===a&&(a={});var i=/\?/.test(e),n="";for(var r in a)""===n?!i&&(e+="?"):n+="&",n+=r+"="+encodeURIComponent(a[r]);return/^http(s)?:\/\//.test(e+=n)?e:""+t+e}var Oe=function(){function t(){(0,_.default)(this,t)}return(0,g.default)(t,[{key:"post",value:function(t){var e=t.url,a=t.data,i=t.headers;return new Promise((function(t,n){yt.request({url:Te("https:",e),data:a,method:"POST",header:i,success:function(e){t(e)},fail:function(t){n(t)}})}))}},{key:"upload",value:function(t){return new Promise((function(e,a){var i=t.url,n=t.file,r=t.data,s=t.headers,o=t.fileType,u=yt.uploadFile({url:Te("https:",i),name:"file",formData:Object.assign({},r),filePath:n,fileType:o,header:s,success:function(t){var a={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&r.success_action_status&&(a.statusCode=parseInt(r.success_action_status,10)),e(a)},fail:function(t){a(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(e){t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}]),t}(),Pe={setItem:function(t,e){yt.setStorageSync(t,e)},getItem:function(t){return yt.getStorageSync(t)},removeItem:function(t){yt.removeStorageSync(t)},clear:function(){yt.clearStorageSync()}},Me={genAdapter:function(){return{root:{},reqClass:Oe,localStorage:Pe,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Se.useAdapters(Me);var Ae=Se,Ie=Ae.init;Ae.init=function(t){t.env=t.spaceId;var e=Ie.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;var a=e.auth;return e.auth=function(t){var e=a.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(t){var a;e[t]=(a=e[t],function(t){t=t||{};var e=mt(t),i=e.success,n=e.fail,r=e.complete;if(!(i||n||r))return a.call(this,t);a.call(this,t).then((function(t){i&&i(t),r&&r(t)}),(function(t){n&&n(t),r&&r(t)}))}).bind(e)})),e},e.customAuth=e.auth,e};var je=Ae,Fe=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"getAccessToken",value:function(){var t=this;return new Promise((function(e,a){var i="Anonymous_Access_token";t.setAccessToken(i),e(i)}))}},{key:"setupRequest",value:function(t,e){var a=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};"auth"!==e&&(a.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=kt.sign(a,this.config.clientSecret);var n=Ct();i["x-client-info"]=encodeURIComponent(JSON.stringify(n));var r=bt(),s=r.token;return i["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:a,dataType:"json",header:JSON.parse(JSON.stringify(i))}}},{key:"uploadFileToOSS",value:function(t){var e=this,a=t.url,i=t.formData,n=t.name,r=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,u){var c=e.adapter.uploadFile({url:a,formData:i,name:n,filePath:r,fileType:s,success:function(e){e&&e.statusCode<400?t(e):u(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){u(new vt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(t){var e,a=this,i=t.filePath,n=t.cloudPath,r=t.fileType,s=void 0===r?"image":r,o=t.onUploadProgress;if(!n)throw new vt({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getOSSUploadOptionsFromPath({cloudPath:n}).then((function(t){var n=t.result,r=n.url,u=n.formData,c=n.name;e=t.result.fileUrl;var l={url:r,formData:u,name:c,filePath:i,fileType:s};return a.uploadFileToOSS(Object.assign({},l,{onUploadProgress:o}))})).then((function(){return a.reportOSSUpload({cloudPath:n})})).then((function(t){return new Promise((function(a,n){t.success?a({success:!0,filePath:i,fileID:e}):n(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,a={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(a)).then((function(t){if(t.success)return t.result;throw new vt({code:"DELETE_FILE_FAILED",message:"\u5220\u9664\u6587\u4ef6\u5931\u8d25"})}))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList,a=t.maxAge;if(!Array.isArray(e)||0===e.length)throw new vt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});var i={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e,maxAge:a})};return this.request(this.setupRequest(i)).then((function(t){if(t.success)return{fileList:t.result.fileList.map((function(t){return{fileID:t.fileID,tempFileURL:t.tempFileURL}}))};throw new vt({code:"GET_TEMP_FILE_URL_FAILED",message:"\u83b7\u53d6\u4e34\u65f6\u6587\u4ef6\u94fe\u63a5\u5931\u8d25"})}))}}]),a}(Dt),Le={init:function(t){var e=new Fe(t),a={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return a},e.customAuth=e.auth,e}},Ee=$((function(t,e){t.exports=D.enc.Hex}));function qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.data,i=e.functionName,n=e.method,r=e.headers,s=e.signHeaderKeys,u=void 0===s?[]:s,c=e.config,l=Date.now(),d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),f=Object.assign({},r,{"x-from-app-id":c.spaceAppId,"x-from-env-id":c.spaceId,"x-to-env-id":c.spaceId,"x-from-instance-id":l,"x-from-function-name":i,"x-client-timestamp":l,"x-alipay-source":"client","x-request-id":d,"x-alipay-callid":d,"x-trace-id":d}),p=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(u),h=t.split("?")||[],m=(0,o.default)(h,2),_=m[0],g=void 0===_?"":_,v=m[1],y=void 0===v?"":v,b=function(t){var e=t.signedHeaders.join(";"),a=t.signedHeaders.map((function(e){return"".concat(e.toLowerCase(),":").concat(t.headers[e],"\n")})).join(""),i=At(t.body).toString(Ee),n="".concat(t.method.toUpperCase(),"\n").concat(t.path,"\n").concat(t.query,"\n").concat(a,"\n").concat(e,"\n").concat(i,"\n"),r=At(n).toString(Ee),s="HMAC-SHA256\n".concat(t.timestamp,"\n").concat(r,"\n"),o=It(s,t.secretKey).toString(Ee);return"HMAC-SHA256 Credential=".concat(t.secretId,", SignedHeaders=").concat(e,", Signature=").concat(o)}({path:g,query:y,method:n,headers:f,timestamp:l,body:JSON.stringify(a),secretId:c.accessKey,secretKey:c.secretKey,signedHeaders:p.sort()});return{url:"".concat(c.endpoint).concat(t),headers:Object.assign({},f,{Authorization:b})}}function Re(t){var e=t.url,a=t.data,i=t.method,n=void 0===i?"POST":i,r=t.headers,s=void 0===r?{}:r;return new Promise((function(t,i){yt.request({url:e,method:n,data:a,header:s,dataType:"json",complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=s["x-trace-id"]||"";if(!e.statusCode||e.statusCode>=400){var n=e.data||{},r=n.message,o=n.errMsg,u=n.trace_id;return i(new vt({code:"SYS_ERR",message:r||o||"request:fail",requestId:u||a}))}t({status:e.statusCode,data:e.data,headers:e.header,requestId:a})}})}))}function Ne(t,e){var a=t.path,i=t.data,n=t.method,r=void 0===n?"GET":n,s=qe(a,{functionName:"",data:i,method:r,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":Date.now()+6e4},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:e}),o=s.url,u=s.headers;return Re({url:o,data:i,method:r,headers:u}).then((function(t){var e=t.data||{};if(!e.success)throw new vt({code:t.errCode,message:t.errMsg,requestId:t.requestId});return e.data||{}})).catch((function(t){throw new vt({code:t.errCode,message:t.errMsg,requestId:t.requestId})}))}function Be(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.trim().replace(/^cloud:\/\//,""),a=e.indexOf("/");if(a<=0)throw new vt({code:"INVALID_PARAM",message:"fileID\u4e0d\u5408\u6cd5"});e.substring(0,a);var i=e.substring(a+1);return this.config.spaceId,i}function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cloud://".concat(this.config.spaceId,"/").concat(t.replace(/^\/+/,""))}var We=function(){function t(e){if((0,_.default)(this,t),["spaceId","spaceAppId","accessKey","secretKey"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("".concat(t," required"))})),e.endpoint){if("string"!=typeof e.endpoint)throw new Error("endpoint must be string");if(!/^https:\/\//.test(e.endpoint))throw new Error("endpoint must start with https://");e.endpoint=e.endpoint.replace(/\/$/,"")}this.config=Object.assign({},e,{endpoint:e.endpoint||"https://".concat(e.spaceId,".api-hz.cloudbasefunction.cn")})}return(0,g.default)(t,[{key:"callFunction",value:function(t){return function(t,e){var a=t.name,i=t.data,n="POST",r=qe("/functions/invokeFunction",{functionName:a,data:i,method:n,headers:{"x-to-function-name":a},signHeaderKeys:["x-to-function-name"],config:e}),s=r.url,o=r.headers;return Re({url:s,data:i,method:n,headers:o}).then((function(t){return{errCode:0,success:!0,requestId:t.requestId,result:t.data}})).catch((function(t){throw new vt({code:t.errCode,message:t.errMsg,requestId:t.requestId})}))}(t,this.config)}},{key:"uploadFileToOSS",value:function(t){var e=t.url,a=t.filePath,i=t.fileType,n=t.formData,r=t.onUploadProgress;return new Promise((function(t,s){var o=yt.uploadFile({url:e,filePath:a,fileType:i,formData:n,name:"file",success:function(e){e&&e.statusCode<400?t(e):s(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){s(new vt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof r&&o&&"function"==typeof o.onProgressUpdate&&o.onProgressUpdate((function(t){r({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i,n,s,o,u,c,l,d,f,p;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.filePath,i=e.cloudPath,n=void 0===i?"":i,s=e.fileType,o=void 0===s?"image":s,u=e.onUploadProgress,"string"===F(n)){t.next=3;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});case 3:if(n=n.trim()){t.next=5;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});case 5:if(!/:\/\//.test(n)){t.next=7;break}throw new vt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});case 7:return t.next=9,Ne({path:"/".concat(n.replace(/^\//,""),"?post_url")},this.config);case 9:return c=t.sent,l=c.file_id,d=c.upload_url,f=c.form_data,p=f&&f.reduce((function(t,e){return t[e.key]=e.value,t}),{}),t.abrupt("return",this.uploadFileToOSS({url:d,filePath:a,fileType:o,formData:p,onUploadProgress:u}).then((function(){return{fileID:l}})));case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var t=(0,l.default)(r.default.mark((function t(e){var a,i=this;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.fileList,t.abrupt("return",new Promise((function(t,e){(!a||a.length<0)&&e(new vt({errCode:"INVALID_PARAM",errMsg:"fileList\u4e0d\u80fd\u4e3a\u7a7a\u6570\u7ec4"})),a.length>50&&e(new vt({errCode:"INVALID_PARAM",errMsg:"fileList\u6570\u7ec4\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750"}));var n,r=[],s=y(a);try{for(s.s();!(n=s.n()).done;){var o=n.value;"string"!==F(o)&&e(new vt({errCode:"INVALID_PARAM",errMsg:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}));var u=Be.call(i,o);r.push({file_id:u,expire:600})}}catch(c){s.e(c)}finally{s.f()}Ne({path:"/?download_url",data:{file_list:r},method:"POST"},i.config).then((function(e){var a=e.file_list,n=void 0===a?[]:a;t({fileList:n.map((function(t){return{fileID:ze.call(i,t.file_id),tempFileURL:t.download_url}}))})})).catch((function(t){return e(t)}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),Ue={init:function(t){t.provider="alipay";var e=new We(t);return e.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},e}};function Ve(t){var e,a=t.data;e=Ct();var i=JSON.parse(JSON.stringify(a||{}));if(Object.assign(i,{clientInfo:e}),!i.uniIdToken){var n=bt(),r=n.token;r&&(i.uniIdToken=r)}return i}var He=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],Ge=/[\\^$.*+?()[\]{}|]/g,Qe=RegExp(Ge.source);function Je(t,e,a){return t.replace(new RegExp((i=e)&&Qe.test(i)?i.replace(Ge,"\\$&"):i,"g"),a);var i}var Ye="request",Ke="response";var Xe;Xe="0123456789abcdef";var Ze={code:2e4,message:"System error"},ta={code:20101,message:"Invalid client"};function ea(t){var e=t||{},a=e.errSubject,i=e.subject,n=e.errCode,r=e.errMsg,s=e.code,o=e.message,u=e.cause;return new vt({subject:a||i||"uni-secure-network",code:n||s||Ze.code,message:r||o,cause:u})}var aa;function ia(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.secretType;return e===Ye||e===Ke||"both"===e}function na(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,a=t.data,i=void 0===a?{}:a;return"app"===U&&"DCloud-clientDB"===e&&"encryption"===i.redirectTo&&"getAppClientKey"===i.action}function ra(t){t.functionName,t.result,t.logPvd}function sa(t){var e=t.callFunction,a=function(a){var i=this,n=a.name;a.data=Ve.call(t,{data:a.data});var r={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay"}[this.config.provider],s=ia(a),o=na(a),u=s||o;return e.call(this,a).then((function(t){return t.errCode=0,!u&&ra.call(i,{functionName:n,result:t,logPvd:r}),Promise.resolve(t)}),(function(t){return!u&&ra.call(i,{functionName:n,result:t,logPvd:r}),t&&t.message&&(t.message=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,i=t.extraInfo,n=void 0===i?{}:i,r=t.formatter,s=void 0===r?[]:r,o=0;o<s.length;o++){var u=s[o],c=u.rule,l=u.content,d=u.mode,f=a.match(c);if(f){for(var p=l,h=1;h<f.length;h++)p=Je(p,"{$".concat(h,"}"),f[h]);for(var m in n)p=Je(p,"{".concat(m,"}"),n[m]);return"replace"===d?p:a+p}}return a}({message:"[".concat(a.name,"]: ").concat(t.message),formatter:He,extraInfo:{functionName:n}})),Promise.reject(t)}))};t.callFunction=function(e){var i,n,r=t.config,s=r.provider,o=r.spaceId,u=e.name;return e.data=e.data||{},i=a,i=i.bind(t),n=na(e)?a.call(t,e):function(t){var e=t.name,a=t.data,i=void 0===a?{}:a;return"mp-weixin"===U&&"uni-id-co"===e&&"secureNetworkHandshakeByWeixin"===i.method}(e)?i.call(t,e):ia(e)?new aa({secretType:e.secretType,uniCloudIns:t}).wrapEncryptDataCallFunction(a.bind(t))(e):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.provider,a=t.spaceId,i=t.functionName,n=wt(),r=n.appId,s=n.uniPlatform,o=n.osName,u=s;"app"===s&&(u=o);var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.provider,a=t.spaceId,i=W;if(!i)return{};e=function(t){return"tencent"===t?"tcb":t}(e);var n=i.find((function(t){return t.provider===e&&t.spaceId===a}));return n&&n.config}({provider:e,spaceId:a});if(!c||!c.accessControl||!c.accessControl.enable)return!1;var l=c.accessControl.function||{},d=Object.keys(l);if(0===d.length)return!0;var f=function(t,e){for(var a,i,n,r=0;r<t.length;r++){var s=t[r];s!==e?"*"!==s?s.split(",").map((function(t){return t.trim()})).indexOf(e)>-1&&(i=s):n=s:a=s}return a||i||n}(d,i);if(!f)return!1;if((l[f]||[]).find((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.appId===r&&(t.platform||"").toLowerCase()===u.toLowerCase()})))return!0;throw ea(ta)}({provider:s,spaceId:o,functionName:u})?new aa({secretType:e.secretType,uniCloudIns:t}).wrapVerifyClientCallFunction(a.bind(t))(e):i(e),Object.defineProperty(n,"result",{get:function(){return{}}}),n}}aa="mp-weixin"!==U&&"app"!==U?function(){return(0,g.default)((function t(){throw(0,_.default)(this,t),ea({message:"Platform ".concat(U," is not supported by secure network")})}))}():function(){return(0,g.default)((function t(){throw(0,_.default)(this,t),ea({message:"Platform ".concat(U," is not enabled, please check whether secure network module is enabled in your manifest.json")})}))}();var oa=Symbol("CLIENT_DB_INTERNAL");function ua(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=oa,t.inspect=null,t.__ob__=void 0,new Proxy(t,{get:function(t,a,i){if("_uniClient"===a)return null;if("symbol"==(0,u.default)(a))return t[a];if(a in t||"string"!=typeof a){var n=t[a];return"function"==typeof n?n.bind(t):n}return e.get(t,a,i)}})}function ca(t){return{on:function(e,a){t[e]=t[e]||[],t[e].indexOf(a)>-1||t[e].push(a)},off:function(e,a){t[e]=t[e]||[];var i=t[e].indexOf(a);-1!==i&&t[e].splice(i,1)}}}var la=["db.Geo","db.command","command.aggregate"];function da(t,e){return la.indexOf("".concat(t,".").concat(e))>-1}function fa(t){switch(F(t)){case"array":return t.map((function(t){return fa(t)}));case"object":return t._internalType===oa||Object.keys(t).forEach((function(e){t[e]=fa(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function pa(t){return t&&t.content&&t.content.$method}var ha=function(){function t(e,a,i){(0,_.default)(this,t),this.content=e,this.prevStage=a||null,this.udb=null,this._database=i}return(0,g.default)(t,[{key:"toJSON",value:function(){for(var t=this,e=[t.content];t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((function(t){return{$method:t.$method,$param:fa(t.$param)}}))}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAction",value:function(){var t=this.toJSON().$db.find((function(t){return"action"===t.$method}));return t&&t.$param&&t.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(t){return"action"!==t.$method}))}}},{key:"isAggregate",get:function(){for(var t=this;t;){var e=pa(t),a=pa(t.prevStage);if("aggregate"===e&&"collection"===a||"pipeline"===e)return!0;t=t.prevStage}return!1}},{key:"isCommand",get:function(){for(var t=this;t;){if("command"===pa(t))return!0;t=t.prevStage}return!1}},{key:"isAggregateCommand",get:function(){for(var t=this;t;){var e=pa(t),a=pa(t.prevStage);if("aggregate"===e&&"command"===a)return!0;t=t.prevStage}return!1}},{key:"getNextStageFn",value:function(t){var e=this;return function(){return ma({$method:t,$param:fa(Array.from(arguments))},e,e._database)}}},{key:"count",get:function(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}},{key:"remove",get:function(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",get:function(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",get:function(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")}}},{key:"_send",value:function(t,e){var a=this.getAction(),i=this.getCommand();return i.$db.push({$method:t,$param:fa(e)}),this._database._callCloudFunction({action:a,command:i})}}]),t}();function ma(t,e,a){return ua(new ha(t,e,a),{get:function(t,e){var i="db";return t&&t.content&&(i=t.content.$method),da(i,e)?ma({$method:e},t,a):function(){return ma({$method:e,$param:fa(Array.from(arguments))},t,a)}}})}function _a(t){var e=t.path,a=t.method;return function(){function t(){(0,_.default)(this,t),this.param=Array.from(arguments)}return(0,g.default)(t,[{key:"toJSON",value:function(){return{$newDb:[].concat((0,c.default)(e.map((function(t){return{$method:t}}))),[{$method:a,$param:this.param}])}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),t}()}function ga(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ua(new t(e),{get:function(t,e){return da("db",e)?ma({$method:e},null,t):function(){return ma({$method:e,$param:fa(Array.from(arguments))},null,t)}}})}var va=function(t){(0,f.default)(a,t);var e=C(a);function a(){return(0,_.default)(this,a),e.apply(this,arguments)}return(0,g.default)(a,[{key:"_parseResult",value:function(t){return this._isJQL?t.result:t}},{key:"_callCloudFunction",value:function(t){var e=this,a=t.action,i=t.command,n=t.multiCommand,r=t.queryList;function s(t,e){if(n&&r)for(var a=0;a<r.length;a++){var i=r[a];i.udb&&"function"==typeof i.udb.setResult&&(e?i.udb.setResult(e):i.udb.setResult(t.result.dataList[a]))}}var o=this,u=this._isJQL?"databaseForJQL":"database";function c(t){return o._callback("error",[t]),X(Z(u,"fail"),t).then((function(){return X(Z(u,"complete"),t)})).then((function(){return s(null,t),dt(at,{type:rt,content:t}),Promise.reject(t)}))}var l=X(Z(u,"invoke")),d=this._uniClient;return l.then((function(){return d.callFunction({name:"DCloud-clientDB",type:"CLIENT_DB",data:{action:a,command:i,multiCommand:n}})})).then((function(t){var a=t.result,i=a.code,n=a.message,r=a.token,l=a.tokenExpired,d=a.systemInfo,f=void 0===d?[]:d;if(f)for(var p=0;p<f.length;p++){var h=f[p],m=h.level,_=h.message,g=h.detail,v=console["app"===U&&"warn"===m?"error":m]||console.log,y="[System Info]"+_;g&&(y="".concat(y,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(g)),v(y)}if(i)return c(new vt({code:i,message:n,requestId:t.requestId}));t.result.errCode=t.result.errCode||t.result.code,t.result.errMsg=t.result.errMsg||t.result.message,r&&l&&(xt({token:r,tokenExpired:l}),e._callbackAuth("refreshToken",[{token:r,tokenExpired:l}]),e._callback("refreshToken",[{token:r,tokenExpired:l}]),dt(nt,{token:r,tokenExpired:l}));for(var b=[{prop:"affectedDocs",tips:"affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"},{prop:"code",tips:"code\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errCode\u66ff\u4ee3"},{prop:"message",tips:"message\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errMsg\u66ff\u4ee3"}],x=function(e){var a=b[e],i=a.prop;a.tips;if(i in t.result){var n=t.result[i];Object.defineProperty(t.result,i,{get:function(){return n}})}},w=0;w<b.length;w++)x(w);return function(t){return X(Z(u,"success"),t).then((function(){return X(Z(u,"complete"),t)})).then((function(){s(t,null);var e=o._parseResult(t);return dt(at,{type:rt,content:e}),Promise.resolve(e)}))}(t)}),(function(t){return/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message),c(new vt({code:t.code||"SYSTEM_ERROR",message:t.message,requestId:t.requestId}))}))}}]),a}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.uniClient,i=void 0===a?{}:a,n=e.isJQL,r=void 0!==n&&n;(0,_.default)(this,t),this._uniClient=i,this._authCallBacks={},this._dbCallBacks={},i._isDefault&&(this._dbCallBacks=G("_globalUniCloudDatabaseCallback")),r||(this.auth=ca(this._authCallBacks)),this._isJQL=r,Object.assign(this,ca(this._dbCallBacks)),this.env=ua({},{get:function(t,e){return{$env:e}}}),this.Geo=ua({},{get:function(t,e){return _a({path:["Geo"],method:e})}}),this.serverDate=_a({path:[],method:"serverDate"}),this.RegExp=_a({path:[],method:"RegExp"})}return(0,g.default)(t,[{key:"getCloudEnv",value:function(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:t.replace("$cloudEnv_","")}}},{key:"_callback",value:function(t,e){var a=this._dbCallBacks;a[t]&&a[t].forEach((function(t){t.apply(void 0,(0,c.default)(e))}))}},{key:"_callbackAuth",value:function(t,e){var a=this._authCallBacks;a[t]&&a[t].forEach((function(t){t.apply(void 0,(0,c.default)(e))}))}},{key:"multiSend",value:function(){var t=Array.from(arguments),e=t.map((function(t){var e=t.getAction(),a=t.getCommand();if("getTemp"!==a.$db[a.$db.length-1].$method)throw new Error("multiSend\u53ea\u652f\u6301\u5b50\u547d\u4ee4\u5185\u4f7f\u7528getTemp");return{action:e,command:a}}));return this._callCloudFunction({multiCommand:e,queryList:t})}}]),t}()),ya="token\u65e0\u6548\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",ba="token\u8fc7\u671f\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",xa={TOKEN_INVALID_TOKEN_EXPIRED:ba,TOKEN_INVALID_INVALID_CLIENTID:ya,TOKEN_INVALID:ya,TOKEN_INVALID_WRONG_TOKEN:ya,TOKEN_INVALID_ANONYMOUS_USER:ya},wa={"uni-id-token-expired":ba,"uni-id-check-token-failed":ya,"uni-id-token-not-exist":ya,"uni-id-check-device-feature-failed":ya};function Ca(t,e){var a="";return a=t?"".concat(t,"/").concat(e):e,a.replace(/^\//,"")}function $a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],i=[];return t.forEach((function(t){!0===t.needLogin?a.push(Ca(e,t.path)):!1===t.needLogin&&i.push(Ca(e,t.path))})),{needLoginPage:a,notNeedLoginPage:i}}function ka(t){return t.split("?")[0].replace(/^\//,"")}function Da(){return function(t){var e=t&&t.$page&&t.$page.fullPath||"";return e?("/"!==e.charAt(0)&&(e="/"+e),e):e}(function(){var t=getCurrentPages();return t[t.length-1]}())}function Sa(){return ka(Da())}function Ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;if(!(e&&e.list&&e.list.length))return!1;var a=e.list,i=ka(t);return a.some((function(t){return t.pagePath===i}))}var Oa,Pa=!!v.default.uniIdRouter,Ma=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.default,e=t.pages,a=void 0===e?[]:e,i=t.subPackages,n=void 0===i?[]:i,r=t.uniIdRouter,s=void 0===r?{}:r,o=t.tabBar,u=void 0===o?{}:o,l=s.loginPage,d=s.needLogin,f=void 0===d?[]:d,p=s.resToLogin,h=void 0===p||p,m=$a(a),_=m.needLoginPage,g=m.notNeedLoginPage,y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],a=[];return t.forEach((function(t){var i=t.root,n=t.pages,r=void 0===n?[]:n,s=$a(r,i),o=s.needLoginPage,u=s.notNeedLoginPage;e.push.apply(e,(0,c.default)(o)),a.push.apply(a,(0,c.default)(u))})),{needLoginPage:e,notNeedLoginPage:a}}(n),b=y.needLoginPage,x=y.notNeedLoginPage;return{loginPage:l,routerNeedLogin:f,resToLogin:h,needLoginPage:[].concat((0,c.default)(_),(0,c.default)(b)),notNeedLoginPage:[].concat((0,c.default)(g),(0,c.default)(x)),loginPageInTabBar:Ta(l,u)}}(),Aa=Ma.loginPage,Ia=Ma.routerNeedLogin,ja=Ma.resToLogin,Fa=Ma.needLoginPage,La=Ma.notNeedLoginPage,Ea=Ma.loginPageInTabBar;if(Fa.indexOf(Aa)>-1)throw new Error("Login page [".concat(Aa,'] should not be "needLogin", please check your pages.json'));function qa(t){var e=Sa();if("/"===t.charAt(0))return t;var a=t.split("?"),i=(0,o.default)(a,2),n=i[0],r=i[1],s=n.replace(/^\//,"").split("/"),u=e.split("/");u.pop();for(var c=0;c<s.length;c++){var l=s[c];".."===l?u.pop():"."!==l&&u.push(l)}return""===u[0]&&u.shift(),"/"+u.join("/")+(r?"?"+r:"")}function Ra(t){var e=ka(qa(t));return!(La.indexOf(e)>-1)&&(Fa.indexOf(e)>-1||Ia.some((function(e){return function(t,e){return new RegExp(e).test(t)}(t,e)})))}function Na(t){var e=t.redirect,a=ka(e),i=ka(Aa);return Sa()!==i&&a!==i}function Ba(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.api,a=t.redirect;if(a&&Na({redirect:a})){var i=function(t,e){return"/"!==t.charAt(0)&&(t="/"+t),e?t.indexOf("?")>-1?t+"&uniIdRedirectUrl=".concat(encodeURIComponent(e)):t+"?uniIdRedirectUrl=".concat(encodeURIComponent(e)):t}(Aa,a);Ea?"navigateTo"!==e&&"redirectTo"!==e||(e="switchTab"):"switchTab"===e&&(e="navigateTo");var n={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((function(){n[e]({url:i})}))}}function za(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,a={abortLoginPageJump:!1,autoToLoginPage:!1},i=function(){var t,e=bt(),a=e.token,i=e.tokenExpired;if(a){if(i<Date.now()){var n="uni-id-token-expired";t={errCode:n,errMsg:wa[n]}}}else{var r="uni-id-check-token-failed";t={errCode:r,errMsg:wa[r]}}return t}();if(Ra(e)&&i){if(i.uniIdRedirectUrl=e,ut(it).length>0)return setTimeout((function(){dt(it,i)}),0),a.abortLoginPageJump=!0,a;a.autoToLoginPage=!0}return a}function Wa(){!function(){var t=Da(),e=za({url:t}),a=e.abortLoginPageJump,i=e.autoToLoginPage;a||i&&Ba({api:"redirectTo",redirect:t})}();for(var t=["navigateTo","redirectTo","reLaunch","switchTab"],e=function(e){var a=t[e];uni.addInterceptor(a,{invoke:function(t){var e=za({url:t.url}),i=e.abortLoginPageJump,n=e.autoToLoginPage;return i?t:n?(Ba({api:a,redirect:qa(t.url)}),!1):t}})},a=0;a<t.length;a++)e(a)}function Ua(){this.onResponse((function(t){var e=t.type,a=t.content,i=!1;switch(e){case"cloudobject":i=function(t){if("object"!=(0,u.default)(t))return!1;var e=t||{},a=e.errCode;return a in wa}(a);break;case"clientdb":i=function(t){if("object"!=(0,u.default)(t))return!1;var e=t||{},a=e.errCode;return a in xa}(a)}i&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ut(it);ht().then((function(){var a=Da();if(a&&Na({redirect:a}))return e.length>0?dt(it,Object.assign({uniIdRedirectUrl:a},t)):void(Aa&&Ba({api:"navigateTo",redirect:a}))}))}(a)}))}function Va(t){!function(t){t.onResponse=function(t){ct(at,t)},t.offResponse=function(t){lt(at,t)}}(t),function(t){t.onNeedLogin=function(t){ct(it,t)},t.offNeedLogin=function(t){lt(it,t)},Pa&&(G("_globalUniCloudStatus").needLoginInit||(G("_globalUniCloudStatus").needLoginInit=!0,ht().then((function(){Wa.call(t)})),ja&&Ua.call(t)))}(t),function(t){t.onRefreshToken=function(t){ct(nt,t)},t.offRefreshToken=function(t){lt(nt,t)}}(t)}var Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ga=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Qa(){var t,e,a=bt().token||"",i=a.split(".");if(!a||3!==i.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse((e=i[1],decodeURIComponent(Oa(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(a){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+a.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}Oa="function"!=typeof atob?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Ga.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var a,i,n="",r=0;r<t.length;)e=Ha.indexOf(t.charAt(r++))<<18|Ha.indexOf(t.charAt(r++))<<12|(a=Ha.indexOf(t.charAt(r++)))<<6|(i=Ha.indexOf(t.charAt(r++))),n+=64===a?String.fromCharCode(e>>16&255):64===i?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return n}:atob;var Ja=$((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a="chooseAndUploadFile:ok",n="chooseAndUploadFile:fail";function r(t,e){return t.tempFiles.forEach((function(t,a){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+a+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function s(t,e,i){var n=i.onChooseFile,r=i.onUploadProgress;return e.then((function(t){if(n){var e=n(t);if(void 0!==e)return Promise.resolve(e).then((function(e){return void 0===e?t:e}))}return t})).then((function(e){return!1===e?{errMsg:a,tempFilePaths:[],tempFiles:[]}:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3?arguments[3]:void 0;(e=Object.assign({},e)).errMsg=a;var r=e.tempFiles,s=r.length,o=0;return new Promise((function(a){for(;o<i;)u();function u(){var i=o++;if(i>=s)!r.find((function(t){return!t.url&&!t.errMsg}))&&a(e);else{var c=r[i];t.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,cloudPathAsRealPath:c.cloudPathAsRealPath,onUploadProgress:function(t){t.index=i,t.tempFile=c,t.tempFilePath=c.path,n&&n(t)}}).then((function(t){c.url=t.fileID,i<s&&u()})).catch((function(t){c.errMsg=t.errMsg||t.message,i<s&&u()}))}}}))}(t,e,5,r)}))}e.initChooseAndUploadFile=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===e.type?s(t,function(t){var e=t.count,a=t.sizeType,i=t.sourceType,s=void 0===i?["album","camera"]:i,o=t.extension;return new Promise((function(t,i){uni.chooseImage({count:e,sizeType:a,sourceType:s,extension:o,success:function(e){t(r(e,"image"))},fail:function(t){i({errMsg:t.errMsg.replace("chooseImage:fail",n)})}})}))}(e),e):"video"===e.type?s(t,function(t){var e=t.camera,a=t.compressed,i=t.maxDuration,s=t.sourceType,o=void 0===s?["album","camera"]:s,u=t.extension;return new Promise((function(t,s){uni.chooseVideo({camera:e,compressed:a,maxDuration:i,sourceType:o,extension:u,success:function(e){var a=e.tempFilePath,i=e.duration,n=e.size,s=e.height,o=e.width;t(r({errMsg:"chooseVideo:ok",tempFilePaths:[a],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:a,size:n,type:e.tempFile&&e.tempFile.type||"",width:o,height:s,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){s({errMsg:t.errMsg.replace("chooseVideo:fail",n)})}})}))}(e),e):s(t,function(t){var e=t.count,a=t.extension;return new Promise((function(t,s){var o=uni.chooseFile;if("undefined"!=typeof i&&"function"==typeof i.chooseMessageFile&&(o=i.chooseMessageFile),"function"!=typeof o)return s({errMsg:n+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});o({type:"all",count:e,extension:a,success:function(e){t(r(e))},fail:function(t){s({errMsg:t.errMsg.replace("chooseFile:fail",n)})}})}))}(e),e)}}})),Ya=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Ja);function Ka(t){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}},created:function(){var t=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(a){e.push(t[a])})),e}),(function(e,a){if("manual"!==t.loadtime){for(var i=!1,n=[],r=2;r<e.length;r++)e[r]!==a[r]&&(n.push(e[r]),i=!0);e[0]!==a[0]&&(t.mixinDatacomPage.current=t.pageCurrent),t.mixinDatacomPage.size=t.pageSize,t.onMixinDatacomPropsChange(i,n)}}))},methods:{onMixinDatacomPropsChange:function(t,e){},mixinDatacomEasyGet:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.getone,i=void 0!==a&&a,n=e.success,r=e.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var a=e.result,r=a.data,s=a.count;t.getcount&&(t.mixinDatacomPage.count=s),t.mixinDatacomHasMore=r.length<t.pageSize;var o=i?r.length?r[0]:void 0:r;t.mixinDatacomResData=o,n&&n(o)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e,r&&r(e)})))},mixinDatacomGet:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.database(this.spaceInfo),n=a.action||this.action;n&&(i=i.action(n));var r=a.collection||this.collection;i=Array.isArray(r)?(e=i).collection.apply(e,(0,c.default)(r)):i.collection(r);var s=a.where||this.where;s&&Object.keys(s).length&&(i=i.where(s));var o=a.field||this.field;o&&(i=i.field(o));var u=a.foreignKey||this.foreignKey;u&&(i=i.foreignKey(u));var l=a.groupby||this.groupby;l&&(i=i.groupBy(l));var d=a.groupField||this.groupField;d&&(i=i.groupField(d)),!0===(void 0!==a.distinct?a.distinct:this.distinct)&&(i=i.distinct());var f=a.orderby||this.orderby;f&&(i=i.orderBy(f));var p=void 0!==a.pageCurrent?a.pageCurrent:this.mixinDatacomPage.current,h=void 0!==a.pageSize?a.pageSize:this.mixinDatacomPage.size,m=void 0!==a.getcount?a.getcount:this.getcount,_=void 0!==a.gettree?a.gettree:this.gettree,g=void 0!==a.gettreepath?a.gettreepath:this.gettreepath,v={getCount:m},y={limitLevel:void 0!==a.limitlevel?a.limitlevel:this.limitlevel,startWith:void 0!==a.startwith?a.startwith:this.startwith};return _&&(v.getTree=y),g&&(v.getTreePath=y),i=i.skip(h*(p-1)).limit(h).get(v),i}}}}function Xa(t){return G("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",t.config.spaceId))}function Za(){return ti.apply(this,arguments)}function ti(){return ti=(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o,u,c=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},a=e.openid,i=e.callLoginByWeixin,n=void 0!==i&&i,s=Xa(this),"mp-weixin"===U){t.next=4;break}throw new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `".concat(U,"`"));case 4:if(!a||!n){t.next=6;break}throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");case 6:if(!a){t.next=8;break}return t.abrupt("return",(s.mpWeixinOpenid=a,{}));case 8:return t.next=10,new Promise((function(t,e){uni.login({success:function(e){t(e.code)},fail:function(t){e(new Error(t.errMsg))}})}));case 10:return o=t.sent,u=this.importObject("uni-id-co",{customUI:!0}),t.next=14,u.secureNetworkHandshakeByWeixin({code:o,callLoginByWeixin:n});case 14:return s.mpWeixinCode=o,t.abrupt("return",{code:o});case 16:case"end":return t.stop()}}),t,this)}))),ti.apply(this,arguments)}function ei(t){return ai.apply(this,arguments)}function ai(){return ai=(0,l.default)(r.default.mark((function t(e){var a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Xa(this),t.abrupt("return",(a.initPromise||(a.initPromise=Za.call(this,e)),a.initPromise));case 2:case"end":return t.stop()}}),t,this)}))),ai.apply(this,arguments)}function ii(t){var e={getSystemInfo:uni.getSystemInfo,getPushClientId:uni.getPushClientId};return function(a){return new Promise((function(i,n){e[t](w(w({},a),{},{success:function(t){i(t)},fail:function(t){n(t)}}))}))}}var ni=function(t){(0,f.default)(a,t);var e=C(a);function a(){var t;return(0,_.default)(this,a),t=e.call(this),t._uniPushMessageCallback=t._receivePushMessage.bind((0,s.default)(t)),t._currentMessageId=-1,t._payloadQueue=[],t}return(0,g.default)(a,[{key:"init",value:function(){var t=this;return Promise.all([ii("getSystemInfo")(),ii("getPushClientId")()]).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=(0,o.default)(e,2),i=a[0];i=void 0===i?{}:i;var n=i.appId,r=a[1];r=void 0===r?{}:r;var s=r.cid;if(!n)throw new Error("Invalid appId, please check the manifest.json file");if(!s)throw new Error("Invalid push client id");t._appId=n,t._pushClientId=s,t._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),t.emit("open"),t._initMessageListener()}),(function(e){throw t.emit("error",e),t.close(),e}))}},{key:"open",value:function(){var t=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.init());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_isUniCloudSSE",value:function(t){if("receive"!==t.type)return!1;var e=t&&t.data&&t.data.payload;return!(!e||"UNI_CLOUD_SSE"!==e.channel||e.seqId!==this._seqId)}},{key:"_receivePushMessage",value:function(t){if(this._isUniCloudSSE(t)){var e=t&&t.data&&t.data.payload,a=e.action,i=e.messageId,n=e.message;this._payloadQueue.push({action:a,messageId:i,message:n}),this._consumMessage()}}},{key:"_consumMessage",value:function(){for(var t=this;;){var e=this._payloadQueue.find((function(e){return e.messageId===t._currentMessageId+1}));if(!e)break;this._currentMessageId++,this._parseMessagePayload(e)}}},{key:"_parseMessagePayload",value:function(t){var e=t.action,a=t.messageId,i=t.message;"end"===e?this._end({messageId:a,message:i}):"message"===e&&this._appendMessage({messageId:a,message:i})}},{key:"_appendMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.messageId,t.message);this.emit("message",e)}},{key:"_end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.messageId,t.message);this.emit("end",e),this.close()}},{key:"_initMessageListener",value:function(){uni.onPushMessage(this._uniPushMessageCallback)}},{key:"_destroy",value:function(){uni.offPushMessage(this._uniPushMessageCallback)}},{key:"toJSON",value:function(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}},{key:"close",value:function(){this._destroy(),this.emit("close")}}]),a}(function(){function t(){(0,_.default)(this,t),this._callback={}}return(0,g.default)(t,[{key:"addListener",value:function(t,e){this._callback[t]||(this._callback[t]=[]),this._callback[t].push(e)}},{key:"on",value:function(t,e){return this.addListener(t,e)}},{key:"removeListener",value:function(t,e){if(!e)throw new Error('The "listener" argument must be of type function. Received undefined');var a=this._callback[t];if(a){var i=function(t,e){for(var a=t.length-1;a>=0;a--)if(t[a]===e)return a;return-1}(a,e);a.splice(i,1)}}},{key:"off",value:function(t,e){return this.removeListener(t,e)}},{key:"removeAllListener",value:function(t){delete this._callback[t]}},{key:"emit",value:function(t){for(var e=this._callback[t],a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];if(e)for(var r=0;r<e.length;r++)e[r].apply(e,i)}}]),t}());var ri={tcb:je,tencent:je,aliyun:St,private:Le,alipay:Ue},si=new(function(){function t(){(0,_.default)(this,t)}return(0,g.default)(t,[{key:"init",value:function(t){var e={},a=ri[t.provider];if(!a)throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570");return e=a.init(t),function(t){t._initPromiseHub||(t._initPromiseHub=new B({createPromise:function(){var e=Promise.resolve();e=new Promise((function(t){setTimeout((function(){t()}),1)}));var a=t.auth();return e.then((function(){return a.getLoginState()})).then((function(t){return t?Promise.resolve():a.signInAnonymously()}))}}))}(e),sa(e),function(t){var e=t.uploadFile;t.uploadFile=function(t){return e.call(this,t)}}(e),function(t){t.database=function(e){if(e&&Object.keys(e).length>0)return t.init(e).database();if(this._database)return this._database;var a=ga(va,{uniClient:t});return this._database=a,a},t.databaseForJQL=function(e){if(e&&Object.keys(e).length>0)return t.init(e).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;var a=ga(va,{uniClient:t,isJQL:!0});return this._databaseForJQL=a,a}}(e),function(t){t.getCurrentUserInfo=Qa,t.chooseAndUploadFile=Ya.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return Ka(t)}}),t.SSEChannel=ni,t.initSecureNetworkByWeixin=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.openid,i=e.callLoginByWeixin,n=void 0!==i&&i;return ei.call(t,{openid:a,callLoginByWeixin:n})}}(t),t.importObject=function(t){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.customUI=e.customUI||t.customUI,t.parseSystemError=e.parseSystemError||t.parseSystemError,Object.assign(t.loadingOptions,e.loadingOptions),Object.assign(t.errorOptions,e.errorOptions),"object"==(0,u.default)(e.secretMethods)&&(t.secretMethods=e.secretMethods),t}({customUI:!1,loadingOptions:{title:"\u52a0\u8f7d\u4e2d...",mask:!0},errorOptions:{type:"modal",retry:!1}},a);var i=a,n=i.customUI,s=i.loadingOptions,o=i.errorOptions,c=i.parseSystemError,d=!n;return new Proxy({},{get:function(i,n){switch(n){case"toString":return"[object UniCloudObject]";case"toJSON":return{}}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fn,a=t.interceptorName,i=t.getCallbackArgs;return(0,l.default)(r.default.mark((function t(){var n,s,o,u,c,l,d=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=d.length,s=new Array(n),o=0;o<n;o++)s[o]=d[o];return u=i?i({params:s}):{},t.prev=2,t.next=5,X(Z(a,"invoke"),w({},u));case 5:return t.next=7,e.apply(void 0,s);case 7:return c=t.sent,t.next=10,X(Z(a,"success"),w(w({},u),{},{result:c}));case 10:return t.abrupt("return",c);case 13:return t.prev=13,t.t0=t["catch"](2),l=t.t0,t.next=18,X(Z(a,"fail"),w(w({},u),{},{error:l}));case 18:throw l;case 19:return t.prev=19,t.next=22,X(Z(a,"complete"),w(w({},u),{},l?{error:l}:{result:c}));case 22:return t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[2,13,19,23]])})))}({fn:function(){var i=(0,l.default)(r.default.mark((function i(){var p,h,m,_,g,v,y,b,x,C,$,k,D,S,T,O=arguments;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(d&&uni.showLoading({title:s.title,mask:s.mask}),h=O.length,m=new Array(h),_=0;_<h;_++)m[_]=O[_];return g={name:e,type:M,data:{method:n,params:m}},"object"==(0,u.default)(a.secretMethods)&&function(t,e){var a=e.data.method,i=t.secretMethods||{},n=i[a]||i["*"];n&&(e.secretType=n)}(a,g),v=!1,i.prev=5,i.next=8,t.callFunction(g);case 8:p=i.sent,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](5),v=!0,p={result:new vt(i.t0)};case 14:if(y=p.result||{},b=y.errSubject,x=y.errCode,C=y.errMsg,$=y.newToken,d&&uni.hideLoading(),$&&$.token&&$.tokenExpired&&(xt($),dt(nt,w({},$))),!x){i.next=39;break}if(k=C,!v||!c){i.next=24;break}return i.next=20,c({objectName:e,methodName:n,params:m,errSubject:b,errCode:x,errMsg:C});case 20:if(i.t1=i.sent.errMsg,i.t1){i.next=23;break}i.t1=C;case 23:k=i.t1;case 24:if(!d){i.next=37;break}if("toast"!==o.type){i.next=29;break}uni.showToast({title:k,icon:"none"}),i.next=37;break;case 29:if("modal"===o.type){i.next=31;break}throw new Error("Invalid errorOptions.type: ".concat(o.type));case 31:return i.next=33,(0,l.default)(r.default.mark((function t(){var e,a,i,n,s,o,u=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},a=e.title,i=e.content,n=e.showCancel,s=e.cancelText,o=e.confirmText,t.abrupt("return",new Promise((function(t,e){uni.showModal({title:a,content:i,showCancel:n,cancelText:s,confirmText:o,success:function(e){t(e)},fail:function(){t({confirm:!1,cancel:!0})}})})));case 2:case"end":return t.stop()}}),t)})))({title:"\u63d0\u793a",content:k,showCancel:o.retry,cancelText:"\u53d6\u6d88",confirmText:o.retry?"\u91cd\u8bd5":"\u786e\u5b9a"});case 33:if(D=i.sent,S=D.confirm,!o.retry||!S){i.next=37;break}return i.abrupt("return",f.apply(void 0,m));case 37:throw T=new vt({subject:b,code:x,message:C,requestId:p.requestId}),T.detail=p.result,dt(at,{type:ot,content:T}),T;case 39:return i.abrupt("return",(dt(at,{type:ot,content:p.result}),p.result));case 40:case"end":return i.stop()}}),i,null,[[5,11]])})));function f(){return i.apply(this,arguments)}return f}(),interceptorName:"callObject",getCallbackArgs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.params;return{objectName:e,methodName:n,params:a}}})}})}}(t)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(t){if(e[t]){var a=e[t];e[t]=function(){return a.apply(e,Array.from(arguments))},e[t]=function(t,e){return function(a){var i=this,n=!1;if("callFunction"===e){var r=a&&a.type||P;n=r!==P}var s="callFunction"===e&&!n,o=this._initPromiseHub.exec();a=a||{};var u=mt(a),c=u.success,l=u.fail,d=u.complete,f=o.then((function(){return n?Promise.resolve():X(Z(e,"invoke"),a)})).then((function(){return t.call(i,a)})).then((function(t){return n?Promise.resolve(t):X(Z(e,"success"),t).then((function(){return X(Z(e,"complete"),t)})).then((function(){return s&&dt(at,{type:st,content:t}),Promise.resolve(t)}))}),(function(t){return n?Promise.reject(t):X(Z(e,"fail"),t).then((function(){return X(Z(e,"complete"),t)})).then((function(){return dt(at,{type:st,content:t}),Promise.reject(t)}))}));if(!(c||l||d))return f;f.then((function(t){c&&c(t),d&&d(t),s&&dt(at,{type:st,content:t})}),(function(t){l&&l(t),d&&d(t),s&&dt(at,{type:st,content:t})}))}}(e[t],t).bind(e)}})),e.init=this.init,e}}]),t}());(function(){var t=V,e={};if(t&&1===t.length)e=t[0],si=si.init(e),si._isDefault=!0;else{var a;a=t&&t.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4",["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"].forEach((function(t){si[t]=function(){return Promise.reject(new vt({code:"SYS_ERR",message:a}))}}))}Object.assign(si,{get mixinDatacom(){return Ka(si)}}),Va(si),si.addInterceptor=Y,si.removeInterceptor=K,si.interceptObject=tt})();var oi=si;e.default=oi}).call(this,a("c8ba"),a("fe07")["default"])},ab51:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7edf\u767b\u5f55","prompt":"\u5982\u65e0\u7ba1\u7406\u5458\u8d26\u53f7\uff0c\u8bf7\u5148\u521b\u5efa\u7ba1\u7406\u5458"},"field":{"username":"\u8d26\u53f7","password":"\u5bc6\u7801","captcha":"\u9a8c\u8bc1\u7801"},"button":{"login":"\u767b\u5f55"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6863","plugin":"\u6d4f\u89c8\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u7801","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5185\u5bb9\u4e3b\u4f53\uff0c\u53ef\u81ea\u5b9a\u4e49\u5185\u5bb9\u53ca\u6837\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u5f53\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u7801"},"field":{"oldPassword":"\u65e7\u5bc6\u7801","newPassword":"\u65b0\u5bc6\u7801","passwordConfirmation":"\u786e\u8ba4\u65b0\u5bc6\u7801"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},"button":{"search":"\u641c\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u5220\u9664","batchDelete":"\u6279\u91cf\u5220\u9664","exportExcel":"\u5bfc\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6807\u7b7e\u7ba1\u7406","publish":"\u53d1\u5e03\u9875\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406","sendSMS":"\u7fa4\u53d1\u77ed\u4fe1"},"empty":"\u6ca1\u6709\u66f4\u591a\u6570\u636e","piecePerPage":"\u6761/\u9875"},"user":{"text":{"userManager":"\u7528\u6237\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6743\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u5e94\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6237\u53ef\u767b\u5f55\u7684\u5e94\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u5355\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u5355"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7ea7\u83dc\u5355","addChildMenu":"\u5b50\u83dc\u5355","updateBuiltInMenu":"\u66f4\u65b0\u5185\u7f6e\u83dc\u5355"}},"demo":{"icons":{"title":"\u56fe\u6807","describle":"\u70b9\u51fb\u56fe\u6807\u5373\u53ef\u590d\u5236\u56fe\u6807\u4ee3\u7801"},"table":{"title":"\u8868\u683c"}}}')},ac1d:function(t,e,a){"use strict";a.r(e);var i=a("35c0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ac80:function(t,e,a){"use strict";a.r(e);var i=a("0689"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ac97:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("c973")),o=n(a("9523")),u=a("26cb"),c=n(a("f808")),l=(a("d31b"),a("e8ce")),d=n(a("7f8e"));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={created:function(){this.clear=void 0},methods:p(p(p({},(0,u.mapMutations)("app",["SET_THEME"])),(0,u.mapActions)({init:"app/init"})),{},{clearPlatform:function(){var t=uni.getStorageInfoSync().keys.filter((function(t){return t.indexOf("platform")>-1}));t.length&&t.forEach((function(t){return uni.removeStorageSync(t)}))}}),onPageNotFound:function(t){uni.redirectTo({url:c.default.error.url})},onLaunch:function(){var t=this;this.$uniIdPagesStore.store.hasLogin&&this.init(),uni.$on("uni-id-pages-login-success",(function(){t.init()})),this.SET_THEME(uni.getStorageSync(l.uniAdminCacheKey.theme)||"default"),d.default.init({provider:"unicloud",domain:"cdn.example.com",fileID2fileURL:!0,uploadFileOptions:function(){var t=(0,s.default)(r.default.mark((function t(e){var a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.importObject("ext-storage-co"),t.next=3,a.getUploadFileOptions(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},onShow:function(){var t=this;this.clear=setInterval((function(){return t.clearPlatform()}),9e5)},onHide:function(){this.clear&&clearInterval(this.clear)}};e.default=h}).call(this,a("0de9")["default"],a("a9ff")["default"])},acf1:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),a("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),a("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:19}})],1)],1),a("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),a("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("fix-window",{attrs:{_i:24}})],1)},r=[]},ad18:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniLink:a("e328").default,uniDataCheckbox:a("86d4").default,uniPopup:a("6a38").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[a("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807class",_i:6}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},scopedSlots:t._u([{key:"right",fn:function(e,i,n){return[a("span",{staticStyle:{color:"#007aff",cursor:"pointer","padding-right":"10px"},attrs:{_i:"9-"+n},on:{click:t.showIconPopup}},[t._v("\u5185\u7f6e\u56fe\u6807")])]}}]),model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}}),a("uni-link",{staticClass:t._$s(10,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:10}})],1),a("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:11}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u5fc5\u987b\u662f/\u5f00\u5934\uff0c\u82e5URL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:12},model:{value:t._$s(12,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),a("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:13}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:14},model:{value:t._$s(14,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),a("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:15}},[a("uni-easyinput",{attrs:{disabled:!0,clearable:!1,placeholder:"\u65b0\u589e\u83dc\u5355\u65f6\u81ea\u52a8\u586b\u5145, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:16},model:{value:t._$s(16,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),a("uni-forms-item",{staticClass:t._$s(17,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:17}},[a("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:18},model:{value:t._$s(18,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),a("view",{staticClass:t._$s(19,"sc","uni-form-item-tips"),attrs:{_i:19}})],1),a("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:20}},[a("switch",{attrs:{checked:t._$s(21,"a-checked",t.formData.enable),_i:21},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),a("view",{staticClass:t._$s(22,"sc","uni-button-group"),attrs:{_i:22}},[a("button",{staticClass:t._$s(23,"sc","uni-button"),attrs:{_i:23},on:{click:t.submitForm}},[t._v(t._$s(23,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(25,"sc","uni-button"),attrs:{_i:25}},[t._v(t._$s(25,"t0-0",t._s(t.$t("common.button.back"))))])])])],1),a("uni-popup",{ref:"iconPopup",staticClass:t._$s(26,"sc","icon-modal-box"),attrs:{type:"center",_i:26}},[a("view",{staticClass:t._$s(27,"sc","icon-modal icon-modal-pc"),attrs:{_i:27}},[a("Icons",{attrs:{tag:!1,"fix-window":!1,_i:28}})],1)])],1)},r=[]},ad22:function(t,e,a){"use strict";a.r(e),function(t,i){a.d(e,"stacktracey",(function(){return et})),a.d(e,"uniStracktraceyPreset",(function(){return rt})),a.d(e,"utsStracktraceyPreset",(function(){return st}));var n=a("3e8f"),r=a.n(n);const s=Object,o="undefined"!==typeof window&&window.window===window&&window.navigator,u=o?null:t.require,c=t=>t[t.length-1],l=t=>t.replace(/\\/g,"/"),d=o?window.location.href:l(i.cwd())+"/";class f{constructor(t,e,a){this.itemsHeader=[],this.isMP=!1;const i=t,n=t&&t instanceof SyntaxError&&!o;if(t||(t=new Error,a=void 0===a?1:a),t instanceof Error&&(t=t.stack||""),"string"===typeof t&&(this.isMP="mp-weixin"===e,t=this.rawParse(t).slice(a).map(t=>this.extractEntryMetadata(t))),Array.isArray(t)){if(n){const e=u("util").inspect(i).split("\n"),a=e[0].split(":"),n=a.pop(),r=a.join(":");r&&t.unshift({file:l(r),line:n,column:(e[2]||"").indexOf("^")+1,sourceLine:e[1],callee:"(syntax error)",syntaxError:!0})}this.items=t}else this.items=[]}extractEntryMetadata(t){const e=this.decomposePath(t.file||""),a=e[0],i=e[1];return s.assign(t,{calleeShort:t.calleeShort||c((t.callee||"").split(".")),fileRelative:a,fileShort:this.shortenPath(a),fileName:c((t.file||"").split("/")),thirdParty:this.isThirdParty(a,i)&&!t.index,externalDomain:i})}shortenPath(t){return t.replace(/^node_modules\//,"").replace(/^webpack\/bootstrap\//,"").replace(/^__parcel_source_root\//,"")}decomposePath(t){let e=t;o&&(e=e.replace(d,""));const a=e.match(/^(http|https)\:\/\/?([^\/]+)\/{1,}(.*)/),i=a?a[2]:void 0;return e=a?a[3]:e,[l(e).replace(/^.*\:\/\/?\/?/,""),i]}isThirdParty(t,e){return this.isMP?"undefined"!==typeof e&&"usr"!==e:"~"===t[0]||"/"===t[0]||-1!==t.indexOf("@dcloudio")||-1!==t.indexOf("weex-main-jsfm")||0===t.indexOf("webpack/bootstrap")}rawParse(t){const e=(t||"").split("\n"),a=e.map((t,e)=>{t=t.trim();let a,i,n,r,s=[];if(-1!==t.indexOf("file:")&&(t=t.replace(/file:\/\/(.*)www/,"file://")),(n=t.match(/at (.+) \(eval at .+ \((.+)\), .+\)/))||(n=t.match(/at (.+) \((.+)\)/))||"at "!==t.slice(0,3)&&(n=t.match(/(.*)@(.*)/)))this.itemsHeader.push("%StacktraceyItem%"),a=n[1],i="native"===n[2],s=(n[2].match(/(.*):(\d+):(\d+)/)||n[2].match(/(.*):(\d+)/)||n[2].match(/\[(.*)\]/)||[]).slice(1);else{if(!(r=t.match(/^(at\s*)*(.*)\s+(.+):(\d+):(\d+)/)))return void this.itemsHeader.push(t);this.itemsHeader.push("%StacktraceyItem%"),a=r[2].trim(),s=r.slice(3)}if(a&&!s[0]){const t=a.split(".")[0];"Array"===t&&(i=!0)}return{beforeParse:t,callee:a||"",index:o&&s[0]===window.location.href,native:i||!1,file:l(s[0]||""),line:parseInt(s[1]||"",10)||void 0,column:parseInt(s[2]||"",10)||void 0}});return a.filter(t=>void 0!==t)}maxColumnWidths(){return{callee:30,file:60,sourceLine:80}}asTable(t){const e=t&&t.maxColumnWidths||this.maxColumnWidths(),a=this.filter(t=>!t.thirdParty).map(t=>m(t,e,this.isMP)),i=this.filter(t=>t.thirdParty).map(t=>m(t,e,this.isMP));return{items:a.items,thirdPartyItems:i.items}}}const p=(t,e)=>t&&(t.length>e?t.slice(0,e-1)+"\u2026":t),h=(t,e)=>t&&(t.length>e?"\u2026"+t.slice(-(e-1)):t);function m(t,e,a){if(!t.parsed)return t.beforeParse;const i=(a?t.file&&t.file:t.fileShort&&t.fileShort)+""+(t.line?":"+t.line:"")+(t.column?":"+t.column:"");return["at "+p(a?t.callee:t.calleeShort,e.callee),h(i||"",e.file),p((t.sourceLine||"").trim()||"",e.sourceLine)]}["map","filter","slice","concat"].forEach(t=>{f.prototype[t]=function(){return new f(this.items[t].apply(this.items,arguments))}});var _=f;const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");var v={encode:function(t){if(0<=t&&t<g.length)return g[t];throw new TypeError("Must be between 0 and 63: "+t)}},y=v;var b={encode:function(t){let e,a="",i=function(t){return t<0?1+(-t<<1):0+(t<<1)}(t);do{e=31&i,i>>>=5,i>0&&(e|=32),a+=y.encode(e)}while(i>0);return a}};function x(t){var e={exports:{}};return t(e,e.exports),e.exports}var w=x((function(t,e){e.getArg=function(t,e,a){if(e in t)return t[e];if(3===arguments.length)return a;throw new Error('"'+e+'" is a required argument.')};const a=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function n(t){const e=t.match(a);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function r(t){let e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}e.urlParse=n,e.urlGenerate=r;const s=function(t){const e=[];return function(a){for(let t=0;t<e.length;t++)if(e[t].input===a){const a=e[0];return e[0]=e[t],e[t]=a,e[0].result}const i=t(a);return e.unshift({input:a,result:i}),e.length>32&&e.pop(),i}}((function(t){let a=t;const i=n(t);if(i){if(!i.path)return t;a=i.path}const s=e.isAbsolute(a),o=[];let u=0,c=0;while(1){if(u=c,c=a.indexOf("/",u),-1===c){o.push(a.slice(u));break}o.push(a.slice(u,c));while(c<a.length&&"/"===a[c])c++}let l=0;for(c=o.length-1;c>=0;c--){const t=o[c];"."===t?o.splice(c,1):".."===t?l++:l>0&&(""===t?(o.splice(c+1,l),l=0):(o.splice(c,2),l--))}return a=o.join("/"),""===a&&(a=s?"/":"."),i?(i.path=a,r(i)):a}));function o(t,e){""===t&&(t="."),""===e&&(e=".");const a=n(e),o=n(t);if(o&&(t=o.path||"/"),a&&!a.scheme)return o&&(a.scheme=o.scheme),r(a);if(a||e.match(i))return e;if(o&&!o.host&&!o.path)return o.host=e,r(o);const u="/"===e.charAt(0)?e:s(t.replace(/\/+$/,"")+"/"+e);return o?(o.path=u,r(o)):u}e.normalize=s,e.join=o,e.isAbsolute=function(t){return"/"===t.charAt(0)||a.test(t)},e.relative=function(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");let a=0;while(0!==e.indexOf(t+"/")){const i=t.lastIndexOf("/");if(i<0)return e;if(t=t.slice(0,i),t.match(/^([^\/]+:\/)?\/*$/))return e;++a}return Array(a+1).join("../")+e.substr(t.length+1)};const u=function(){const t=Object.create(null);return!("__proto__"in t)}();function c(t){return t}function l(t){if(!t)return!1;const e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(let a=e-10;a>=0;a--)if(36!==t.charCodeAt(a))return!1;return!0}function d(t,e){return t===e?0:null===t?1:null===e?-1:t>e?1:-1}e.toSetString=u?c:function(t){return l(t)?"$"+t:t},e.fromSetString=u?c:function(t){return l(t)?t.slice(1):t},e.compareByOriginalPositions=function(t,e,a){let i=d(t.source,e.source);return 0!==i?i:(i=t.originalLine-e.originalLine,0!==i?i:(i=t.originalColumn-e.originalColumn,0!==i||a?i:(i=t.generatedColumn-e.generatedColumn,0!==i?i:(i=t.generatedLine-e.generatedLine,0!==i?i:d(t.name,e.name)))))},e.compareByGeneratedPositionsDeflated=function(t,e,a){let i=t.generatedLine-e.generatedLine;return 0!==i?i:(i=t.generatedColumn-e.generatedColumn,0!==i||a?i:(i=d(t.source,e.source),0!==i?i:(i=t.originalLine-e.originalLine,0!==i?i:(i=t.originalColumn-e.originalColumn,0!==i?i:d(t.name,e.name)))))},e.compareByGeneratedPositionsInflated=function(t,e){let a=t.generatedLine-e.generatedLine;return 0!==a?a:(a=t.generatedColumn-e.generatedColumn,0!==a?a:(a=d(t.source,e.source),0!==a?a:(a=t.originalLine-e.originalLine,0!==a?a:(a=t.originalColumn-e.originalColumn,0!==a?a:d(t.name,e.name)))))},e.parseSourceMapInput=function(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(t,e,a){if(e=e||"",t&&("/"!==t[t.length-1]&&"/"!==e[0]&&(t+="/"),e=t+e),a){const t=n(a);if(!t)throw new Error("sourceMapURL could not be parsed");if(t.path){const e=t.path.lastIndexOf("/");e>=0&&(t.path=t.path.substring(0,e+1))}e=o(r(t),e)}return s(e)}}));class C{constructor(){this._array=[],this._set=new Map}static fromArray(t,e){const a=new C;for(let i=0,n=t.length;i<n;i++)a.add(t[i],e);return a}size(){return this._set.size}add(t,e){const a=this.has(t),i=this._array.length;a&&!e||this._array.push(t),a||this._set.set(t,i)}has(t){return this._set.has(t)}indexOf(t){const e=this._set.get(t);if(e>=0)return e;throw new Error('"'+t+'" is not in the set.')}at(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)}toArray(){return this._array.slice()}}var $=C,k={ArraySet:$},D=w;var S=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(t,e){this._array.forEach(t,e)}add(t){!function(t,e){const a=t.generatedLine,i=e.generatedLine,n=t.generatedColumn,r=e.generatedColumn;return i>a||i==a&&r>=n||D.compareByGeneratedPositionsInflated(t,e)<=0}(this._last,t)?(this._sorted=!1,this._array.push(t)):(this._last=t,this._array.push(t))}toArray(){return this._sorted||(this._array.sort(D.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}},T={MappingList:S},O=b,P=k,M=T;const A=P.ArraySet,I=M.MappingList;class j{constructor(t){t||(t={}),this._file=D.getArg(t,"file",null),this._sourceRoot=D.getArg(t,"sourceRoot",null),this._skipValidation=D.getArg(t,"skipValidation",!1),this._sources=new A,this._names=new A,this._mappings=new I,this._sourcesContents=null}static fromSourceMap(t){const e=t.sourceRoot,a=new j({file:t.file,sourceRoot:e});return t.eachMapping((function(t){const i={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(i.source=t.source,null!=e&&(i.source=D.relative(e,i.source)),i.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(i.name=t.name)),a.addMapping(i)})),t.sources.forEach((function(i){let n=i;null!==e&&(n=D.relative(e,i)),a._sources.has(n)||a._sources.add(n);const r=t.sourceContentFor(i);null!=r&&a.setSourceContent(i,r)})),a}addMapping(t){const e=D.getArg(t,"generated"),a=D.getArg(t,"original",null);let i=D.getArg(t,"source",null),n=D.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,a,i,n),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=n&&(n=String(n),this._names.has(n)||this._names.add(n)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=a&&a.line,originalColumn:null!=a&&a.column,source:i,name:n})}setSourceContent(t,e){let a=t;null!=this._sourceRoot&&(a=D.relative(this._sourceRoot,a)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[D.toSetString(a)]=e):this._sourcesContents&&(delete this._sourcesContents[D.toSetString(a)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(t,e,a){let i=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=t.file}const n=this._sourceRoot;null!=n&&(i=D.relative(n,i));const r=this._mappings.toArray().length>0?new A:this._sources,s=new A;this._mappings.unsortedForEach((function(e){if(e.source===i&&null!=e.originalLine){const i=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=i.source&&(e.source=i.source,null!=a&&(e.source=D.join(a,e.source)),null!=n&&(e.source=D.relative(n,e.source)),e.originalLine=i.line,e.originalColumn=i.column,null!=i.name&&(e.name=i.name))}const o=e.source;null==o||r.has(o)||r.add(o);const u=e.name;null==u||s.has(u)||s.add(u)}),this),this._sources=r,this._names=s,t.sources.forEach((function(e){const i=t.sourceContentFor(e);null!=i&&(null!=a&&(e=D.join(a,e)),null!=n&&(e=D.relative(n,e)),this.setSourceContent(e,i))}),this)}_validateMapping(t,e,a,i){if(e&&"number"!==typeof e.line&&"number"!==typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!e&&!a&&!i);else if(!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&a))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:a,original:e,name:i}))}_serializeMappings(){let t,e,a,i,n=0,r=1,s=0,o=0,u=0,c=0,l="";const d=this._mappings.toArray();for(let f=0,p=d.length;f<p;f++){if(e=d[f],t="",e.generatedLine!==r){n=0;while(e.generatedLine!==r)t+=";",r++}else if(f>0){if(!D.compareByGeneratedPositionsInflated(e,d[f-1]))continue;t+=","}t+=O.encode(e.generatedColumn-n),n=e.generatedColumn,null!=e.source&&(i=this._sources.indexOf(e.source),t+=O.encode(i-c),c=i,t+=O.encode(e.originalLine-1-o),o=e.originalLine-1,t+=O.encode(e.originalColumn-s),s=e.originalColumn,null!=e.name&&(a=this._names.indexOf(e.name),t+=O.encode(a-u),u=a)),l+=t}return l}_generateSourcesContent(t,e){return t.map((function(t){if(!this._sourcesContents)return null;null!=e&&(t=D.relative(e,t));const a=D.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null}),this)}toJSON(){const t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t}toString(){return JSON.stringify(this.toJSON())}}j.prototype._version=3;var F=x((function(t,e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,a,i,n){if(0===a.length)return-1;let r=function t(a,i,n,r,s,o){const u=Math.floor((i-a)/2)+a,c=s(n,r[u],!0);return 0===c?u:c>0?i-u>1?t(u,i,n,r,s,o):o==e.LEAST_UPPER_BOUND?i<r.length?i:-1:u:u-a>1?t(a,u,n,r,s,o):o==e.LEAST_UPPER_BOUND?u:a<0?-1:a}(-1,a.length,t,a,i,n||e.GREATEST_LOWER_BOUND);if(r<0)return-1;while(r-1>=0){if(0!==i(a[r],a[r-1],!0))break;--r}return r}})),L=x((function(t){{let e=null;t.exports=function(){if("string"===typeof e)return fetch(e).then(t=>t.arrayBuffer());if(e instanceof ArrayBuffer)return Promise.resolve(e);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},t.exports.initialize=t=>e=t}})),E=L;function q(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let R=null;var N=F,B=function(){if(R)return R;const t=[];return R=E().then(e=>WebAssembly.instantiate(e,{env:{mapping_callback(e,a,i,n,r,s,o,u,c,l){const d=new q;d.generatedLine=e+1,d.generatedColumn=a,i&&(d.lastGeneratedColumn=n-1),r&&(d.source=s,d.originalLine=o+1,d.originalColumn=u,c&&(d.name=l)),t[t.length-1](d)},start_all_generated_locations_for(){},end_all_generated_locations_for(){},start_compute_column_spans(){},end_compute_column_spans(){},start_generated_location_for(){},end_generated_location_for(){},start_original_location_for(){},end_original_location_for(){},start_parse_mappings(){},end_parse_mappings(){},start_sort_by_generated_location(){},end_sort_by_generated_location(){},start_sort_by_original_location(){},end_sort_by_original_location(){}}})).then(e=>({exports:e.instance.exports,withMappingCallback:(e,a)=>{t.push(e);try{a()}finally{t.pop()}}})).then(null,t=>{throw R=null,t}),R};const z=P.ArraySet,W=Symbol("smcInternal");class U{constructor(t,e){return t==W?Promise.resolve(this):function(t,e){let a=t;"string"===typeof t&&(a=D.parseSourceMapInput(t));const i=null!=a.sections?new Q(a,e):new H(a,e);return Promise.resolve(i)}(t,e)}static initialize(t){E.initialize(t["lib/mappings.wasm"])}static fromSourceMap(t,e){return function(t,e){return H.fromSourceMap(t,e)}(t,e)}static async with(t,e,a){const i=await new U(t,e);try{return await a(i)}finally{i.destroy()}}_parseMappings(t,e){throw new Error("Subclasses must implement _parseMappings")}eachMapping(t,e,a){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(t){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}U.prototype._version=3,U.GENERATED_ORDER=1,U.ORIGINAL_ORDER=2,U.GREATEST_LOWER_BOUND=1,U.LEAST_UPPER_BOUND=2;var V=U;class H extends U{constructor(t,e){return super(W).then(a=>{let i=t;"string"===typeof t&&(i=D.parseSourceMapInput(t));const n=D.getArg(i,"version");let r=D.getArg(i,"sources");const s=D.getArg(i,"names",[]);let o=D.getArg(i,"sourceRoot",null);const u=D.getArg(i,"sourcesContent",null),c=D.getArg(i,"mappings"),l=D.getArg(i,"file",null);if(n!=a._version)throw new Error("Unsupported version: "+n);return o&&(o=D.normalize(o)),r=r.map(String).map(D.normalize).map((function(t){return o&&D.isAbsolute(o)&&D.isAbsolute(t)?D.relative(o,t):t})),a._names=z.fromArray(s.map(String),!0),a._sources=z.fromArray(r,!0),a._absoluteSources=a._sources.toArray().map((function(t){return D.computeSourceURL(o,t,e)})),a.sourceRoot=o,a.sourcesContent=u,a._mappings=c,a._sourceMapURL=e,a.file=l,a._computedColumnSpans=!1,a._mappingsPtr=0,a._wasm=null,B().then(t=>(a._wasm=t,a))})}_findSourceIndex(t){let e=t;if(null!=this.sourceRoot&&(e=D.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);for(let a=0;a<this._absoluteSources.length;++a)if(this._absoluteSources[a]==t)return a;return-1}static fromSourceMap(t,e){return new H(t.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(t,e){const a=t.length,i=this._wasm.exports.allocate_mappings(a),n=new Uint8Array(this._wasm.exports.memory.buffer,i,a);for(let s=0;s<a;s++)n[s]=t.charCodeAt(s);const r=this._wasm.exports.parse_mappings(i);if(!r){const t=this._wasm.exports.get_last_error();let e=`Error parsing mappings (code ${t}): `;switch(t){case 1:e+="the mappings contained a negative line, column, source index, or name index";break;case 2:e+="the mappings contained a number larger than 2**32";break;case 3:e+="reached EOF while in the middle of parsing a VLQ";break;case 4:e+="invalid base 64 character while parsing a VLQ";break;default:e+="unknown error code";break}throw new Error(e)}this._mappingsPtr=r}eachMapping(t,e,a){const i=e||null,n=a||U.GENERATED_ORDER,r=this.sourceRoot;this._wasm.withMappingCallback(e=>{null!==e.source&&(e.source=this._sources.at(e.source),e.source=D.computeSourceURL(r,e.source,this._sourceMapURL),null!==e.name&&(e.name=this._names.at(e.name))),t.call(i,e)},()=>{switch(n){case U.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case U.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(t){let e=D.getArg(t,"source");const a=D.getArg(t,"line"),i=t.column||0;if(e=this._findSourceIndex(e),e<0)return[];if(a<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");const n=[];return this._wasm.withMappingCallback(t=>{let e=t.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),n.push({line:t.generatedLine,column:t.generatedColumn,lastColumn:e})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),e,a-1,"column"in t,i)}),n}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(t){const e={generatedLine:D.getArg(t,"line"),generatedColumn:D.getArg(t,"column")};if(e.generatedLine<1)throw new Error("Line numbers must be >= 1");if(e.generatedColumn<0)throw new Error("Column numbers must be >= 0");let a,i=D.getArg(t,"bias",U.GREATEST_LOWER_BOUND);if(null==i&&(i=U.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>a=t,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),e.generatedLine-1,e.generatedColumn,i)}),a&&a.generatedLine===e.generatedLine){let t=D.getArg(a,"source",null);null!==t&&(t=this._sources.at(t),t=D.computeSourceURL(this.sourceRoot,t,this._sourceMapURL));let e=D.getArg(a,"name",null);return null!==e&&(e=this._names.at(e)),{source:t,line:D.getArg(a,"originalLine",null),column:D.getArg(a,"originalColumn",null),name:e}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(t){return null==t})))}sourceContentFor(t,e){if(!this.sourcesContent)return null;const a=this._findSourceIndex(t);if(a>=0)return this.sourcesContent[a];let i,n=t;if(null!=this.sourceRoot&&(n=D.relative(this.sourceRoot,n)),null!=this.sourceRoot&&(i=D.urlParse(this.sourceRoot))){const t=n.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!i.path||"/"==i.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(e)return null;throw new Error('"'+n+'" is not in the SourceMap.')}generatedPositionFor(t){let e=D.getArg(t,"source");if(e=this._findSourceIndex(e),e<0)return{line:null,column:null,lastColumn:null};const a={source:e,originalLine:D.getArg(t,"line"),originalColumn:D.getArg(t,"column")};if(a.originalLine<1)throw new Error("Line numbers must be >= 1");if(a.originalColumn<0)throw new Error("Column numbers must be >= 0");let i,n=D.getArg(t,"bias",U.GREATEST_LOWER_BOUND);if(null==n&&(n=U.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>i=t,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),a.source,a.originalLine-1,a.originalColumn,n)}),i&&i.source===a.source){let t=i.lastGeneratedColumn;return this._computedColumnSpans&&null===t&&(t=1/0),{line:D.getArg(i,"generatedLine",null),column:D.getArg(i,"generatedColumn",null),lastColumn:t}}return{line:null,column:null,lastColumn:null}}}H.prototype.consumer=U;var G=H;class Q extends U{constructor(t,e){return super(W).then(a=>{let i=t;"string"===typeof t&&(i=D.parseSourceMapInput(t));const n=D.getArg(i,"version"),r=D.getArg(i,"sections");if(n!=a._version)throw new Error("Unsupported version: "+n);a._sources=new z,a._names=new z,a.__generatedMappings=null,a.__originalMappings=null,a.__generatedMappingsUnsorted=null,a.__originalMappingsUnsorted=null;let s={line:-1,column:0};return Promise.all(r.map(t=>{if(t.url)throw new Error("Support for url field in sections not implemented.");const a=D.getArg(t,"offset"),i=D.getArg(a,"line"),n=D.getArg(a,"column");if(i<s.line||i===s.line&&n<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");s=a;const r=new U(D.getArg(t,"map"),e);return r.then(t=>({generatedOffset:{generatedLine:i+1,generatedColumn:n+1},consumer:t}))})).then(t=>(a._sections=t,a))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const t=this._generatedMappingsUnsorted;t.sort(D.compareByGeneratedPositionsDeflated),this.__generatedMappings=t}_sortOriginalMappings(){const t=this._originalMappingsUnsorted;t.sort(D.compareByOriginalPositions),this.__originalMappings=t}get sources(){const t=[];for(let e=0;e<this._sections.length;e++)for(let a=0;a<this._sections[e].consumer.sources.length;a++)t.push(this._sections[e].consumer.sources[a]);return t}originalPositionFor(t){const e={generatedLine:D.getArg(t,"line"),generatedColumn:D.getArg(t,"column")},a=N.search(e,this._sections,(function(t,e){const a=t.generatedLine-e.generatedOffset.generatedLine;return a||t.generatedColumn-e.generatedOffset.generatedColumn})),i=this._sections[a];return i?i.consumer.originalPositionFor({line:e.generatedLine-(i.generatedOffset.generatedLine-1),column:e.generatedColumn-(i.generatedOffset.generatedLine===e.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(t){return t.consumer.hasContentsOfAllSources()}))}sourceContentFor(t,e){for(let a=0;a<this._sections.length;a++){const e=this._sections[a],i=e.consumer.sourceContentFor(t,!0);if(i)return i}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')}generatedPositionFor(t){for(let e=0;e<this._sections.length;e++){const a=this._sections[e];if(-1===a.consumer._findSourceIndex(D.getArg(t,"source")))continue;const i=a.consumer.generatedPositionFor(t);if(i){const t={line:i.line+(a.generatedOffset.generatedLine-1),column:i.column+(a.generatedOffset.generatedLine===i.line?a.generatedOffset.generatedColumn-1:0)};return t}}return{line:null,column:null}}_parseMappings(t,e){const a=this.__generatedMappingsUnsorted=[],i=this.__originalMappingsUnsorted=[];for(let n=0;n<this._sections.length;n++){const t=this._sections[n],e=[];t.consumer.eachMapping(t=>e.push(t));for(let n=0;n<e.length;n++){const r=e[n];let s=D.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(s),s=this._sources.indexOf(s);let o=null;r.name&&(this._names.add(r.name),o=this._names.indexOf(r.name));const u={source:s,generatedLine:r.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:r.generatedColumn+(t.generatedOffset.generatedLine===r.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:r.originalLine,originalColumn:r.originalColumn,name:o};a.push(u),"number"===typeof u.originalLine&&i.push(u)}}}eachMapping(t,e,a){const i=e||null,n=a||U.GENERATED_ORDER;let r;switch(n){case U.GENERATED_ORDER:r=this._generatedMappings;break;case U.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const s=this.sourceRoot;r.map((function(t){let e=null;return null!==t.source&&(e=this._sources.at(t.source),e=D.computeSourceURL(s,e,this._sourceMapURL)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}}),this).forEach(t,i)}_findMapping(t,e,a,i,n,r){if(t[a]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[a]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return N.search(t,e,n,r)}allGeneratedPositionsFor(t){const e=D.getArg(t,"line"),a={source:D.getArg(t,"source"),originalLine:e,originalColumn:D.getArg(t,"column",0)};if(a.source=this._findSourceIndex(a.source),a.source<0)return[];if(a.originalLine<1)throw new Error("Line numbers must be >= 1");if(a.originalColumn<0)throw new Error("Column numbers must be >= 0");const i=[];let n=this._findMapping(a,this._originalMappings,"originalLine","originalColumn",D.compareByOriginalPositions,N.LEAST_UPPER_BOUND);if(n>=0){let a=this._originalMappings[n];if(void 0===t.column){const t=a.originalLine;while(a&&a.originalLine===t){let t=a.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:D.getArg(a,"generatedLine",null),column:D.getArg(a,"generatedColumn",null),lastColumn:t}),a=this._originalMappings[++n]}}else{const t=a.originalColumn;while(a&&a.originalLine===e&&a.originalColumn==t){let t=a.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:D.getArg(a,"generatedLine",null),column:D.getArg(a,"generatedColumn",null),lastColumn:t}),a=this._originalMappings[++n]}}}return i}destroy(){for(let t=0;t<this._sections.length;t++)this._sections[t].consumer.destroy()}}var J=Q;var Y={SourceMapConsumer:V,BasicSourceMapConsumer:G,IndexedSourceMapConsumer:J};var K=Y,X=K.SourceMapConsumer;X.initialize&&X.initialize({"lib/mappings.wasm":"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm"});const Z=t=>t.replace(/\\/g,"/"),tt={};function et(t,e){const a=e.preset.parseStacktrace(t);let i=Promise.resolve();a.items.forEach((t,n)=>{const r=(t,i)=>{const{line:n=0,column:s=0,file:o,fileName:u,fileRelative:c}=t;if(t.thirdParty)return Promise.resolve();try{return function(t,a,i){return e.preset.getSourceMapContent(t,a,i).then(t=>{if(t)return function(t){return new Promise((e,a)=>{try{if(X.with)X.with(t,null,t=>{e(t)});else{const a=X(t);e(a)}}catch(i){a()}})}(t).then(t=>function(t,e){const{source:a,line:i,column:n}=t.originalPositionFor(e);if(a){const t=a.split("/"),e=t.slice(3).join("/"),r=t.pop();return{source:a,sourcePath:e,sourceLine:null===i?0:i,sourceColumn:null===n?0:n,fileName:r}}}(t,{line:n,column:s}))})}(o,u,c).then(e=>{if(e){const{source:n,sourcePath:s,sourceLine:o,sourceColumn:u,fileName:c=""}=e;a.items[i]=Object.assign({},t,{file:n,line:o,column:u,fileShort:s,fileRelative:n,fileName:c,thirdParty:at(s),parsed:!0});const l=a.items[i];if(a.isMP&&-1!==l.beforeParse.indexOf("app-service"))return r(l,i)}})}catch(l){return Promise.resolve()}};i=i.then(()=>new Promise((e,a)=>{setTimeout(()=>{r(t,n).then(e)},0)}))});const n=new Promise((n,r)=>{i.then(()=>{const i=e.preset.asTableStacktrace({stack:a,maxColumnWidths:{callee:999,file:999,sourceLine:999},stacktrace:t});n(i)}).catch(()=>{n(t)})});return n}function at(t){return-1!==t.indexOf("@dcloudio")}function it(t){try{return tt[t]||(tt[t]=new Promise((e,a)=>{try{/^[http|https]+:/i.test(t)?uni.request({url:t,success:a=>{200===a.statusCode?(tt[t]=a.data,e(tt[t])):e(tt[t]="")},fail(){e(tt[t]="")}}):(tt[t]=r.a.readFileSync(t,"utf-8"),e(tt[t]))}catch(i){e("")}}))}catch(e){return""}}function nt(t){if("string"===typeof t)return t;const e=t[0],a=t[1]?"  "+t[1]:"",i=t[2]?" "+t[2]:"";return`${e}${a}${i}`}function rt(t){const{base:e,sourceRoot:a,splitThirdParty:i,uniPlatform:n}=t;let r;return{parseSourceMapUrl(t,i,n){if(-1!==n.indexOf("(")&&(n=n.match(/\((.*)/)[1]),!e||!n)return"";if(a)return n.replace(a,e+"/")+".map";let s="";return r.isMP&&(-1!==n.indexOf("app-service.js")&&(s=(e.match(/\w$/)?"/":"")+"__WEIXIN__",n===i&&(s+="/__APP__"),n=n.replace(".js",".map")),s&&n.match(/^\w/)&&(s+="/")),`${e}${s}${n}.map`},getSourceMapContent(t,e,a){if(r.isMP&&-1===a.indexOf(".js"))return Promise.resolve("");const i=this.parseSourceMapUrl(t,e,a);return Promise.resolve(it(i))},parseStacktrace(t){return r=new _(t,n),r},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:a}){const n=e.split("\n")[0],r=a.asTable?a.asTable(t?{maxColumnWidths:t}:void 0):{items:[],thirdPartyItems:[]};if(r.items.length||r.thirdPartyItems.length){const{items:t,thirdPartyItems:e}=r,n=a.itemsHeader.map(e=>{if("%StacktraceyItem%"===e){const e=t.shift();return e?nt(e):""}return e}).filter(Boolean).join("\n"),s=e.length?e.map(nt).join("\n"):"";return i?{userError:n,thirdParty:s}:n+"\n"+s}return i?{userError:n,thirdParty:""}:n}}}function st(t){const{base:e,sourceRoot:a}=t;let i=[];return{parseSourceMapUrl(t,i,n){return a?t.replace(a,e+"/")+".map":`${e}/${t}.map`},getSourceMapContent(t,e,a){return Promise.resolve(it(this.parseSourceMapUrl(t,e,a)))},parseStacktrace(t){const e=(t||"").split("\n"),a=e.map((t,e)=>{t=t.trim();let a,n,r,s=[];if(!(n=t.match(/e: (.+\.kt)(.+\))*:\s*(.+)*/)))return void i.push(t);i.push("%StacktraceyItem%"),a="e: ",s=(n[2].match(/.*:.*\((\d+).+?(\d+)\)/)||[]).slice(1);const o=n[1]&&(r=n[1].match(/(.*)*\/(.+)/)||[])[2]||"";return{beforeParse:t,callee:a||"",index:!1,native:!1,file:Z(n[1]||""),line:parseInt(s[0]||"",10)||void 0,column:parseInt(s[1]||"",10)||void 0,fileName:o,fileShort:r?r[1]:"",errMsg:n[3]||"",calleeShort:"",fileRelative:"",thirdParty:!1}}).filter(t=>void 0!==t);return{items:a,itemsHeader:[]}},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:a}){return i.map(t=>{if("%StacktraceyItem%"===t){const t=a.items.shift();if(t)return`${t.callee}${t.file}: (${t.line}, ${t.column}): ${t.errMsg}`}return t}).join("\n")}}}}.call(this,a("dd40")(t),a("4362"))},ad39:function(t,e,a){"use strict";a.r(e);var i=a("4f67"),n=a("fcfb");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},add8:function(t,e,a){"use strict";a.r(e);var i=a("4e9d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ae0b:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniCaptcha:a("b8af").default,uniIdPagesAgreements:a("c25c").default,uniIdPagesFabLogin:a("95e4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[a("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),a("text",{staticClass:t._$s(3,"sc","title title-box"),attrs:{_i:3}}),a("uni-forms",{attrs:{_i:4}},[a("uni-forms-item",{attrs:{name:"username",_i:5}},[a("uni-easyinput",{staticClass:t._$s(6,"sc","input-box"),attrs:{focus:t.focusUsername,inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u7528\u6237\u540d/\u90ae\u7bb1",_i:6},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(6,"v-model",t.username),callback:function(e){t.username=e},expression:"username"}})],1),a("uni-forms-item",{attrs:{name:"password",_i:7}},[a("uni-easyinput",{staticClass:t._$s(8,"sc","input-box"),attrs:{focus:t.focusPassword,clearable:!0,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",_i:8},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(8,"v-model",t.password),callback:function(e){t.password=e},expression:"password"}})],1)],1),t._$s(9,"i",t.needCaptcha)?a("uni-captcha",{ref:"captcha",attrs:{focus:!0,scene:"login-by-pwd",_i:9},model:{value:t._$s(9,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}):t._e(),a("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"login",_i:10}}),a("button",{staticClass:t._$s(11,"sc","uni-btn"),attrs:{_i:11},on:{click:t.pwdLogin}}),a("view",{staticClass:t._$s(12,"sc","link-box"),attrs:{_i:12}},[t._$s(13,"i",!t.config.isAdmin)?a("view",[a("text",{staticClass:t._$s(14,"sc","forget"),attrs:{_i:14}}),a("text",{staticClass:t._$s(15,"sc","link"),attrs:{_i:15},on:{click:t.toRetrievePwd}})]):t._e(),t._$s(16,"i",!t.existAdmin)?a("text",{staticClass:t._$s(16,"sc","link"),attrs:{_i:16},on:{click:t.toRegister}},[t._v(t._$s(16,"t0-0",t._s(t.config.isAdmin?"\u6ce8\u518c\u7ba1\u7406\u5458\u8d26\u53f7":"\u6ce8\u518c\u8d26\u53f7")))]):t._e()]),a("uni-id-pages-fab-login",{ref:"uniFabLogin",attrs:{_i:17}})],1)},r=[]},ae2d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},aeaf:function(t,e,a){"use strict";a.r(e);var i=a("a5bb"),n=a("e302");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},af21:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-forms"),attrs:{_i:0}},[e("form",[this._t("default",null,{_i:2})],2)])},n=[]},af93:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("26cb");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={name:"uni-stat-breadcrumb",data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},(0,r.mapState)("app",["routes"]))};e.default=o},afa4:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniLoadMore:a("81c5").default,uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-data-tree"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-data-tree-input"),attrs:{_i:1},on:{click:t.handleInput}},[t._t("default",[a("view",{staticClass:t._$s(3,"sc","input-value"),class:t._$s(3,"c",{"input-value-border":t.border}),attrs:{_i:3}},[t._$s(4,"i",t.errorMessage)?a("text",{staticClass:t._$s(4,"sc","selected-area error-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.errorMessage)))]):t._$s(5,"e",t.loading&&!t.isOpened)?a("view",{staticClass:t._$s(5,"sc","selected-area"),attrs:{_i:5}},[a("uni-load-more",{staticClass:t._$s(6,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:6}})],1):t._$s(7,"e",t.inputSelected.length)?a("scroll-view",{staticClass:t._$s(7,"sc","selected-area"),attrs:{_i:7}},[a("view",{staticClass:t._$s(8,"sc","selected-list"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.inputSelected}),(function(e,i,n,r){return a("view",{key:t._$s(9,"f",{forIndex:n,key:i}),staticClass:t._$s("9-"+r,"sc","selected-item"),attrs:{_i:"9-"+r}},[a("text",{staticClass:t._$s("10-"+r,"sc","text-color"),attrs:{_i:"10-"+r}},[t._v(t._$s("10-"+r,"t0-0",t._s(e.text)))]),t._$s("11-"+r,"i",i<t.inputSelected.length-1)?a("text",{staticClass:t._$s("11-"+r,"sc","input-split-line"),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(t.split)))]):t._e()])})),0)]):a("text",{staticClass:t._$s(12,"sc","selected-area placeholder"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.placeholder)))]),t._$s(13,"i",t.clearIcon&&!t.readonly&&t.inputSelected.length)?a("view",{staticClass:t._$s(13,"sc","icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[a("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:14}})],1):t._e(),t._$s(15,"i",(!t.clearIcon||!t.inputSelected.length)&&!t.readonly)?a("view",{staticClass:t._$s(15,"sc","arrow-area"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","input-arrow"),attrs:{_i:16}})]):t._e()])],{options:t.options,data:t.inputSelected,error:t.errorMessage,_i:2})],2),t._$s(17,"i",t.isOpened)?a("view",{staticClass:t._$s(17,"sc","uni-data-tree-cover"),attrs:{_i:17},on:{click:t.handleClose}}):t._e(),t._$s(18,"i",t.isOpened)?a("view",{staticClass:t._$s(18,"sc","uni-data-tree-dialog"),attrs:{_i:18}},[a("view",{staticClass:t._$s(19,"sc","uni-popper__arrow"),attrs:{_i:19}}),a("view",{staticClass:t._$s(20,"sc","dialog-caption"),attrs:{_i:20}},[a("view",{staticClass:t._$s(21,"sc","title-area"),attrs:{_i:21}},[a("text",{staticClass:t._$s(22,"sc","dialog-title"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.popupTitle)))])]),a("view",{staticClass:t._$s(23,"sc","dialog-close"),attrs:{_i:23},on:{click:t.handleClose}},[a("view",{staticClass:t._$s(24,"sc","dialog-close-plus"),attrs:{_i:24}}),a("view",{staticClass:t._$s(25,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:25}})])]),a("data-picker-view",{ref:"pickerView",staticClass:t._$s(26,"sc","picker-view"),attrs:{localdata:t.localdata,preload:t.preload,collection:t.collection,field:t.field,orderby:t.orderby,where:t.where,"step-searh":t.stepSearh,"self-field":t.selfField,"parent-field":t.parentField,"managed-mode":!0,map:t.map,ellipsis:t.ellipsis,_i:26},on:{change:t.onchange,datachange:t.ondatachange,nodeclick:t.onnodeclick},model:{value:t._$s(26,"v-model",t.dataValue),callback:function(e){t.dataValue=e},expression:"dataValue"}})],1):t._e()])},r=[]},afee:function(t,e,a){"use strict";a.r(e);var i=a("d6dd"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b015:function(t,e,a){"use strict";a.r(e);var i=a("fb56"),n=a("55d0");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},b0a2:function(t,e,a){"use strict";a.r(e);var i=a("f1b3"),n=a("add8");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},b0cf:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("7c5a"),r=i(a("5d07")),s=i(a("9b0e")),o=i(a("6a92")),u={components:{statPanelTotal:r.default,statPanelToday:s.default,trendChart:o.default},data:function(){return{query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:""}}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,n.stringifyQuery)({appid:e,uni_platform:a});return i},channelQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=(0,n.stringifyQuery)({appid:e,platform_id:a});return i}},created:function(){},methods:{platformChange:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code}},watch:{}};e.default=u},b0d4:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("4082")),s=n(a("a34a")),o=n(a("c973")),u=n(a("5eb7")),c=n(a("0ec9")),l=a("b452"),d=["errCode"],f=t.importObject("uni-id-co"),p={mixins:[c.default],data:function(){return{realName:"",idCard:"",certifyId:"",verifyFail:!1,verifyFailCode:0,verifyFailTitle:"",verifyFailContent:""}},computed:{userInfo:function(){return l.store.userInfo},certifyIdNext:function(){return Boolean(this.realName)&&Boolean(this.idCard)&&this.needAgreements&&this.agree},isCertify:function(){return this.userInfo.realNameAuth&&2===this.userInfo.realNameAuth.authStatus},isDev:function(){return!1}},onLoad:function(){var t=uni.getStorageSync("uni-id-pages-temp-frv");t&&(this.realName=t.realName,this.idCard=t.idCard)},methods:{getCertifyId:function(){var t=this;return(0,o.default)(s.default.mark((function e(){var a,i;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.certifyIdNext){e.next=2;break}return e.abrupt("return");case 2:if((0,u.default)(t.idCard)){e.next=5;break}return uni.showToast({title:"\u8eab\u4efd\u8bc1\u4e0d\u5408\u6cd5",icon:"none"}),e.abrupt("return");case 5:if(!("string"!==typeof t.realName||t.realName.length<2)&&/^[\u4e00-\u9fa5]{1,10}(\xb7?[\u4e00-\u9fa5]{1,10}){0,5}$/.test(t.realName)){e.next=8;break}return uni.showToast({title:"\u59d3\u540d\u53ea\u80fd\u662f\u6c49\u5b57",icon:"none"}),e.abrupt("return");case 8:return uni.setStorage({key:"uni-id-pages-temp-frv",data:{realName:t.realName,idCard:t.idCard}}),a=uni.getFacialRecognitionMetaInfo(),e.next=12,f.getFrvCertifyId({realName:t.realName,idCard:t.idCard,metaInfo:a});case 12:i=e.sent,t.certifyId=i.certifyId,t.startFacialRecognitionVerify();case 15:case"end":return e.stop()}}),e)})))()},startFacialRecognitionVerify:function(){var t=this;uni.startFacialRecognitionVerify({certifyId:this.certifyId,progressBarColor:"#2979ff",success:function(){t.verifyFail=!1,t.getFrvAuthResult()},fail:function(e){var a,i="\u9a8c\u8bc1\u5931\u8d25";switch("[frv-debug] certifyId auth error: certifyId -> ".concat(t.certifyId,", error -> ").concat(JSON.stringify(e,null,4)),e.errCode){case 10001:a="\u8ba4\u8bc1ID\u4e3a\u7a7a";break;case 10010:i="\u5237\u8138\u5f02\u5e38",a=e.cause.message||"\u9519\u8bef\u4ee3\u7801: 10010";break;case 10011:i="\u9a8c\u8bc1\u4e2d\u65ad",a=e.cause.message||"\u9519\u8bef\u4ee3\u7801: 10011";break;case 10012:a="\u7f51\u7edc\u5f02\u5e38";break;case 10013:return t.verifyFailCode=e.errCode,t.verifyFailContent=e.cause.message||"\u9519\u8bef\u4ee3\u7801: 10013",t.getFrvAuthResult(),void"[frv-debug] \u5237\u8138\u5931\u8d25, certifyId -> ".concat(t.certifyId,", \u5982\u5728\u5f00\u53d1\u73af\u5883\u8bf7\u68c0\u67e5\u7528\u6237\u7684\u59d3\u540d\u3001\u8eab\u4efd\u8bc1\u53f7\u4e0e\u5237\u8138\u7528\u6237\u662f\u5426\u4e3a\u540c\u4e00\u7528\u6237\u3002\u5982\u9047\u5230\u8ba4\u8bc1ID\u5df2\u4f7f\u7528\u8bf7\u68c0\u67e5opendb-frv-logs\u8868\u4e2dcertifyId\u72b6\u6001");case 10020:a="\u8bbe\u5907\u8bbe\u7f6e\u65f6\u95f4\u5f02\u5e38";break;default:i="",a="\u9a8c\u8bc1\u672a\u77e5\u9519\u8bef (".concat(e.errCode,")");break}t.verifyFail=!0,t.verifyFailCode=e.errCode,t.verifyFailTitle=i,t.verifyFailContent=a}})},getFrvAuthResult:function(){var e=this;return(0,o.default)(s.default.mark((function a(){var i,n,o;return s.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.importObject("uni-id-co",{customUI:!0}),a.prev=1,uni.showLoading({title:"\u9a8c\u8bc1\u4e2d...",mask:!1}),a.next=5,i.getFrvAuthResult({certifyId:e.certifyId});case 5:n=a.sent,n.errCode,o=(0,r.default)(n,d),e.verifyFailContent&&"[frv-debug] \u5ba2\u6237\u7aef\u5237\u8138\u5931\u8d25\uff0c\u7531\u5b9e\u4eba\u8ba4\u8bc1\u670d\u52a1\u67e5\u8be2\u5177\u4f53\u539f\u56e0\uff0c\u539f\u56e0\uff1a".concat(e.verifyFailContent),uni.showModal({content:"\u5b9e\u540d\u8ba4\u8bc1\u6210\u529f",showCancel:!1,success:function(){l.mutations.setUserInfo({realNameAuth:o}),e.verifyFail=!1}}),uni.removeStorage({key:"uni-id-pages-temp-frv"}),a.next=17;break;case 12:a.prev=12,a.t0=a["catch"](1),e.verifyFail=!0,e.verifyFailTitle=a.t0.errMsg,JSON.stringify(a.t0);case 17:return a.prev=17,uni.hideLoading(),a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[1,12,17,20]])})))()},retry:function(){10013!==this.verifyFailCode?this.getCertifyId():this.verifyFail=!1}}};e.default=p}).call(this,a("a9ff")["default"],a("0de9")["default"])},b0eb:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("278c")),s=a("7c5a"),o=n(a("9eaf"));function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:o.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabIndex:0,errorMessage:""}},computed:{chartTabs:function(){var t=[];return o.default.forEach((function(e){var a=e.field,i=e.title,n=e.hasOwnProperty("value");a&&i&&n&&t.push({_id:a,name:i})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,s.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,s.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],a=t[1],i=a-e>=864e5;return i},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,s.getTimeOfSomeDayAgo)(t),i=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,a){this.tabIndex=e,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var r=this.query.dimension,c=t.database();c.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.default,i),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default,i)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,c=(e.count,e.data),l={categories:[],series:[{name:n,data:[]}]},d=o.default.filter((function(t){return t.field===i}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,p=u(c);try{for(p.s();!(f=p.n()).done;){var h=f.value;(0,s.mapfields)(d,h,h);var m=(0,s.formatDate)(h.start_time,r),_=h[i];l.series[0].data.push(_),l.categories.push(m)}}catch(g){p.e(g)}finally{p.f()}a.chartData=l})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this,i=this.options.pageCurrent;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var n=t.database();n.collection(this.tableName).where(e).field((0,s.stringifyField)(o.default)).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,n=i.count,r=i.data,c=u(r);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=l.start_time;if(d){var f=a.query.dimension;l.start_time=(0,s.formatDate)(d,f)}(0,s.mapfields)(o.default,l,l)}}catch(p){c.e(p)}finally{c.f()}a.tableData=[],a.options.total=n,a.tableData=r})).catch((function(t){})).finally((function(){a.loading=!1}))},getPanelData:function(){var e=this,a=JSON.parse(JSON.stringify(this.query));a.dimension="day";var i=(0,s.stringifyQuery)(a,!1,["uni_platform"]),n=t.database();n.collection(this.tableName).where(i).field("".concat((0,s.stringifyField)(o.default),",stat_date")).groupBy("appid").groupField((0,s.stringifyGroupField)(o.default)).orderBy("stat_date","desc").get().then((function(t){var i=t.result.data[0];i&&(i.total_devices=0),s.getFieldTotal.call(e,a),e.panelData=[],e.panelData=(0,s.mapfields)(o.default,i)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=l}).call(this,a("a9ff")["default"],a("0de9")["default"])},b161:function(t,e,a){"use strict";a.r(e);var i=a("2924"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b17c:function(t,e,a){var i=a("4a4b"),n=a("6f8f");function r(e,a,s){return n()?(t.exports=r=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports["default"]=t.exports):(t.exports=r=function(t,e,a){var n=[null];n.push.apply(n,e);var r=Function.bind.apply(t,n),s=new r;return a&&i(s,a.prototype),s},t.exports.__esModule=!0,t.exports["default"]=t.exports),r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},b1d6:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","fab-login-box"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.servicesList}),(function(e,i,n,r){return a("view",{key:t._$s(2,"f",{forIndex:n,key:i}),staticClass:t._$s("2-"+r,"sc","item"),attrs:{_i:"2-"+r},on:{click:function(a){e.path?t.toPage(e.path):t.login_before(e.id,!1)}}},[a("image",{staticClass:t._$s("3-"+r,"sc","logo"),attrs:{src:t._$s("3-"+r,"a-src",e.logo),_i:"3-"+r}}),a("text",{staticClass:t._$s("4-"+r,"sc","login-title"),attrs:{_i:"4-"+r}},[t._v(t._$s("4-"+r,"t0-0",t._s(e.text)))])])})),0)])},n=[]},b247:function(t,e,a){"use strict";a.r(e);var i=a("5b2d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b301:function(t,e,a){"use strict";a.r(e);var i=a("d95c"),n=a("2461");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},b343:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.fields=e.default=void 0;var n=i(a("a34a")),r=i(a("c973")),s=i(a("9523")),o=a("5680");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=t.database();function d(t){var e={};for(var a in o.validator)t.includes(a)&&(e[a]=o.validator[a]);return e}e.fields="appid,name,title,contents,platform,type,version,min_uni_version,url,stable_publish,is_silently,is_mandatory,create_date,store_list";var f={data:function(){return{labelWidth:"100px",enableiOSWgt:!0,silentlyContent:"\u9759\u9ed8\u66f4\u65b0\uff1aApp\u5347\u7ea7\u65f6\u4f1a\u5728\u540e\u53f0\u4e0b\u8f7dwgt\u5305\u5e76\u81ea\u884c\u5b89\u88c5\u3002\u65b0\u529f\u80fd\u5728\u4e0b\u6b21\u542f\u52a8App\u65f6\u751f\u6548",mandatoryContent:"\u5f3a\u5236\u66f4\u65b0\uff1aApp\u5347\u7ea7\u5f39\u51fa\u6846\u4e0d\u53ef\u53d6\u6d88",stablePublishContent:"\u540c\u65f6\u53ea\u53ef\u6709\u4e00\u4e2a\u7ebf\u4e0a\u53d1\u884c\u7248\uff0c\u7ebf\u4e0a\u53d1\u884c\u4e0d\u53ef\u66f4\u8bbe\u4e3a\u4e0b\u7ebf\u3002\n\u672a\u4e0a\u7ebf\u53ef\u4ee5\u8bbe\u4e3a\u4e0a\u7ebf\u53d1\u884c\u5e76\u81ea\u52a8\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",stablePublishContent2:"\u4f7f\u7528\u672c\u5305\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",uploadFileContent:"\u53ef\u4e0b\u8f7d\u5b89\u88c5\u5305\u5730\u5740\u3002\u4e0a\u4f20\u6587\u4ef6\u5230\u4e91\u5b58\u50a8\u81ea\u52a8\u586b\u5199\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u586b\u5199",minUniVersionContent:"\u4e0a\u6b21\u4f7f\u7528\u65b0Api\u6216\u6253\u5305\u65b0\u6a21\u5757\u7684App\u7248\u672c",priorityContent:"\u68c0\u67e5\u66f4\u65b0\u65f6\uff0c\u6309\u7167\u4f18\u5148\u7ea7\u4ece\u5927\u5230\u5c0f\u4f9d\u6b21\u5c1d\u8bd5\u8df3\u8f6c\u5546\u5e97\u3002\u5982\u679c\u90fd\u8df3\u8f6c\u5931\u8d25\uff0c\u5219\u4f1a\u6253\u5f00\u6d4f\u89c8\u5668\u4f7f\u7528\u4e0b\u8f7d\u94fe\u63a5\u4e0b\u8f7dapk\u5b89\u88c5\u5305",latestStableData:[],appFileList:null,type_valuetotext:o.enumConverter.type_valuetotext,preUrl:"",formData:{appid:"",name:"",title:"",contents:"",platform:[],store_list:[],type:"",version:"",min_uni_version:"",url:"",stable_publish:!1,create_date:null},formOptions:{platform_localdata:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_localdata:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"App\u8d44\u6e90\u5305"}]},rules:c({},d(["appid","contents","platform","type","version","min_uni_version","url","stable_publish","title","name","is_silently","is_mandatory","store_list"]))}},onReady:function(){this.$refs.form.setRules(this.rules)},computed:{isWGT:function(){return"wgt"===this.formData.type},isiOS:function(){return!this.isWGT&&this.formData.platform.includes("iOS")},hasPackage:function(){return this.appFileList&&!!Object.keys(this.appFileList).length},fileExtname:function(){return this.isWGT?["wgt"]:["apk"]},platformLocaldata:function(){return this.isWGT?this.enableiOSWgt?this.formOptions.platform_localdata:[this.formOptions.platform_localdata[0]]:this.formOptions.platform_localdata},uni_platform:function(){return(this.isiOS?"iOS":"Android").toLocaleLowerCase()}},methods:{getStoreList:function(t){return l.collection("opendb-app-list").where({appid:t}).get().then((function(t){var e=t.result.data[0];return e&&e.store_list||[]}))},packageUploadSuccess:function(t){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:800}),this.preUrl=this.formData.url,this.formData.url=t.tempFilePaths[0]},deleteFile:function(t){return this.$request("deleteFile",{fileList:t},{functionName:"uni-upgrade-center"})},packageDelete:function(t){var e=this;return(0,r.default)(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.hasPackage){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.deleteFile([t.tempFilePath]);case 4:uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e.formData.url=e.preUrl,e.$refs.form.clearValidate("url");case 7:case"end":return a.stop()}}),a)})))()},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})},createCenterRecord:function(t){return c(c({},t),{},{uni_platform:this.uni_platform,create_env:"upgrade-center"})},createCenterQuery:function(t){var e=t.appid;return{appid:e,create_env:"upgrade-center"}},createStatQuery:function(t){var e=t.appid,a=t.type,i=t.version,n=t.uni_platform;return{appid:e,type:a,version:i,uni_platform:n||this.uni_platform,create_env:"uni-stat",stable_publish:!1}},toUrl:function(t){uni.showToast({title:"\u8bf7\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00",icon:"none"})},getCloudStorageConfig:function(){return uni.getStorageSync("uni-admin-cloud-storage-config")||{}},setCloudStorageConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uni.setStorageSync("uni-admin-cloud-storage-config",t)},setCloudStorage:function(e){"function"===typeof t.setCloudStorage&&t.setCloudStorage(e)}}};e.default=f}).call(this,a("a9ff")["default"])},b39d:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniLoadMore:a("81c5").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-data-pickerview"),attrs:{_i:0}},[t._$s(1,"i",!t.isCloudDataList)?a("scroll-view",{staticClass:t._$s(1,"sc","selected-area"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","selected-list"),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:t.selected}),(function(e,i,n,r){return a("view",{key:t._$s(3,"f",{forIndex:n,key:i}),staticClass:t._$s("3-"+r,"sc","selected-item"),class:t._$s("3-"+r,"c",{"selected-item-active":i==t.selectedIndex}),attrs:{_i:"3-"+r},on:{click:function(e){return t.handleSelect(i)}}},[a("text",[t._v(t._$s("4-"+r,"t0-0",t._s(e.text||"")))])])})),0)]):t._e(),a("view",{staticClass:t._$s(5,"sc","tab-c"),attrs:{_i:5}},[a("scroll-view",{staticClass:t._$s(6,"sc","list"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.dataList[t.selectedIndex]}),(function(e,i,n,r){return a("view",{key:t._$s(7,"f",{forIndex:n,key:i}),staticClass:t._$s("7-"+r,"sc","item"),class:t._$s("7-"+r,"c",{"is-disabled":!!e.disable}),attrs:{_i:"7-"+r},on:{click:function(a){return t.handleNodeClick(e,t.selectedIndex,i)}}},[a("text",{staticClass:t._$s("8-"+r,"sc","item-text"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("9-"+r,"i",t.selected.length>t.selectedIndex&&e[t.map.value]==t.selected[t.selectedIndex].value)?a("view",{staticClass:t._$s("9-"+r,"sc","check"),attrs:{_i:"9-"+r}}):t._e()])})),0),t._$s(10,"i",t.loading)?a("view",{staticClass:t._$s(10,"sc","loading-cover"),attrs:{_i:10}},[a("uni-load-more",{staticClass:t._$s(11,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:11}})],1):t._e(),t._$s(12,"i",t.errorMessage)?a("view",{staticClass:t._$s(12,"sc","error-message"),attrs:{_i:12}},[a("text",{staticClass:t._$s(13,"sc","error-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.errorMessage)))])]):t._e()])])},r=[]},b3af:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("d107"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{minLength:3,maxLength:32,errorMessage:"\u7528\u6237\u540d\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,a,i){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&i("\u7528\u6237\u540d\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&i("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),/[\u4E00-\u9FA5\uF900-\uFA2D]{1,}/.test(e)&&i("\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u4e2d\u6587"),!0}}],label:"\u7528\u6237\u540d"},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,a,i){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&i("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&i("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"}},r.default.getPwdRules());e.default=o},b3de:function(t,e,a){"use strict";a.r(e);var i=a("93cf"),n=a("c510");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},b452:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.mutations=void 0;var r=n(a("a34a")),s=n(a("9523")),o=n(a("c973")),u=n(a("8b5a")),c=n(a("3015")),l=n(a("8bbf"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=t.importObject("uni-id-co"),h=t.database(),m=h.collection("uni-id-users"),_=uni.getStorageSync("uni-id-pages-userInfo")||{},g={userInfo:_,hasLogin:0!=Object.keys(_).length},v={updateUserInfo:function(){var e=arguments,a=this;return(0,o.default)(r.default.mark((function i(){var n,s,o,u;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.length>0&&void 0!==e[0]&&e[0],!n){i.next=5;break}m.where("_id==$env.uid").update(n).then((function(t){t.result.updated?(uni.showToast({title:"\u66f4\u65b0\u6210\u529f",icon:"none",duration:3e3}),a.setUserInfo(n)):uni.showToast({title:"\u6ca1\u6709\u6539\u53d8",icon:"none",duration:3e3})})),i.next=25;break;case 5:return s=t.importObject("uni-id-co",{customUI:!0}),i.prev=6,i.next=9,m.where("'_id' == $cloudEnv_uid").field("mobile,nickname,username,email,avatar_file").get();case 9:return o=i.sent,i.prev=10,i.next=13,s.getRealNameInfo();case 13:u=i.sent,i.next=18;break;case 16:i.prev=16,i.t0=i["catch"](10);case 18:a.setUserInfo(f(f({},o.result.data[0]),{},{realNameAuth:u})),i.next=25;break;case 21:i.prev=21,i.t1=i["catch"](6),a.setUserInfo({},{cover:!0}),i.t1.message,i.t1.errCode;case 25:case"end":return i.stop()}}),i,null,[[6,21],[10,16]])})))()},setUserInfo:function(t){var e=arguments;return(0,o.default)(r.default.mark((function a(){var i,n,s;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:{cover:!1},n=i.cover,s=n?t:Object.assign(y.userInfo,t),y.userInfo=Object.assign({},s),y.hasLogin=0!=Object.keys(y.userInfo).length,uni.setStorageSync("uni-id-pages-userInfo",y.userInfo),a.abrupt("return",t);case 6:case"end":return a.stop()}}),a)})))()},logout:function(){var e=this;return(0,o.default)(r.default.mark((function a(){return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.getCurrentUserInfo().tokenExpired>Date.now())){a.next=9;break}return a.prev=1,a.next=4,p.logout();case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),a.t0;case 9:uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/".concat(u.default.uniIdRouter&&u.default.uniIdRouter.loginPage?u.default.uniIdRouter.loginPage:"uni_modules/uni-id-pages/pages/login/login-withoutpwd")}),uni.$emit("uni-id-pages-logout"),e.setUserInfo({},{cover:!0});case 14:case"end":return a.stop()}}),a,null,[[1,6]])})))()},loginBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uniIdRedirectUrl,a=void 0===e?"":e,i=0,n=getCurrentPages();if(n.forEach((function(t,e){"login"==n[n.length-e-1].route.split("/")[3]&&i++})),a)return uni.redirectTo({url:a,fail:function(t){uni.switchTab({url:a,fail:function(t){}})}});if(i){var r=u.default.pages[0];return uni.reLaunch({url:"/".concat(r.path)})}uni.navigateBack({delta:i})},loginSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.showToast,a=void 0===e||e,i=t.toastText,n=void 0===i?"\u767b\u5f55\u6210\u529f":i,r=t.autoBack,s=void 0===r||r,o=t.uniIdRedirectUrl,u=void 0===o?"":o,l=t.passwordConfirmed;if(a&&uni.showToast({title:n,icon:"none",duration:3e3}),this.updateUserInfo(),uni.$emit("uni-id-pages-login-success"),c.default.setPasswordAfterLogin&&!l)return uni.redirectTo({url:u?"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?uniIdRedirectUrl=".concat(u,"&loginType=").concat(t.loginType):"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?loginType=".concat(t.loginType),fail:function(t){}});s&&this.loginBack({uniIdRedirectUrl:u})}};e.mutations=v;var y=l.default.observable(g);e.store=y}).call(this,a("a9ff")["default"],a("0de9")["default"])},b4d4:function(t,e,a){"use strict";a.r(e);var i=a("af93"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b5be:function(t,e,a){"use strict";a.r(e);var i=a("273f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b5eb:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniLink:a("e328").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniEasyinput:a("5fc7").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniPopupDialog:a("0e27").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[a("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/36304",text:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8bf4\u660e>>",_i:5}})],1)])],1),a("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","uni-stat--x flex p-1015"),attrs:{_i:7}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(9,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"concat(version, '---',uni_platform) as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:9},on:{change:t.changeVersion},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-stat--x flex"),attrs:{_i:10}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:11},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.create_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.create_time),callback:function(e){t.$set(t.query,"create_time",e)},expression:"query.create_time"}})],1),a("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"concat(channel_code, '---',channel_name) as value,  channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},on:{change:t.changeChannel},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(16,"sc","uni-stat--x"),attrs:{_i:16}},[a("text"),a("view",[a("uni-easyinput",{attrs:{placeholder:"\u4e8b\u4ef6ID",_i:19},on:{change:function(e){return t.changeFormData(e,"event_key")},clear:function(e){return t.changeFormData("","event_key")}},model:{value:t._$s(19,"v-model",t.formData.event_key),callback:function(e){t.$set(t.formData,"event_key",e)},expression:"formData.event_key"}})],1),a("text"),a("view",[a("uni-easyinput",{attrs:{placeholder:"\u8bbe\u5907\u6807\u8bc6",_i:22},on:{change:function(e){return t.changeFormData(e,"device_id")},clear:function(e){return t.changeFormData("","device_id")}},model:{value:t._$s(22,"v-model",t.formData.device_id),callback:function(e){t.$set(t.formData,"device_id",e)},expression:"formData.device_id"}})],1)]),a("view",{staticClass:t._$s(23,"sc","uni-stat--x p-m"),attrs:{_i:23}},[a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:24}},[a("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("27-"+r,"i",e.title)?a("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"27-"+r}},[t._v(t._$s("27-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(28,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(28,"f",{forIndex:n,key:i}),attrs:{_i:"28-"+r}},t._l(t._$s("29-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return a("uni-td",{key:t._$s("29-"+r,"f",{forIndex:s,key:n}),attrs:{align:"center",_i:"29-"+r+"-"+o}},[t._v(t._$s("29-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])})),1)}))],2),a("view",{staticClass:t._$s(30,"sc","uni-pagination-box"),attrs:{_i:30}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:31},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:32}},[a("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:33},on:{confirm:t.editName},model:{value:t._$s(33,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),a("fix-window",{attrs:{_i:34}})],1)},r=[]},b68f:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDataPicker:a("dc03").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","main"),attrs:{_i:0}},[t._$s(1,"i",t.loaded)?a("view",[a("view",{staticClass:t._$s(2,"sc","uni-header"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}}),a("view",{staticClass:t._$s(5,"sc","uni-title app-list"),attrs:{_i:5}},[a("picker",{attrs:{value:t._$s(6,"a-value",t.showAppIndex),range:t._$s(6,"a-range",t.appNameList),_i:6},on:{change:function(e){return t.showAppIndex=e.detail.value}}},[a("view",{staticClass:t._$s(7,"sc","uni-input"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.appNameList[t.showAppIndex]))),a("uni-icons",{attrs:{type:"bottom",_i:8}})],1)])])]),a("view",{staticClass:t._$s(9,"sc","uni-group"),attrs:{_i:9}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(10,"sc","uni-search"),attrs:{_i:10},domProps:{value:t._$s(10,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.search}}),a("button",{staticClass:t._$s(12,"sc","uni-button publish"),attrs:{_i:12},on:{click:t.publish}}),a("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{disabled:t._$s(13,"a-disabled",!t.selectedIndexs.length),_i:13},on:{click:t.delTable}})])]),a("view",{staticClass:t._$s(14,"sc","uni-container"),attrs:{_i:14}},[a("unicloud-db",{ref:"udb",attrs:{collection:t.appVersionListDbName,field:"store_list,appid,contents,platform,type,version,min_uni_version,url,stable_publish,create_date,title,name",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,_i:15},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[a("uni-table",{staticStyle:{"overflow-y":"hidden"},attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"16-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"17-"+n}},[a("uni-th",{attrs:{align:"center",_i:"18-"+n}},[t._v("AppID")]),a("uni-th",{attrs:{align:"center",_i:"19-"+n}},[t._v("\u66f4\u65b0\u6807\u9898")]),a("uni-th",{attrs:{align:"center",_i:"20-"+n}},[t._v("\u5b89\u88c5\u5305\u7c7b\u578b")]),a("uni-th",{attrs:{align:"center",_i:"21-"+n}},[t._v("\u5e73\u53f0")]),a("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("\u5df2\u4e0a\u67b6\u5e94\u7528\u5e02\u573a")]),a("uni-th",{attrs:{align:"center",_i:"23-"+n}},[t._v("\u7248\u672c\u53f7")]),a("uni-th",{attrs:{align:"center",_i:"24-"+n}},[t._v("\u5b89\u88c5\u5305\u72b6\u6001")]),a("uni-th",{attrs:{align:"center",_i:"25-"+n}},[t._v("\u4e0a\u4f20\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",_i:"26-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("27-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("27-"+n,"f",{forIndex:s,key:r}),attrs:{disabled:e.stable_publish,_i:"27-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"28-"+n+o}},[t._v(i._$s("28-"+n+o,"t0-0",t._s(e.appid)))]),a("uni-td",{attrs:{align:"center",_i:"29-"+n+o}},[t._v(i._$s("29-"+n+o,"t0-0",t._s(e.title||"-")))]),a("uni-td",{attrs:{align:"center",_i:"30-"+n+o}},[a("text",{style:i._$s("31-"+n+o,"s",{padding:"5px 8px",backgroundColor:"wgt"===e.type?"#f0f9eb":"#ecf5ff",color:"wgt"===e.type?"#67c23a":"#409eff",border:"1px solid "+("wgt"===e.type?"#e1f3d8":"#d9ecff"),borderRadius:"4px"}),attrs:{_i:"31-"+n+o}},[t._v(i._$s("31-"+n+o,"t0-0",t._s(c.type_valuetotext[e.type])))])]),a("uni-td",{attrs:{align:"center",_i:"32-"+n+o}},[a("uni-data-picker",{attrs:{localdata:c.platform_valuetotext,value:e.platform,border:!1,readonly:!0,split:",",_i:"33-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"34-"+n+o}},[a("text",{attrs:{_i:"35-"+n+o}},[t._v(i._$s("35-"+n+o,"t0-0",t._s(t.store_list_key(e.store_list))))])]),a("uni-td",{attrs:{align:"center",_i:"36-"+n+o}},[t._v(i._$s("36-"+n+o,"t0-0",t._s(e.version)))]),a("uni-td",{attrs:{align:"center",_i:"37-"+n+o}},[t._v(i._$s("37-"+n+o,"t0-0",t._s(1==e.stable_publish?"\u5df2\u4e0a\u7ebf":"\u5df2\u4e0b\u7ebf")))]),a("uni-td",{attrs:{align:"center",_i:"38-"+n+o}},[a("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:e.create_date,threshold:[0,0],_i:"39-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"40-"+n+o}},[a("button",{staticClass:i._$s("41-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"41-"+n+o},on:{click:function(a){return t.navigateTo("./detail?id="+e._id,!1)}}},[t._v("\u8be6\u60c5")])])],1)}))],2),a("view",{staticClass:i._$s("42-"+n,"sc","uni-pagination-box"),attrs:{_i:"42-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"43-"+n},on:{change:t.onPageChanged},model:{value:t._$s("43-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}],null,!1,937260416)})],1)]):a("view",{staticClass:t._$s(44,"sc","page-loading"),style:t._$s(44,"s",t.containerTop),attrs:{_i:44}},[a("i",{staticClass:t._$s(45,"sc","uni-icon_toast uni-loading"),attrs:{_i:45}})])])},r=[]},b6a9:function(t,e,a){"use strict";a.r(e);var i=a("28b3"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b735:function(t,e,a){"use strict";a.r(e);var i=a("8f0e"),n=a("cdc1");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"06bbae86",null,!1,i["a"],void 0);e["default"]=o.exports},b7bd:function(t,e,a){"use strict";a.r(e);var i=a("dbef"),n=a("0c67");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"54045d8e",null,!1,i["a"],void 0);e["default"]=o.exports},b847:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("37dc"),r=i(a("8cb5")),s=a("730b"),o=(0,n.initVueI18n)(r.default),u=o.t,c={name:"UniDatetimePicker",data:function(){return{indicatorStyle:"height: 50px;",visible:!1,fixNvueBug:{},dateShow:!0,timeShow:!0,title:"\u65e5\u671f\u548c\u65f6\u95f4",time:"",year:1920,month:0,day:0,hour:0,minute:0,second:0,startYear:1920,startMonth:1,startDay:1,startHour:0,startMinute:0,startSecond:0,endYear:2120,endMonth:12,endDay:31,endHour:23,endMinute:59,endSecond:59}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},disabled:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},hideSecond:{type:[Boolean,String],default:!1}},watch:{value:{handler:function(t){t?(this.parseValue((0,s.fixIosDateFormat)(t)),this.initTime(!1)):(this.time="",this.parseValue(Date.now()))},immediate:!0},type:{handler:function(t){"date"===t?(this.dateShow=!0,this.timeShow=!1,this.title="\u65e5\u671f"):"time"===t?(this.dateShow=!1,this.timeShow=!0,this.title="\u65f6\u95f4"):(this.dateShow=!0,this.timeShow=!0,this.title="\u65e5\u671f\u548c\u65f6\u95f4")},immediate:!0},start:{handler:function(t){this.parseDatetimeRange((0,s.fixIosDateFormat)(t),"start")},immediate:!0},end:{handler:function(t){this.parseDatetimeRange((0,s.fixIosDateFormat)(t),"end")},immediate:!0},months:function(t){this.checkValue("month",this.month,t)},days:function(t){this.checkValue("day",this.day,t)},hours:function(t){this.checkValue("hour",this.hour,t)},minutes:function(t){this.checkValue("minute",this.minute,t)},seconds:function(t){this.checkValue("second",this.second,t)}},computed:{years:function(){return this.getCurrentRange("year")},months:function(){return this.getCurrentRange("month")},days:function(){return this.getCurrentRange("day")},hours:function(){return this.getCurrentRange("hour")},minutes:function(){return this.getCurrentRange("minute")},seconds:function(){return this.getCurrentRange("second")},ymd:function(){return[this.year-this.minYear,this.month-this.minMonth,this.day-this.minDay]},hms:function(){return[this.hour-this.minHour,this.minute-this.minMinute,this.second-this.minSecond]},currentDateIsStart:function(){return this.year===this.startYear&&this.month===this.startMonth&&this.day===this.startDay},currentDateIsEnd:function(){return this.year===this.endYear&&this.month===this.endMonth&&this.day===this.endDay},minYear:function(){return this.startYear},maxYear:function(){return this.endYear},minMonth:function(){return this.year===this.startYear?this.startMonth:1},maxMonth:function(){return this.year===this.endYear?this.endMonth:12},minDay:function(){return this.year===this.startYear&&this.month===this.startMonth?this.startDay:1},maxDay:function(){return this.year===this.endYear&&this.month===this.endMonth?this.endDay:this.daysInMonth(this.year,this.month)},minHour:function(){return"datetime"===this.type?this.currentDateIsStart?this.startHour:0:"time"===this.type?this.startHour:void 0},maxHour:function(){return"datetime"===this.type?this.currentDateIsEnd?this.endHour:23:"time"===this.type?this.endHour:void 0},minMinute:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour?this.startMinute:0:"time"===this.type?this.hour===this.startHour?this.startMinute:0:void 0},maxMinute:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour?this.endMinute:59:"time"===this.type?this.hour===this.endHour?this.endMinute:59:void 0},minSecond:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:"time"===this.type?this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:void 0},maxSecond:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:"time"===this.type?this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:void 0},selectTimeText:function(){return u("uni-datetime-picker.selectTime")},okText:function(){return u("uni-datetime-picker.ok")},clearText:function(){return u("uni-datetime-picker.clear")},cancelText:function(){return u("uni-datetime-picker.cancel")}},mounted:function(){},methods:{lessThanTen:function(t){return t<10?"0"+t:t},parseTimeType:function(t){if(t){var e=t.split(":");this.hour=Number(e[0]),this.minute=Number(e[1]),this.second=Number(e[2])}},initPickerValue:function(t){var e=null;t?e=this.compareValueWithStartAndEnd(t,this.start,this.end):(e=Date.now(),e=this.compareValueWithStartAndEnd(e,this.start,this.end)),this.parseValue(e)},compareValueWithStartAndEnd:function(t,e,a){var i=null;return t=this.superTimeStamp(t),e=this.superTimeStamp(e),a=this.superTimeStamp(a),i=e&&a?t<e?new Date(e):t>a?new Date(a):new Date(t):e&&!a?e<=t?new Date(t):new Date(e):!e&&a?t<=a?new Date(t):new Date(a):new Date(t),i},superTimeStamp:function(t){var e="";if("time"===this.type&&t&&"string"===typeof t){var a=new Date,i=a.getFullYear(),n=a.getMonth()+1,r=a.getDate();e=i+"/"+n+"/"+r+" "}return Number(t)&&(t=parseInt(t),e=0),this.createTimeStamp(e+t)},parseValue:function(t){if(t){if("time"===this.type&&"string"===typeof t)this.parseTimeType(t);else{var e=null;e=new Date(t),"time"!==this.type&&(this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate()),"date"!==this.type&&(this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds())}this.hideSecond&&(this.second=0)}},parseDatetimeRange:function(t,e){if(!t)return"start"===e&&(this.startYear=1920,this.startMonth=1,this.startDay=1,this.startHour=0,this.startMinute=0,this.startSecond=0),void("end"===e&&(this.endYear=2120,this.endMonth=12,this.endDay=31,this.endHour=23,this.endMinute=59,this.endSecond=59));if("time"===this.type){var a=t.split(":");this[e+"Hour"]=Number(a[0]),this[e+"Minute"]=Number(a[1]),this[e+"Second"]=Number(a[2])}else{if(!t)return void("start"===e?this.startYear=this.year-60:this.endYear=this.year+60);Number(t)&&(t=parseInt(t));"datetime"!==this.type||"end"!==e||"string"!==typeof t||/[0-9]:[0-9]/.test(t)||(t+=" 23:59:59");var i=new Date(t);this[e+"Year"]=i.getFullYear(),this[e+"Month"]=i.getMonth()+1,this[e+"Day"]=i.getDate(),"datetime"===this.type&&(this[e+"Hour"]=i.getHours(),this[e+"Minute"]=i.getMinutes(),this[e+"Second"]=i.getSeconds())}},getCurrentRange:function(t){for(var e=[],a=this["min"+this.capitalize(t)];a<=this["max"+this.capitalize(t)];a++)e.push(a);return e},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},checkValue:function(t,e,a){-1===a.indexOf(e)&&(this[t]=a[0])},daysInMonth:function(t,e){return new Date(t,e,0).getDate()},fixIosDateFormat:function(t){return"string"===typeof t&&(t=t.replace(/-/g,"/")),t},createTimeStamp:function(t){if(t)return"number"===typeof t?t:(t=t.replace(/-/g,"/"),"date"===this.type&&(t+=" 00:00:00"),Date.parse(t))},createDomSting:function(){var t=this.year+"-"+this.lessThanTen(this.month)+"-"+this.lessThanTen(this.day),e=this.lessThanTen(this.hour)+":"+this.lessThanTen(this.minute);return this.hideSecond||(e=e+":"+this.lessThanTen(this.second)),"date"===this.type?t:"time"===this.type?e:t+" "+e},initTime:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.time=this.createDomSting(),t&&("timestamp"===this.returnType&&"time"!==this.type?(this.$emit("change",this.createTimeStamp(this.time)),this.$emit("input",this.createTimeStamp(this.time)),this.$emit("update:modelValue",this.createTimeStamp(this.time))):(this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time)))},bindDateChange:function(t){var e=t.detail.value;this.year=this.years[e[0]],this.month=this.months[e[1]],this.day=this.days[e[2]]},bindTimeChange:function(t){var e=t.detail.value;this.hour=this.hours[e[0]],this.minute=this.minutes[e[1]],this.second=this.seconds[e[2]]},initTimePicker:function(){if(!this.disabled){var t=(0,s.fixIosDateFormat)(this.time);this.initPickerValue(t),this.visible=!this.visible}},tiggerTimePicker:function(t){this.visible=!this.visible},clearTime:function(){this.time="",this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time),this.tiggerTimePicker()},setTime:function(){this.initTime(),this.tiggerTimePicker()}}};e.default=c},b85c:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("4bcb");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-roles").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,a("a9ff")["default"])},b8af:function(t,e,a){"use strict";a.r(e);var i=a("ca80"),n=a("4842");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"3e5b7276",null,!1,i["a"],void 0);e["default"]=o.exports},b911:function(t,e,a){"use strict";a.r(e);var i=a("6db4"),n=a("432e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"72e79676",null,!1,i["a"],void 0);e["default"]=o.exports},b9b3:function(t,e,a){"use strict";a.r(e);var i=a("782b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b9d0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={methods:{getParentAll:function(t,e){e=this.getParent("uni".concat(t),e),e&&(this.rootMenu[t].push(e),this.getParentAll(t,e))},getParent:function(t,e,a){e=e.$parent;var i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}}},ba04:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u5185\u5bb9\u7edf\u8ba1\u9875\u9762",field:"page_link",stat:-1},{title:"\u9875\u9762\u540d\u79f0",field:"page_title",stat:-1},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee\uff1b",value:0},{title:"\u8bbf\u95ee\u8bbe\u5907\u6570",field:"visit_devices",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee\uff1b",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0},{title:"\u5206\u4eab\u6b21\u6570",field:"share_count",tooltip:"\u9875\u9762\u88ab\u5206\u4eab\u6210\u529f\u7684\u6b21\u6570",value:0}]},bac9:function(t,e,a){"use strict";a.r(e);var i=a("56dd"),n=a("f971");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},bc17:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))])])],1),a("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:7},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;return[a("uni-table",{attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,_i:"8-"+n}},[a("uni-tr",{attrs:{_i:"9-"+n}},[a("uni-th",{attrs:{align:"center",_i:"10-"+n}},[t._v("\u5e8f\u53f7")]),a("uni-th",{attrs:{align:"center",_i:"11-"+n}},[t._v("\u7528\u6237\u540d")]),a("uni-th",{attrs:{align:"center",_i:"12-"+n}},[t._v("\u6635\u79f0")]),a("uni-th",{attrs:{align:"center",_i:"13-"+n}},[t._v("\u5185\u5bb9")]),a("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("IP")]),a("uni-th",{attrs:{align:"center",_i:"15-"+n}},[t._v("\u65f6\u95f4")])],1),t._l(i._$s("16-"+n,"f",{forItems:r}),(function(e,r,o,u){return a("uni-tr",{key:i._$s("16-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"16-"+n+u}},[a("uni-td",{attrs:{align:"center",_i:"17-"+n+u}},[t._v(i._$s("17-"+n+u,"t0-0",t._s((s.current-1)*s.size+(r+1))))]),a("uni-td",{attrs:{align:"center",_i:"18-"+n+u}},[t._v(i._$s("18-"+n+u,"t0-0",t._s(e.user_id[0]&&e.user_id[0].username||"-")))]),a("uni-td",{attrs:{align:"center",_i:"19-"+n+u}},[t._v(i._$s("19-"+n+u,"t0-0",t._s(e.user_id[0]&&e.user_id[0].nickname||"-")))]),a("uni-td",{attrs:{align:"center",_i:"20-"+n+u}},[t._v(i._$s("20-"+n+u,"t0-0",t._s(e.type)))]),a("uni-td",{attrs:{align:"center",_i:"21-"+n+u}},[t._v(i._$s("21-"+n+u,"t0-0",t._s(e.ip)))]),a("uni-td",{attrs:{align:"center",_i:"22-"+n+u}},[a("uni-dateformat",{attrs:{date:e.create_date,threshold:[0,0],_i:"23-"+n+u}})],1)],1)}))],2),a("view",{staticClass:i._$s("24-"+n,"sc","uni-pagination-box"),attrs:{_i:"24-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"25-"+n},on:{change:t.onPageChanged},model:{value:t._$s("25-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)])},r=[]},bcaa:function(t,e,a){"use strict";a.r(e);var i=a("9911"),n=a("5c33");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},bcde:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesSmsForm:a("1e30").default,uniPopupCaptcha:a("e6c4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box "),attrs:{_i:4}})]),a("uni-forms",{ref:"form",staticClass:t._$s(5,"sc","set-password-form"),attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[a("text",{staticClass:t._$s(6,"sc","tip"),attrs:{_i:6}}),a("uni-forms-item",{attrs:{name:"newPassword",_i:7}},[a("uni-easyinput",{staticClass:t._$s(8,"sc","input-box"),attrs:{focus:t.focusNewPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",_i:8},on:{blur:function(e){t.focusNewPassword=!1}},model:{value:t._$s(8,"v-model",t.formData.newPassword),callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),a("text",{staticClass:t._$s(9,"sc","tip"),attrs:{_i:9}}),a("uni-forms-item",{attrs:{name:"newPassword2",_i:10}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusNewPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusNewPassword2=!1}},model:{value:t._$s(11,"v-model",t.formData.newPassword2),callback:function(e){t.$set(t.formData,"newPassword2",e)},expression:"formData.newPassword2"}})],1),a("uni-id-pages-sms-form",{ref:"smsCode",attrs:{type:"set-pwd-by-sms",phone:t.userInfo.mobile,_i:12},model:{value:t._$s(12,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),a("view",{staticClass:t._$s(13,"sc","link-box"),attrs:{_i:13}},[a("button",{staticClass:t._$s(14,"sc","uni-btn send-btn"),attrs:{_i:14},on:{click:t.submit}}),t._$s(15,"i",t.allowSkip)?a("button",{staticClass:t._$s(15,"sc","uni-btn send-btn"),attrs:{_i:15},on:{click:t.skip}}):t._e()])],1),a("uni-popup-captcha",{ref:"popup",attrs:{scene:"set-pwd-by-sms",_i:16},on:{confirm:t.submit},model:{value:t._$s(16,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},bd32:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("278c")),s=a("730b"),o=i(a("d435")),u=i(a("9fe3")),c=a("37dc"),l=i(a("8cb5"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var f=(0,c.initVueI18n)(l.default),p=f.t,h={components:{calendarItem:o.default,timePicker:u.default},props:{date:{type:String,default:""},defTime:{type:[String,Object],default:""},selectableTimes:{type:[Object],default:function(){return{}}},selected:{type:Array,default:function(){return[]}},startDate:{type:String,default:""},endDate:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},range:{type:Boolean,default:!1},hasTime:{type:Boolean,default:!1},insert:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},clearDate:{type:Boolean,default:!0},checkHover:{type:Boolean,default:!0},hideSecond:{type:[Boolean],default:!1},pleStatus:{type:Object,default:function(){return{before:"",after:"",data:[],fulldate:""}}},defaultValue:{type:[String,Object,Array],default:""}},data:function(){return{show:!1,weeks:[],calendar:{},nowDate:{},aniMaskShow:!1,firstEnter:!0,time:"",timeRange:{startTime:"",endTime:""},tempSingleDate:"",tempRange:{before:"",after:""},isPhone:!1}},watch:{date:{immediate:!0,handler:function(t){var e=this;this.range||(this.tempSingleDate=t,setTimeout((function(){e.init(t)}),100))}},defTime:{immediate:!0,handler:function(t){this.range?(this.timeRange.startTime=t.start,this.timeRange.endTime=t.end):this.time=t}},startDate:function(t){this.cale&&(this.cale.setStartDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks)},endDate:function(t){this.cale&&(this.cale.setEndDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks)},selected:function(t){this.cale&&(this.cale.setSelectInfo(this.nowDate.fullDate,t),this.weeks=this.cale.weeks)},pleStatus:{immediate:!0,handler:function(t){var e=this,a=t.before,i=t.after,n=t.fulldate,r=t.which;this.tempRange.before=a,this.tempRange.after=i,setTimeout((function(){if(n)if(e.cale.setHoverMultiple(n),a&&i){if(e.cale.lastHover=!0,e.rangeWithinMonth(i,a))return;e.setDate(a)}else e.cale.setMultiple(n),e.setDate(e.nowDate.fullDate),e.calendar.fullDate="",e.cale.lastHover=!1;else{if(!e.cale)return;e.cale.setDefaultMultiple(a,i),"left"===r&&a?(e.setDate(a),e.weeks=e.cale.weeks):i&&(e.setDate(i),e.weeks=e.cale.weeks),e.cale.lastHover=!0}}),16)}}},computed:{timepickerStartTime:function(){var t=this.range?this.tempRange.before:this.calendar.fullDate;return t===this.startDate?this.selectableTimes.start:""},timepickerEndTime:function(){var t=this.range?this.tempRange.after:this.calendar.fullDate;return t===this.endDate?this.selectableTimes.end:""},selectDateText:function(){return p("uni-datetime-picker.selectDate")},startDateText:function(){return this.startPlaceholder||p("uni-datetime-picker.startDate")},endDateText:function(){return this.endPlaceholder||p("uni-datetime-picker.endDate")},okText:function(){return p("uni-datetime-picker.ok")},yearText:function(){return p("uni-datetime-picker.year")},monthText:function(){return p("uni-datetime-picker.month")},MONText:function(){return p("uni-calender.MON")},TUEText:function(){return p("uni-calender.TUE")},WEDText:function(){return p("uni-calender.WED")},THUText:function(){return p("uni-calender.THU")},FRIText:function(){return p("uni-calender.FRI")},SATText:function(){return p("uni-calender.SAT")},SUNText:function(){return p("uni-calender.SUN")},confirmText:function(){return p("uni-calender.confirm")}},created:function(){this.cale=new s.Calendar({selected:this.selected,startDate:this.startDate,endDate:this.endDate,range:this.range}),this.init(this.date)},mounted:function(){if("undefined"===typeof navigator){var t=uni.getSystemInfoSync(),e=t.windowWidth;this.isPhone=e<=500}else this.isPhone=-1!==navigator.userAgent.toLowerCase().indexOf("mobile")},methods:{leaveCale:function(){this.firstEnter=!0},handleMouse:function(t){if(!t.disable&&!this.cale.lastHover){var e=this.cale.multipleStatus,a=e.before;e.after;a&&(this.calendar=t,this.cale.setHoverMultiple(this.calendar.fullDate),this.weeks=this.cale.weeks,this.firstEnter&&(this.$emit("firstEnterCale",this.cale.multipleStatus),this.firstEnter=!1))}},rangeWithinMonth:function(t,e){var a=t.split("-"),i=(0,r.default)(a,2),n=i[0],s=i[1],o=e.split("-"),u=(0,r.default)(o,2),c=u[0],l=u[1];return n===c&&s===l},maskClick:function(){this.close(),this.$emit("maskClose")},clearCalender:function(){this.range?(this.timeRange.startTime="",this.timeRange.endTime="",this.tempRange.before="",this.tempRange.after="",this.cale.multipleStatus.before="",this.cale.multipleStatus.after="",this.cale.multipleStatus.data=[],this.cale.lastHover=!1):(this.time="",this.tempSingleDate=""),this.calendar.fullDate="",this.setDate(new Date)},bindDateChange:function(t){var e=t.detail.value+"-1";this.setDate(e)},init:function(t){if(this.cale&&(this.cale.setDate(t||new Date),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(t),this.calendar=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.nowDate),!t&&(this.calendar.fullDate="",this.defaultValue&&!this.range))){var e=new Date(this.defaultValue),a=(0,s.getDate)(e),i=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),u=e.getDay();this.calendar={fullDate:a,year:i,month:r,date:o,day:u},this.tempSingleDate=a,this.time=(0,s.getTime)(e,this.hideSecond)}},open:function(){var t=this;this.clearDate&&!this.insert&&(this.cale.cleanMultipleStatus(),this.init(this.date)),this.show=!0,this.$nextTick((function(){setTimeout((function(){t.aniMaskShow=!0}),50)}))},close:function(){var t=this;this.aniMaskShow=!1,this.$nextTick((function(){setTimeout((function(){t.show=!1,t.$emit("close")}),300)}))},confirm:function(){this.setEmit("confirm"),this.close()},change:function(){this.insert&&this.setEmit("change")},monthSwitch:function(){var t=this.nowDate,e=t.year,a=t.month;this.$emit("monthSwitch",{year:e,month:Number(a)})},setEmit:function(t){this.range||(this.calendar.fullDate||(this.calendar=this.cale.getInfo(new Date),this.tempSingleDate=this.calendar.fullDate),this.hasTime&&!this.time&&(this.time=(0,s.getTime)(new Date,this.hideSecond)));var e=this.calendar,a=e.year,i=e.month,n=e.date,r=e.fullDate,o=e.extraInfo;this.$emit(t,{range:this.cale.multipleStatus,year:a,month:i,date:n,time:this.time,timeRange:this.timeRange,fulldate:r,extraInfo:o||{}})},choiceDate:function(t){if(!t.disable){this.calendar=t,this.calendar.userChecked=!0,this.cale.setMultiple(this.calendar.fullDate,!0),this.weeks=this.cale.weeks,this.tempSingleDate=this.calendar.fullDate;var e=new Date(this.cale.multipleStatus.before).getTime(),a=new Date(this.cale.multipleStatus.after).getTime();e>a&&a&&!this.isPhone?(this.tempRange.before=this.cale.multipleStatus.after,this.tempRange.after=this.cale.multipleStatus.before):(this.tempRange.before=this.cale.multipleStatus.before,this.tempRange.after=this.cale.multipleStatus.after),this.change()}},changeMonth:function(t){var e;"pre"===t?e=this.cale.getPreMonthObj(this.nowDate.fullDate).fullDate:"next"===t&&(e=this.cale.getNextMonthObj(this.nowDate.fullDate).fullDate),this.setDate(e),this.monthSwitch()},setDate:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(t)}}};e.default=h},bdd2:function(t,e,a){"use strict";a.r(e);var i=a("23a1"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},be8f:function(t,e,a){"use strict";a.r(e);var i=a("9b94"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},bf99:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("b3af")),s=n(a("0ec9")),o=(n(a("3015")),a("b452"),t.importObject("uni-id-co")),u={mixins:[s.default],data:function(){return{formData:{username:"",nickname:"",password:"",password2:"",captcha:""},rules:r.default,focusUsername:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){return 4!=t.formData.captcha.length?(t.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none",duration:3e3})):t.needAgreements&&!t.agree?t.$refs.agreements.popup((function(){t.submitForm(e)})):void t.submitForm(e)})).catch((function(e){var a=e[0].key;a=a.replace(a[0],a[0].toUpperCase()),t["focus"+a]=!0}))},submitForm:function(t){var e=this;o.registerUser(this.formData).then((function(t){e.loginSuccess(t)})).catch((function(t){t.message,e.$refs.captcha.getImageCaptcha()}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register-by-email"})}}};e.default=u}).call(this,a("a9ff")["default"],a("0de9")["default"])},bfd8:function(t,e,a){"use strict";a.r(e);var i=a("a863"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c016:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),a("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc","def-item":1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(7,"sc","uni-stat--x"),attrs:{_i:7}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:8},on:{change:t.platformChange},model:{value:t._$s(8,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(9,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(9,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("funnelChart",{attrs:{query:t.query,_i:10}}),a("trendChart",{attrs:{query:t.query,_i:11}})],1),a("fix-window",{attrs:{_i:12}})],1)},r=[]},c068:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniMatchMedia:a("a5e8").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniIdPagesSmsForm:a("1e30").default,uniPopupCaptcha:a("e6c4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[a("uni-match-media",{attrs:{"min-width":690,_i:1}},[a("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[a("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),a("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),a("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[a("uni-forms-item",{attrs:{name:"phone",_i:6}},[a("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusPhone,disabled:t.lock,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:7},on:{blur:function(e){t.focusPhone=!1}},model:{value:t._$s(7,"v-model",t.formData.phone),callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("uni-forms-item",{attrs:{name:"code",_i:8}},[a("uni-id-pages-sms-form",{ref:"shortCode",attrs:{phone:t.formData.phone,type:"reset-pwd-by-sms",_i:9},model:{value:t._$s(9,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),a("uni-forms-item",{attrs:{name:"password",_i:10}},[a("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{attrs:{name:"password2",_i:12}},[a("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{focus:t.focusPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),a("button",{staticClass:t._$s(14,"sc","uni-btn send-btn-box"),attrs:{_i:14},on:{click:t.submit}}),a("uni-match-media",{attrs:{"min-width":690,_i:15}},[a("view",{staticClass:t._$s(16,"sc","link-box"),attrs:{_i:16}},[a("text",{staticClass:t._$s(17,"sc","link"),attrs:{_i:17},on:{click:t.retrieveByEmail}}),a("view"),a("text",{staticClass:t._$s(19,"sc","link"),attrs:{_i:19},on:{click:t.backLogin}})])])],1),a("uni-popup-captcha",{ref:"popup",attrs:{scene:"reset-pwd-by-sms",_i:20},on:{confirm:t.submit},model:{value:t._$s(20,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},c0d7:function(t,e,a){"use strict";a.r(e);var i=a("4423"),n=a("b6a9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},c135:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},c14d:function(t,e,a){"use strict";a.r(e);var i=a("cdd9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c155:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[a("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),a("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),a("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[a("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),a("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[a("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),a("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},c240:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c25c:function(t,e,a){"use strict";a.r(e);var i=a("9fde"),n=a("c459");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4a6ffee8",null,!1,i["a"],void 0);e["default"]=o.exports},c293:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.typeFilter=e.type=e.setDataValue=e.realName=e.rawData=e.objSet=e.objGet=e.name2arr=e.isRequiredField=e.isRealName=e.isNumber=e.isEqual=e.isBoolean=e.getValue=e.getDataValueType=e.getDataValue=e.deepCopy=void 0;var n=i(a("7037"));e.deepCopy=function(t){return JSON.parse(JSON.stringify(t))};var r=function(t){return"int"===t||"double"===t||"number"===t||"timestamp"===t};e.typeFilter=r;e.getValue=function(t,e,a){var i=a.find((function(t){return t.format&&r(t.format)})),n=a.find((function(t){return t.format&&"boolean"===t.format||"bool"===t.format}));return i&&(e=e||0===e?d(Number(e))?Number(e):e:null),n&&(e=!!f(e)&&e),e};e.setDataValue=function(t,e,a){return e[t]=a,a||""};var s=function(t,e){return l(e,t)};e.getDataValue=s;e.getDataValueType=function(t,e){var a=s(t,e);return{type:p(a),value:a}};e.realName=function(t){var e=c(t);if("object"===(0,n.default)(e)&&Array.isArray(e)&&e.length>1){var a=e.reduce((function(t,e){return t+"#".concat(e)}),"_formdata_");return a}return e[0]||t};e.isRealName=function(t){return/^_formdata_#*/.test(t)};e.rawData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t)),a={};for(var i in e){var n=o(i);u(a,n,e[i])}return a};var o=function(t){var e=t.replace("_formdata_#","");return e=e.split("#").map((function(t){return d(t)?Number(t):t})),e};e.name2arr=o;var u=function(t,e,a){return"object"!==(0,n.default)(t)||c(e).reduce((function(t,e,i,n){return i===n.length-1?(t[e]=a,null):(e in t||(t[e]=/^[0-9]{1,}$/.test(n[i+1])?[]:{}),t[e])}),t),t};function c(t){return Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")}e.objSet=u;var l=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined",i=c(e),n=i.reduce((function(t,e){return(t||{})[e]}),t);return n&&void 0===n?a:n};e.objGet=l;var d=function(t){return!isNaN(Number(t))};e.isNumber=d;var f=function(t){return"boolean"===typeof t};e.isBoolean=f;e.isRequiredField=function(t){for(var e=!1,a=0;a<t.length;a++){var i=t[a];if(i.required){e=!0;break}}return e};var p=function(t){var e={};return"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach((function(t,a){e["[object "+t+"]"]=t.toLowerCase()})),null==t?t+"":"object"===(0,n.default)(t)||"function"===typeof t?e[Object.prototype.toString.call(t)]||"object":(0,n.default)(t)};e.type=p;e.isEqual=function(t,e){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;var a=toString.call(t),i=toString.call(e);if(a!==i)return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("[object Object]"==a){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!=r.length)return!1;for(var s=0;s<n.length;s++){var o=n[s];if(t[o]!==e[o])return!1}return!0}return"[object Array]"==a?t.toString()==e.toString():void 0}},c2b0:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("278c")),s=a("7c5a"),o=n(a("658f"));function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var l={data:function(){return{fieldsMap:o.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:o.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabName:"\u65b0\u589e\u7528\u6237",errorMessage:""}},computed:{chartTabs:function(){var t=[];return o.default.forEach((function(e){var a=e.field,i=e.title,n=e.hasOwnProperty("value");a&&i&&n&&t.push({_id:a,name:i})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,s.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,s.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],a=t[1],i=a-e>=864e5;return i},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,s.getTimeOfSomeDayAgo)(t),i=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.getTabelData(this.query)},changeChartTab:function(t,e,a){this.tabName=a,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t,this.chartTab,this.tabName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65b0\u589e\u7528\u6237";e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var r=this.query.dimension,c=t.database();c.collection("uni-stat-result").where(e).field("".concat((0,s.stringifyField)(o.default,i),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default,i)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,c=(e.count,e.data),l={categories:[],series:[{name:n,data:[]}]},d=o.default.filter((function(t){return t.field===i}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,p=u(c);try{for(p.s();!(f=p.n()).done;){var h=f.value;(0,s.mapfields)(d,h,h);var m=(0,s.formatDate)(h.start_time,r),_=h[i];l.series[0].data.push(_),l.categories.push(m)}}catch(g){p.e(g)}finally{p.f()}a.chartData=l})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this,i=this.options.pageCurrent;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var n=t.database();n.collection("uni-stat-result").where(e).field((0,s.stringifyField)(o.default)).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,n=i.count,r=i.data,c=u(r);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=l.start_time;if(d){var f=a.query.dimension;l.start_time=(0,s.formatDate)(d,f)}(0,s.mapfields)(o.default,l,l)}}catch(p){c.e(p)}finally{c.f()}a.tableData=[],a.options.total=n,a.tableData=r})).catch((function(t){})).finally((function(){a.loading=!1}))},getPanelData:function(){var e=this,a=JSON.parse(JSON.stringify(this.query));a.dimension="day";var i=(0,s.stringifyQuery)(a,null,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(i).field("".concat((0,s.stringifyField)(o.default),",stat_date")).groupBy("appid").groupField((0,s.stringifyGroupField)(o.default)).orderBy("stat_date","desc").get().then((function(t){var a=t.result.data[0];a&&(a.total_users=0),e.panelData=[],e.panelData=(0,s.mapfields)(o.default,a),s.getFieldTotal.call(e,i,"total_users")}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=l}).call(this,a("a9ff")["default"],a("0de9")["default"])},c2c8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f"},{title:"\u9875\u9762\u540d\u79f0",field:"title"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u7b2c\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762\uff08\u5373\u7740\u9646\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u8df3\u51fa\u7387",field:"bounce_rate",formatter:"%%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,stat:"avg"},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0}]},c35d:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9557")),r=i(a("6793")),s=i(a("2d65")),o=i(a("2bde")),u=i(a("e652")),c={components:{Loading1:n.default,Loading2:r.default,Loading3:s.default,Loading4:o.default,Loading5:u.default},name:"qiun-loading",props:{loadingType:{type:Number,default:2}},data:function(){return{}}};e.default=c},c37d:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("9523")),o=n(a("c973")),u=n(a("3015")),c=a("b452");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={computed:{agreements:function(){if(!u.default.agreements)return[];var t=u.default.agreements,e=t.serviceUrl,a=t.privacyUrl;return[{url:e,title:"\u7528\u6237\u670d\u52a1\u534f\u8bae"},{url:a,title:"\u9690\u79c1\u653f\u7b56\u6761\u6b3e"}]},agree:{get:function(){return this.getParentComponent().agree},set:function(t){return this.getParentComponent().agree=t}}},data:function(){return{servicesList:[{id:"username",text:"\u8d26\u53f7\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/login/uni-fab-login/user.png",path:"/uni_modules/uni-id-pages/pages/login/login-withpwd"},{id:"smsCode",text:"\u77ed\u4fe1\u9a8c\u8bc1\u7801",logo:"/uni_modules/uni-id-pages/static/login/uni-fab-login/sms.png",path:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=smsCode"},{id:"weixin",text:"\u5fae\u4fe1\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/login/uni-fab-login/weixin.png"},{id:"apple",text:"\u82f9\u679c\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/apple.png"},{id:"univerify",text:"\u4e00\u952e\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/univerify.png"},{id:"taobao",text:"\u6dd8\u5b9d\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/taobao.png"},{id:"facebook",text:"\u8138\u4e66\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/facebook.png"},{id:"alipay",text:"\u652f\u4ed8\u5b9d\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/alipay.png"},{id:"qq",text:"QQ\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/qq.png"},{id:"google",text:"\u8c37\u6b4c\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/google.png"},{id:"douyin",text:"\u6296\u97f3\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/douyin.png"},{id:"sinaweibo",text:"\u65b0\u6d6a\u5fae\u535a",logo:"/uni_modules/uni-id-pages/static/app-plus/uni-fab-login/sinaweibo.png"}],univerifyStyle:{fullScreen:!0,backgroundColor:"#ffffff",buttons:{iconWidth:"45px",list:[]},privacyTerms:{defaultCheckBoxState:!1,textColor:"#BBBBBB",termsColor:"#5496E3",prefix:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f",suffix:"\u5e76\u4f7f\u7528\u672c\u673a\u53f7\u7801\u767b\u5f55",privacyItems:[]}}}},watch:{agree:function(t){this.univerifyStyle.privacyTerms.defaultCheckBoxState=t}},created:function(){var t=this;return(0,o.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.servicesList,i=u.default.loginTypes,a=a.filter((function(t){return("apple"!=t.id||"ios"==uni.getSystemInfoSync().osName)&&i.includes(t.id)})),i.includes("univerify")&&(t.univerifyStyle.privacyTerms.privacyItems=t.agreements,a.forEach((function(e){var a=e.id,i=e.logo,n=e.path;"univerify"!=a&&t.univerifyStyle.buttons.list.push({iconPath:i,provider:a,path:n})}))),t.servicesList=a.filter((function(e){var a=e.path?e.path.split("?")[0]:"";return a!=t.getRoute(1)}));case 5:case"end":return e.stop()}}),e)})))()},methods:{getParentComponent:function(){return this.$parent},setUserInfo:function(t){},getRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=getCurrentPages();return t>e.length?"":"/"+e[e.length-t].route},toPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.getRoute(1)==t.split("?")[0]&&"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"==this.getRoute(1)){var a=t.split("?")[1].split("=")[1];uni.$emit("uni-id-pages-setLoginType",a)}else this.getRoute(2)==t?uni.navigateBack():this.getRoute(1)!=t&&(0===e?uni.navigateTo({url:t,animationType:"slide-in-left",complete:function(t){}}):uni.redirectTo({url:t,animationType:"slide-in-left",complete:function(t){}}))},login_before:function(t){var e=arguments,a=this;return(0,o.default)(r.default.mark((function i(){var n,s,c,l,d,f,p,h,m,_;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=!(e.length>1&&void 0!==e[1])||e[1],c=e.length>2&&void 0!==e[2]?e[2]:{},!["qq","xiaomi","sinaweibo","taobao","facebook","google","alipay","douyin"].includes(t)){i.next=5;break}return i.abrupt("return",uni.showToast({title:"\u8be5\u767b\u5f55\u65b9\u5f0f\u6682\u672a\u5b9e\u73b0\uff0c\u6b22\u8fce\u63d0\u4ea4pr",icon:"none",duration:3e3}));case 5:return l=!0,i.next=8,new Promise((function(e){plus.oauth.getServices((function(a){var i=a.findIndex((function(e){return e.id==t}));if(-1==i)return uni.showToast({title:"\u5f53\u524d\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u767b\u5f55\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",icon:"none",duration:3e3});l=a[i].nativeClient,e()}),(function(t){throw new Error("\u83b7\u53d6\u670d\u52a1\u4f9b\u5e94\u5546\u5931\u8d25\uff1a"+JSON.stringify(t))}))}));case 8:if(l){i.next=10;break}return i.abrupt("return",uni.showToast({title:"\u5f53\u524d\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u767b\u5f55\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",icon:"none",duration:3e3}));case 10:if(d=((null===u.default||void 0===u.default||null===(n=u.default.agreements)||void 0===n?void 0:n.scope)||[]).includes("register"),"univerify"==t||!d||a.agree){i.next=14;break}return f=a.getParentComponent().$refs.agreements,i.abrupt("return",f.popup((function(){a.login_before(t,s,c)})));case 14:if(uni.showLoading({mask:!0}),"univerify"!=t){i.next=22;break}return p=function(){uni.hideLoading(),h.close(),h.offButtonsClick(_)},h=uni.getUniverifyManager(),m=!1,_=function(){var t=(0,o.default)(r.default.mark((function t(e){var i,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.provider,a.univerifyStyle.buttons.list,m=!0,t.next=4,uni.getCheckBoxState();case 4:i=t.sent,a.agree=i[1].state,n=a.univerifyStyle.buttons.list[e.index].path,n?(a.getRoute(1).includes("login-withoutpwd")&&n.includes("login-withoutpwd")&&a.getParentComponent().showCurrentWebview(),a.toPage(n,1),p()):a.agree?(p(),setTimeout((function(){a.login_before(e.provider)}),500)):uni.showToast({title:"\u4f60\u672a\u540c\u610f\u9690\u79c1\u653f\u7b56\u534f\u8bae",icon:"none",duration:3e3});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h.onButtonsClick(_),i.abrupt("return",h.login({univerifyStyle:a.univerifyStyle,success:function(t){a.login(t.authResult,"univerify")},fail:function(t){m||uni.navigateBack()},complete:function(){var t=(0,o.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading(),h.offButtonsClick(_);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));case 22:if("weixinMobile"!==t){i.next=24;break}return i.abrupt("return",a.login({phoneCode:c.phoneNumberCode},t));case 24:uni.login({provider:t,onlyAuthorize:!0,univerifyStyle:a.univerifyStyle,success:function(){var e=(0,o.default)(r.default.mark((function e(i){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("apple"!=t){e.next=6;break}return e.next=3,a.getUserInfo({provider:"apple"});case 3:n=e.sent,Object.assign(i.authResult,n.userInfo),uni.hideLoading();case 6:a.login("weixin"==t?{code:i.code}:i.authResult,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fail:function(){var t=(0,o.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 25:case"end":return i.stop()}}),i)})))()},login:function(t,e){var a="loginBy"+e.trim().replace(e[0],e[0].toUpperCase()),n=i.importObject("uni-id-co",{customUI:!0});n[a](t).then((function(t){uni.showToast({title:"\u767b\u5f55\u6210\u529f",icon:"none",duration:2e3}),c.mutations.loginSuccess(t)})).catch((function(t){uni.showModal({content:t.message,confirmText:"\u77e5\u9053\u4e86",showCancel:!1})})).finally((function(t){"univerify"==e&&uni.closeAuthView(),uni.hideLoading()}))},getUserInfo:function(t){return(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){uni.getUserInfo(d(d({},t),{},{success:function(t){e(t)},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1}),a(t)}}))})));case 1:case"end":return e.stop()}}),e)})))()}}};e.default=f}).call(this,a("0de9")["default"],a("a9ff")["default"])},c459:function(t,e,a){"use strict";a.r(e);var i=a("6db2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c494:function(t,e,a){"use strict";a.r(e);var i=a("6701"),n=a("6d1d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},c4bb:function(t,e,a){"use strict";a.r(e);var i=a("9480"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c4d6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTh",options:{virtualHost:!0},components:{},emits:["sort-change","filter-change"],props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1},sortable:{type:Boolean,default:!1},filterType:{type:String,default:""},filterData:{type:Array,default:function(){return[]}},filterDefaultValue:{type:[Array,String],default:function(){return""}}},data:function(){return{border:!1,ascending:!1,descending:!1}},computed:{customWidth:function(){if("number"===typeof this.width)return this.width;if("string"===typeof this.width){var t=new RegExp(/^[1-9][0-9]*px$/g),e=new RegExp(/^[1-9][0-9]*rpx$/g),a=new RegExp(/^[1-9][0-9]*$/g);if(null!==this.width.match(t))return this.width.replace("px","");if(null!==this.width.match(e)){var i=Number(this.width.replace("rpx","")),n=uni.getSystemInfoSync().screenWidth/750;return Math.round(i*n)}return null!==this.width.match(a)?this.width:""}return""},contentAlign:function(){var t="left";switch(this.align){case"left":t="flex-start";break;case"center":t="center";break;case"right":t="flex-end";break}return t}},created:function(){this.root=this.getTable("uniTable"),this.rootTr=this.getTable("uniTr"),this.rootTr.minWidthUpdate(this.customWidth?this.customWidth:140),this.border=this.root.border,this.root.thChildren.push(this)},methods:{sort:function(){if(this.sortable)return this.clearOther(),this.ascending||this.descending?this.ascending&&!this.descending?(this.ascending=!1,this.descending=!0,void this.$emit("sort-change",{order:"descending"})):void(!this.ascending&&this.descending&&(this.ascending=!1,this.descending=!1,this.$emit("sort-change",{order:null}))):(this.ascending=!0,void this.$emit("sort-change",{order:"ascending"}))},ascendingFn:function(){this.clearOther(),this.ascending=!this.ascending,this.descending=!1,this.$emit("sort-change",{order:this.ascending?"ascending":null})},descendingFn:function(){this.clearOther(),this.descending=!this.descending,this.ascending=!1,this.$emit("sort-change",{order:this.descending?"descending":null})},clearOther:function(){var t=this;this.root.thChildren.map((function(e){return e!==t&&(e.ascending=!1,e.descending=!1),e}))},ondropdown:function(t){this.$emit("filter-change",t)},getTable:function(t){var e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}};e.default=i},c510:function(t,e,a){"use strict";a.r(e);var i=a("e5da"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c55e:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTooltip:a("0179").default,uniIcons:a("c494").default,uniTd:a("d284").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:0}},[a("uni-tr",{attrs:{_i:1}},[t._l(t._$s(2,"f",{forItems:t.filedsMap}),(function(e,i,n,r){return[t._$s("3-"+r,"i",e.title)?a("uni-th",{key:t._$s(2,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"3-"+r}},[a("uni-tooltip",{attrs:{_i:"4-"+r},scopedSlots:t._u([t._$s("6-"+r,"i",t.tooltip&&e.tooltip)?{key:"content",fn:function(i,n,s){return[a("view",{staticClass:n._$s("7-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"7-"+r+"-"+s}},[t._v(n._$s("7-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("4-"+r,"t0-0",t._s(e.title))),t._$s("5-"+r,"i",t.tooltip&&e.tooltip)?a("uni-icons",{attrs:{type:"help",color:"#666",_i:"5-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(8,"f",{forItems:t.data}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(8,"f",{forIndex:n,key:i}),attrs:{_i:"8-"+r}},[t._l(t._$s("9-"+r,"f",{forItems:t.filedsMap}),(function(i,n,s,o){return[t._$s("10-"+r+"-"+o,"i",i.title)?a("uni-td",{key:t._$s("9-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:"center",_i:"10-"+r+"-"+o}},[t._v(t._$s("10-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)},r=[]},c5f7:function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c63b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={menu_id:{rules:[{required:!0},{format:"string"}]},name:{rules:[{required:!0},{format:"string"}]},icon:{rules:[{format:"string"}]},url:{rules:[{format:"string"},{validateFunction:function(t,e,a,i){return""!==e&&-1===e.indexOf("http")&&0!==e.indexOf("/")&&i("URL\u5fc5\u987b\u4ee5/\u5f00\u5934\uff0c\u5982/pages/index/index"),!0}}]},sort:{rules:[{format:"int"}]},parent_id:{rules:[{format:"string"}]},permission:{rules:[{format:"array"}]},enable:{rules:[{format:"bool"}]}}},c63e:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=i(a("a34a")),s=i(a("c973")),o=i(a("3015")),u=i(a("0ec9")),c={mixins:[u.default],data:function(){return{type:"",phone:"",focusPhone:!1,logo:"/static/logo.png"}},computed:{loginTypes:function(){return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",o.default.loginTypes);case 1:case"end":return t.stop()}}),t)})))()},isPhone:function(){return/^1\d{10}$/.test(this.phone)},imgSrc:function(){return"weixin"==this.type?"/uni_modules/uni-id-pages/static/login/weixin.png":"/uni_modules/uni-id-pages/static/app-plus/apple.png"}},onLoad:function(t){var e=this;return(0,s.default)(r.default.mark((function a(){var i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.type||o.default.loginTypes[0],e.type=i,"univerify"!=i&&(e.focusPhone=!0),e.$nextTick((function(){["weixin","apple"].includes(i)&&(e.$refs.uniFabLogin.servicesList=e.$refs.uniFabLogin.servicesList.filter((function(t){return t.id!=i})))})),uni.$on("uni-id-pages-setLoginType",(function(t){e.type=t}));case 5:case"end":return a.stop()}}),a)})))()},onShow:function(){},onUnload:function(){uni.$off("uni-id-pages-setLoginType")},onReady:function(){if("univerify"==this.type){var t=getCurrentPages();n=t[t.length-1].$getAppWebview(),n.setStyle({top:"2000px"}),this.type,this.loginTypes[1],this.$refs.uniFabLogin.login_before("univerify")}},methods:{showCurrentWebview:function(){n.setStyle({top:0})},quickLogin:function(t){var e,a,i={};null!==(e=t.detail)&&void 0!==e&&e.code&&(i.phoneNumberCode=t.detail.code),("weixinMobile"!==this.type||null!==(a=t.detail)&&void 0!==a&&a.code)&&this.$refs.uniFabLogin.login_before(this.type,!0,i)},toSmsPage:function(){return this.isPhone?this.needAgreements&&!this.agree?this.$refs.agreements.popup(this.toSmsPage):void uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone}):(this.focusPhone=!0,uni.showToast({title:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3}))},toPwdLogin:function(){uni.navigateTo({url:"../login/password"})},chooseArea:function(){uni.showToast({title:"\u6682\u4e0d\u652f\u6301\u5176\u4ed6\u56fd\u5bb6",icon:"none",duration:3e3})}}};e.default=c},c6d6:function(t,e,a){"use strict";a.r(e);var i=a("0bba"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c6f5:function(t,e,a){"use strict";a.r(e);var i=a("da1b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c7da:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a")),r=i(a("7037")),s=i(a("9523")),o=a("dd5c");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var t=c(c({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var a in t){var i=this.toLine(a);e+=i+":"+t[a]+";"}return e},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.duration&&(this.durationTime=t.duration),this.animation=(0,o.createAnimation)(Object.assign(this.config,t),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var a in t)try{var i;if("object"===(0,r.default)(t[a]))(i=this.animation)[a].apply(i,(0,n.default)(t[a]));else this.animation[a](t[a])}catch(s){"\u65b9\u6cd5 ".concat(a," \u4e0d\u5b58\u5728")}return this.animation.step(e),this}},run:function(t){this.animation&&this.animation.run(t)},open:function(){var t=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var e=this.styleInit(!1),a=e.opacity,i=e.transform;"undefined"!==typeof a&&(this.opacity=a),this.transform=i,this.$nextTick((function(){t.timer=setTimeout((function(){t.animation=(0,o.createAnimation)(t.config,t),t.transformInit(!1).step(),t.animation.run(),t.$emit("change",{detail:t.isShow})}),20)}))},close:function(t){var e=this;this.animation&&this.transformInit(!0).step().run((function(){e.isShow=!1,e.animationData=null,e.animation=null;var t=e.styleInit(!1),a=t.opacity,i=t.transform;e.opacity=a||1,e.transform=i,e.$emit("change",{detail:e.isShow})}))},styleInit:function(t){var e=this,a={transform:""},i=function(t,i){"fade"===i?a.opacity=e.animationType(t)[i]:a.transform+=e.animationType(t)[i]+" "};return"string"===typeof this.modeClass?i(t,this.modeClass):this.modeClass.forEach((function(e){i(t,e)})),a},transformInit:function(t){var e=this,a=function(t,a){var i=null;"fade"===a?i=t?0:1:(i=t?"-100%":"0","zoom-in"===a&&(i=t?.8:1),"zoom-out"===a&&(i=t?1.2:1),"slide-right"===a&&(i=t?"100%":"0"),"slide-bottom"===a&&(i=t?"100%":"0")),e.animation[e.animationMode()[a]](i)};return"string"===typeof this.modeClass?a(t,this.modeClass):this.modeClass.forEach((function(e){a(t,e)})),this.animation},animationType:function(t){return{fade:t?1:0,"slide-top":"translateY(".concat(t?"0":"-100%",")"),"slide-right":"translateX(".concat(t?"0":"100%",")"),"slide-bottom":"translateY(".concat(t?"0":"100%",")"),"slide-left":"translateX(".concat(t?"0":"-100%",")"),"zoom-in":"scaleX(".concat(t?1:.8,") scaleY(").concat(t?1:.8,")"),"zoom-out":"scaleX(".concat(t?1:1.2,") scaleY(").concat(t?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=l}).call(this,a("0de9")["default"])},c8ba:function(t,e){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(i){"object"===typeof window&&(a=window)}t.exports=a},c8de:function(t,e,a){"use strict";a.r(e);var i=a("6a56"),n=a("e464");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},c92a:function(t,e,a){"use strict";a.r(e);var i=a("6ae6"),n=a("4712");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},c973:function(t,e){function a(t,e,a,i,n,r,s){try{var o=t[r](s),u=o.value}catch(c){return void a(c)}o.done?e(u):Promise.resolve(u).then(i,n)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){a(s,n,r,o,u,"next",t)}function u(t){a(s,n,r,o,u,"throw",t)}o(void 0)}))}},t.exports.__esModule=!0,t.exports["default"]=t.exports},c982:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a"));var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",stat:0}],a=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=a).push.apply(t,(0,n.default)(e));var i=[1,2,3,4,5,6,7,14,30],r=i.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return a=a.concat(r),a};e.default=r},c9b4:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading3"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},ca32:function(t,e,a){"use strict";a.r(e);var i=a("8f65"),n=a("d14f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},ca39:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[this._$s(1,"i",this.url)?e("web-view",{attrs:{src:this._$s(1,"a-src",this.url),_i:1}}):this._e()])},n=[]},ca80:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","captcha-box"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","captcha-img-box"),attrs:{_i:1}},[t._$s(2,"i",t.loging)?a("uni-icons",{staticClass:t._$s(2,"sc","loding"),attrs:{size:"20px",color:"#BBB",type:"spinner-cycle",_i:2}}):t._e(),a("image",{staticClass:t._$s(3,"sc","captcha-img"),class:t._$s(3,"c",{opacity:t.loging}),attrs:{src:t._$s(3,"a-src",t.captchaBase64),_i:3},on:{click:t.getImageCaptcha}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(4,"sc","captcha"),attrs:{focus:t._$s(4,"a-focus",t.focusCaptchaInput),_i:4},domProps:{value:t._$s(4,"v-model",t.val)},on:{blur:function(e){t.focusCaptchaInput=!1},input:function(e){e.target.composing||(t.val=e.target.value)}}})])},r=[]},cabb:function(t,e,a){"use strict";a.r(e);var i=a("a704"),n=a("4204");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},cbfe:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5546")),r=i(a("ab51")),s=i(a("410b")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},cc05:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("0ec9")),s={mixins:[r.default],data:function(){return{code:"",phone:"",captcha:"",logo:"/static/logo.png"}},computed:{tipText:function(){return"\u9a8c\u8bc1\u7801\u5df2\u901a\u8fc7\u77ed\u4fe1\u53d1\u9001\u81f3"+this.phone}},onLoad:function(t){var e=t.phoneNumber;this.phone=e},onShow:function(){},methods:{submit:function(){var e=this,a=t.importObject("uni-id-co",{errorOptions:{type:"toast"}});if(6!=this.code.length)return this.$refs.smsCode.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",icon:"none",duration:3e3});a.loginBySms({mobile:this.phone,code:this.code,captcha:this.captcha}).then((function(t){e.loginSuccess(t)})).catch((function(t){"uni-id-captcha-required"==t.errCode?e.$refs.popup.open():t.errMsg})).finally((function(t){e.captcha=""}))}}};e.default=s}).call(this,a("a9ff")["default"],a("0de9")["default"])},cc7c:function(t,e,a){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-sms-form",model:{prop:"modelValue",event:"update:modelValue"},props:{event:["update:modelValue"],count:{type:[String,Number],default:60},phone:{type:[String,Number],default:""},type:{type:String,default:function(){return"login"}},focusCaptchaInput:{type:Boolean,default:function(){return!1}}},data:function(){return{captcha:"",reverseNumber:0,reverseTimer:null,modelValue:"",focusSmsCodeInput:!1}},watch:{captcha:function(t,e){4==t.length&&4!=e.length&&this.start()},modelValue:function(t){this.$emit("input",t),this.$emit("update:modelValue",t)}},computed:{innerText:function(){return 0==this.reverseNumber?"\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801":"\u91cd\u65b0\u53d1\u9001("+this.reverseNumber+"s)"}},created:function(){this.initClick()},methods:{getImageCaptcha:function(t){this.$refs.captcha.getImageCaptcha(t)},initClick:function(){var t=this;this.start=function(t,e){var a;return e=e||500,function(){var i=this,n=arguments;a&&clearTimeout(a);var r=!a;a=setTimeout((function(){a=null}),e),r&&t.apply(i,n)}}((function(){0==t.reverseNumber&&t.sendMsg()}))},sendMsg:function(){var e=this;if(4!=this.captcha.length)return this.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u5148\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(!/^1\d{10}$/.test(this.phone))return uni.showToast({title:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef",icon:"none",duration:3e3});var a=t.importObject("uni-id-co",{customUI:!0});this.phone,this.type,this.captcha,a.sendSmsCode({mobile:this.phone,scene:this.type,captcha:this.captcha}).then((function(t){uni.showToast({title:"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f",icon:"none",duration:3e3}),e.reverseNumber=Number(e.count),e.getCode()})).catch((function(t){"uni-id-invalid-sms-template-id"==t.code?(e.modelValue="123456",uni.showToast({title:"\u5df2\u542f\u52a8\u6d4b\u8bd5\u6a21\u5f0f,\u8be6\u60c5\u3010\u63a7\u5236\u53f0\u4fe1\u606f\u3011",icon:"none",duration:3e3}),t.message):(e.getImageCaptcha(),e.captcha="",uni.showToast({title:t.message,icon:"none",duration:3e3}))}))},getCode:function(){var t=this;if(0==this.reverseNumber)return clearTimeout(this.reverseTimer),void(this.reverseTimer=null);this.reverseNumber--,this.reverseTimer=setTimeout((function(){t.getCode()}),1e3)}}};e.default=i}).call(this,a("a9ff")["default"],a("0de9")["default"])},cdc1:function(t,e,a){"use strict";a.r(e);var i=a("cc05"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},cdd9:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("c973")),o=a("b452"),u=t.importObject("uni-id-co"),c={computed:{userInfo:function(){return o.store.userInfo},realNameStatus:function(){return this.userInfo.realNameAuth?this.userInfo.realNameAuth.authStatus:0}},data:function(){return{univerifyStyle:{authButton:{title:"\u672c\u673a\u53f7\u7801\u4e00\u952e\u7ed1\u5b9a"},otherLoginButton:{title:"\u5176\u4ed6\u53f7\u7801\u7ed1\u5b9a"}},hasPwd:!1,showLoginManage:!1,setNicknameIng:!1}},onShow:function(){var t=this;return(0,s.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.univerifyStyle.authButton.title="\u672c\u673a\u53f7\u7801\u4e00\u952e\u7ed1\u5b9a",t.univerifyStyle.otherLoginButton.title="\u5176\u4ed6\u53f7\u7801\u7ed1\u5b9a";case 2:case"end":return e.stop()}}),e)})))()},onLoad:function(t){var e=this;return(0,s.default)(r.default.mark((function a(){var i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.showLoginManage&&(e.showLoginManage=!0),a.next=3,u.getAccountInfo();case 3:i=a.sent,e.hasPwd=i.isPasswordSet;case 5:case"end":return a.stop()}}),a)})))()},methods:{login:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd",complete:function(t){}})},logout:function(){o.mutations.logout()},bindMobileSuccess:function(){o.mutations.updateUserInfo()},changePassword:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",complete:function(t){}})},bindMobile:function(){var t=this;uni.preLogin({provider:"univerify",success:this.univerify(),fail:function(e){t.bindMobileBySmsCode()}})},univerify:function(){var t=this;uni.login({provider:"univerify",univerifyStyle:this.univerifyStyle,success:function(){var t=(0,s.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u.bindMobileByUniverify(e.authResult).then((function(t){o.mutations.updateUserInfo()})).catch((function(t){})).finally((function(t){uni.closeAuthView()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fail:function(e){"30002"!=e.code&&"30001"!=e.code||t.bindMobileBySmsCode()}})},bindMobileBySmsCode:function(){uni.navigateTo({url:"./bind-mobile/bind-mobile"})},setNickname:function(t){t?(o.mutations.updateUserInfo({nickname:t}),this.setNicknameIng=!1,this.$refs.dialog.close()):this.$refs.dialog.open()},deactivate:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate"})},bindThirdAccount:function(e){var a=this;return(0,s.default)(r.default.mark((function i(){var n,u;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t.importObject("uni-id-co"),u={weixin:"wx_openid",alipay:"ali_openid",apple:"apple_openid",qq:"qq_openid"}[e.toLowerCase()],!a.userInfo[u]){i.next=9;break}return i.next=5,n["unbind"+e]();case 5:return i.next=7,o.mutations.updateUserInfo();case 7:i.next=10;break;case 9:uni.login({provider:e.toLowerCase(),onlyAuthorize:!0,success:function(){var t=(0,s.default)(r.default.mark((function t(a){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["bind"+e]({code:a.code});case 2:return i=t.sent,i.errCode&&uni.showToast({title:i.errMsg||"\u7ed1\u5b9a\u5931\u8d25",duration:3e3}),t.next=6,o.mutations.updateUserInfo();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fail:function(){var t=(0,s.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 10:case"end":return i.stop()}}),i)})))()},realNameVerify:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/realname-verify/realname-verify"})}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},ce46:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[a("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("uni-forms-item",{attrs:{name:"nickname",label:"\u7528\u6237\u6635\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),a("uni-forms-item",{attrs:{name:"password",label:"\u521d\u59cb\u5bc6\u7801",required:!0,_i:6}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u521d\u59cb\u5bc6\u7801",_i:7},model:{value:t._$s(7,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("uni-forms-item",{staticClass:t._$s(8,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:8}},[a("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:9},model:{value:t._$s(9,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),a("uni-forms-item",{staticClass:t._$s(10,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:10}},[a("uni-data-checkbox",{ref:"checkbox",attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:11},model:{value:t._$s(11,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),a("span",{staticClass:t._$s(12,"sc","link-btn"),attrs:{_i:12},on:{click:t.gotoTagAdd}}),a("span",{staticClass:t._$s(13,"sc","link-btn"),attrs:{_i:13},on:{click:t.gotoTagList}})],1),a("uni-forms-item",{staticClass:t._$s(14,"sc","flex-center-x"),attrs:{name:"authorizedApp",label:"\u53ef\u767b\u5f55\u5e94\u7528",labelWidth:"100",_i:14}},[a("uni-data-checkbox",{attrs:{multiple:!0,collection:"opendb-app-list",field:"appid as value, name as text",_i:15},model:{value:t._$s(15,"v-model",t.formData.authorizedApp),callback:function(e){t.$set(t.formData,"authorizedApp",e)},expression:"formData.authorizedApp"}}),a("span",{staticClass:t._$s(16,"sc","link-btn"),attrs:{_i:16},on:{click:t.gotoAppList}})],1),a("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:17}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:18},model:{value:t._$s(18,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),a("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:19}},[a("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:20},model:{value:t._$s(20,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("uni-forms-item",{attrs:{name:"status",label:"\u662f\u5426\u542f\u7528",_i:21}},[a("switch",{attrs:{checked:t._$s(22,"a-checked",t.formData.status),_i:22},on:{change:function(e){return t.binddata("status",e.detail.value)}}})]),a("view",{staticClass:t._$s(23,"sc","uni-button-group"),attrs:{_i:23}},[a("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24},on:{click:t.submitForm}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(26,"sc","uni-button"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},cf03:function(t,e,a){"use strict";a.r(e);var i=a("ec56"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},cf14:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading6",data:function(){return{}}}},cf31:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={fixWindow:a("51f1").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("view",[e("text")]),e("view",[e("text",[this._v(this._$s(4,"t0-0",this._s(this.errMsg)))])]),e("fix-window",{attrs:{_i:5}})],1)},r=[]},cf44:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTable",options:{virtualHost:!0},emits:["selection-change"],props:{data:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},type:{type:String,default:""},emptyText:{type:String,default:"\u6ca1\u6709\u66f4\u591a\u6570\u636e"},loading:{type:Boolean,default:!1},rowKey:{type:String,default:""}},data:function(){return{noData:!0,minWidth:0,multiTableHeads:[]}},watch:{loading:function(t){},data:function(t){this.theadChildren;this.theadChildren&&this.theadChildren.rowspan,this.noData=!1}},created:function(){this.trChildren=[],this.thChildren=[],this.theadChildren=null,this.backData=[],this.backIndexData=[]},methods:{isNodata:function(){this.theadChildren;var t=1;this.theadChildren&&(t=this.theadChildren.rowspan),this.noData=this.trChildren.length-t<=0},selectionAll:function(){var t=this,e=1,a=this.theadChildren;this.theadChildren?e=a.rowspan-1:a=this.trChildren[0];var i=this.data&&this.data.length>0;a.checked=!0,a.indeterminate=!1,this.trChildren.forEach((function(a,n){if(!a.disabled){if(a.checked=!0,i&&a.keyValue){var r=t.data.find((function(e){return e[t.rowKey]===a.keyValue}));t.backData.find((function(e){return e[t.rowKey]===r[t.rowKey]}))||t.backData.push(r)}n>e-1&&-1===t.backIndexData.indexOf(n-e)&&t.backIndexData.push(n-e)}})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},toggleRowSelection:function(t,e){var a=this;t=[].concat(t),this.trChildren.forEach((function(i,n){var r=t.findIndex((function(t){return"number"===typeof t?t===n-1:t[a.rowKey]===i.keyValue})),s=i.checked;-1!==r&&(i.checked="boolean"===typeof e?e:!i.checked,s!==i.checked&&a.check(i.rowData||i,i.checked,i.rowData?i.keyValue:null,!0))})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},clearSelection:function(){var t=this.theadChildren;this.theadChildren||(t=this.trChildren[0]),t.checked=!1,t.indeterminate=!1,this.trChildren.forEach((function(t){t.checked=!1})),this.backData=[],this.backIndexData=[],this.$emit("selection-change",{detail:{value:[],index:[]}})},toggleAllSelection:function(){var t=[],e=1,a=this.theadChildren;this.theadChildren?e=a.rowspan-1:a=this.trChildren[0],this.trChildren.forEach((function(a,i){a.disabled||i>e-1&&t.push(i-e)})),this.toggleRowSelection(t)},check:function(t,e,a,i){var n=this,r=this.theadChildren;this.theadChildren||(r=this.trChildren[0]);var s=this.trChildren.findIndex((function(e,a){return t===e}));s<0&&(s=this.data.findIndex((function(t){return t[n.rowKey]===a}))+1);this.trChildren.filter((function(t){return!t.disabled&&t.keyValue})).length;if(0!==s){if(e)a&&this.backData.push(t),this.backIndexData.push(s-1);else{var o=this.backData.findIndex((function(t){return t[n.rowKey]===a})),u=this.backIndexData.findIndex((function(t){return t===s-1}));a&&this.backData.splice(o,1),this.backIndexData.splice(u,1)}var c=this.trChildren.find((function(t,e){return e>0&&!t.checked&&!t.disabled}));c?(r.indeterminate=!0,r.checked=!1):(r.indeterminate=!1,r.checked=!0),0===this.backIndexData.length&&(r.indeterminate=!1),i||this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})}else e?this.selectionAll():this.clearSelection()}}};e.default=i},d007:function(t,e,a){"use strict";a.r(e);var i=a("7ca9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d04e:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("c973")),s=i(a("9523")),o=a("5680"),u=a("177f"),c=a("26cb");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f=t.database(),p=f.command,h=["name","title","stable_publish","type"];function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d({create_env:p.neq("uni-stat")},t)}var _={data:function(){return{backButtonHover:!1,appVersionListDbName:u.appVersionListDbName,currentAppid:"",currentAppName:"",query:"",where:"",orderby:"stable_publish desc,create_date desc",selectedIndexs:[],options:d({pageSize:20,pageCurrent:1},o.enumConverter),imageStyles:{width:64,height:64},loaded:!1,containerTop:{},appList:[],showAppIndex:0}},onLoad:function(t){var e=this;return(0,r.default)(n.default.mark((function a(){var i;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.appid,a.next=3,e.getAppList();case 3:if(e.appList.length){a.next=6;break}return e.showModalToAppManager(),a.abrupt("return");case 6:e.loaded=!0,e.appList.forEach((function(t,a){(t.appid===i||u.defaultDisplayApp)&&(e.showAppIndex=a)})),e.setAppInfo(e.showAppIndex),e.where=m({appid:e.currentAppid});case 10:case"end":return a.stop()}}),a)})))()},computed:d(d({},(0,c.mapState)("app",["appid"])),{},{appNameList:function(){return this.appList.map((function(t){return t.name}))}}),watch:{showAppIndex:function(t){this.setAppInfo(t),this.where=m({appid:this.currentAppid})}},onReady:function(){this.containerTop.height="".concat(function(){return document.documentElement?document.documentElement.clientHeight:window.innerHeight}(),"px")},methods:{setAppInfo:function(t){this.currentAppid=this.appList[t].appid,this.currentAppName=this.appList[t].name},navigateBack:function(){uni.navigateBack()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return h.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,this.where&&(this.where="(".concat(this.where,") && ")),this.where+="".concat(new RegExp(this.currentAppid,"i"),".test(appid)"),e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)},publish:function(t){var e=this,a=Object.keys(this.options.type_valuetotext);uni.showActionSheet({itemList:Object.values(this.options.type_valuetotext),success:function(){var t=(0,r.default)(n.default.mark((function t(i){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.navigateTo("./add?appid=".concat(e.currentAppid,"&name=").concat(e.currentAppName,"&type=").concat(a[i.tapIndex]));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},getAppList:function(){var t=this;return(0,r.default)(n.default.mark((function e(){var a,i,r;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection(u.appListDbName).get();case 3:a=e.sent,i=a.result,i&&i.data&&i.data.length>0?t.appList=i.data.filter((function(e){return e.appid!==t.appid})):t.showModalToAppManager(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),r=["TOKEN_INVALID_TOKEN_EXPIRED","TOKEN_INVALID_ANONYMOUS_USER"],-1===r.indexOf(e.t0.code)&&t.showModalToAppManager();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},showModalToAppManager:function(){var t=null,e=3;function a(){uni.navigateTo({url:"/pages/system/app/list"}),clearInterval(t)}t=setInterval((function(){--e<=0&&a()}),1e3),uni.showModal({title:"\u8bf7\u5148\u6dfb\u52a0\u5e94\u7528",content:"\u5373\u5c06\u8df3\u8f6c\u81f3\u5e94\u7528\u7ba1\u7406\u2026\u2026",showCancel:!1,confirmText:"\u7acb\u5373\u8df3\u8f6c",success:function(t){return a()}})},store_list_key:function(t){var e=t?t.filter((function(t){return t.enable})):[];return e.length?e.sort((function(t,e){return e.priority-t.priority})).map((function(t){return t.name})).join(","):"-"}}};e.default=_}).call(this,a("a9ff")["default"])},d0b6:function(t,e,a){"use strict";a.r(e);var i=a("e38c"),n=a("9bf7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},d107:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3015")),r=n.default.passwordStrength,s={super:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,strong:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,medium:/^(?![0-9]+$)(?![a-zA-Z]+$)(?![~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]+$)[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,weak:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{6,16}$/},o={normal:{noPwd:"\u8bf7\u8f93\u5165\u5bc6\u7801",noRePwd:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",rePwdErr:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"},passwordStrengthError:{super:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",strong:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",medium:"\u5bc6\u7801\u5fc5\u987b\u4e3a\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\u4efb\u610f\u4e24\u79cd\u7684\u7ec4\u5408\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",weak:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57286-16\u4f4d\u4e4b\u95f4"}};function u(t){return!(r&&s[r]&&!new RegExp(s[r]).test(t))||o.passwordStrengthError[r]}var c={ERROR:o,validPwd:u,getPwdRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password2",a={};return a[t]={rules:[{required:!0,errorMessage:o.normal.noPwd},{validateFunction:function(t,e,a,i){var n=u(e);return!0!==n&&i(n),!0}}]},e&&(a[e]={rules:[{required:!0,errorMessage:o.normal.noRePwd},{validateFunction:function(e,a,i,n){return a!=i[t]&&n(o.normal.rePwdErr),!0}}]}),a}};e.default=c},d12b:function(t,e,a){"use strict";a.r(e);var i=a("7e13"),n=a("dc39");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},d14f:function(t,e,a){"use strict";a.r(e);var i=a("79ad"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d1ec:function(t,e,a){"use strict";a.r(e);var i=a("70e9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d27d:function(t,e,a){"use strict";a.r(e);var i=a("a277"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d284:function(t,e,a){"use strict";a.r(e);var i=a("9160"),n=a("ec59");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},d29f:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-forms-item"),class:t._$s(0,"c",["is-direction-"+t.localLabelPos,t.border?"uni-forms-item--border":"",t.border&&t.isFirstBorder?"is-first-border":""]),attrs:{_i:0}},[t._t("label",[a("view",{staticClass:t._$s(2,"sc","uni-forms-item__label"),class:t._$s(2,"c",{"no-label":!t.label&&!t.required}),style:t._$s(2,"s",{width:t.localLabelWidth,justifyContent:t.localLabelAlign}),attrs:{_i:2}},[t._$s(3,"i",t.required)?a("text",{staticClass:t._$s(3,"sc","is-required"),attrs:{_i:3}}):t._e(),a("text",[t._v(t._$s(4,"t0-0",t._s(t.label)))])])],{_i:1}),a("view",{staticClass:t._$s(5,"sc","uni-forms-item__content"),attrs:{_i:5}},[t._t("default",null,{_i:6}),a("view",{staticClass:t._$s(7,"sc","uni-forms-item__error"),class:t._$s(7,"c",{"msg--active":t.msg}),attrs:{_i:7}},[a("text",[t._v(t._$s(8,"t0-0",t._s(t.msg)))])])],2)],2)},n=[]},d31b:function(t){t.exports=JSON.parse('{"name":"uni-admin \u57fa\u7840\u6846\u67b6\uff08\u539f\u540d uniCloud admin\uff09","id":"uni-template-admin","displayName":"uni-admin \u57fa\u7840\u6846\u67b6","version":"2.4.3","description":"\u57fa\u4e8euni-app & uniCloud\u7684\u540e\u53f0\u7ba1\u7406\u9879\u76ee\u6a21\u677f\uff08\u7ba1\u7406\u540e\u53f0\u5f00\u53d1\u5fc5\u5907\u795e\u5668\uff09","main":"main.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":"https://github.com/dcloudio/uni-admin.git","keywords":["admin","uniCloud","\u7ba1\u7406\u540e\u53f0","\u4e91\u540e\u53f0","uni-admin"],"engines":{"HBuilderX":"^3.6.0"},"author":"","license":"MIT","bugs":{"url":"https://github.com/dcloudio/uni-admin/issues"},"homepage":"https://github.com/dcloudio/uni-admin#readme","dcloudext":{"sale":{"regular":{"price":"0.00"},"sourcecode":{"price":"0.00"}},"contact":{"qq":""},"declaration":{"ads":"\u65e0","data":"\u65e0","permissions":"\u65e0"},"npmurl":"","type":"unicloud-template-project"},"uni_modules":{"dependencies":[],"encrypt":[],"platforms":{"cloud":{"tcb":"y","aliyun":"y","alipay":"y"},"client":{"App":{"app-vue":"y","app-nvue":"y"},"H5-mobile":{"Safari":"y","Android Browser":"y","\u5fae\u4fe1\u6d4f\u89c8\u5668(Android)":"y","QQ\u6d4f\u89c8\u5668(Android)":"y"},"H5-pc":{"Chrome":"y","IE":"n","Edge":"y","Firefox":"y","Safari":"y"},"\u5c0f\u7a0b\u5e8f":{"\u5fae\u4fe1":"y","\u963f\u91cc":"y","\u767e\u5ea6":"y","\u5b57\u8282\u8df3\u52a8":"y","QQ":"y","\u4eac\u4e1c":"u"},"\u5feb\u5e94\u7528":{"\u534e\u4e3a":"u","\u8054\u76df":"u"},"Vue":{"vue2":"y","vue3":"y"}}}}}')},d34c:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,uniStatPanel:a("a161").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}}),a("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),a("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),a("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[a("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),a("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),a("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:21}})],1)],1),a("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),a("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),a("fix-window",{attrs:{_i:26}})],1)},r=[]},d34f:function(t,e,a){"use strict";a.r(e);var i=a("a2b0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d398:function(t,e,a){"use strict";a.r(e);var i=a("6d12"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d3ac:function(t,e,a){"use strict";a.r(e);var i=a("9ba2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d42d:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{directives:[{name:"show",rawName:"v-show",value:this._$s(0,"v-show",this.matches),expression:"_$s(0,'v-show',matches)"}],attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},d435:function(t,e,a){"use strict";a.r(e);var i=a("5f40"),n=a("7783");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},d6dd:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("b452"),r={data:function(){return{formData:{mobile:"",code:"",captcha:""},focusMobile:!0,logo:"/static/logo.png"}},computed:{tipText:function(){return"\u9a8c\u8bc1\u7801\u5df2\u901a\u8fc7\u77ed\u4fe1\u53d1\u9001\u81f3 ".concat(this.formData.mobile,"\u3002\u5bc6\u7801\u4e3a6 - 20\u4f4d")}},onLoad:function(t){},onReady:function(){},methods:{submit:function(){var e=this;if(!/^1\d{10}$/.test(this.formData.mobile))return this.focusMobile=!0,uni.showToast({title:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3});if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsForm.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3});var a=t.importObject("uni-id-co");a.bindMobileBySms(this.formData).then((function(t){uni.showToast({title:t.errMsg,icon:"none",duration:3e3});e.getOpenerEventChannel();n.mutations.setUserInfo(e.formData),uni.navigateBack()})).catch((function(t){"uni-id-captcha-required"==t.errCode&&e.$refs.popup.open()})).finally((function(t){e.formData.captcha=""}))}}};e.default=r}).call(this,a("a9ff")["default"],a("0de9")["default"])},d6ea:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-item"),attrs:{_i:0}},[a("view",{class:t._$s(1,"c",{"uni-breadcrumb-item--slot":!0,"uni-breadcrumb-item--slot-link":t.to&&t.currentPage!==t.to}),attrs:{_i:1},on:{click:t.navTo}},[t._t("default",null,{_i:2})],2),t._$s(3,"i",t.separatorClass)?a("i",{staticClass:t._$s(3,"sc","uni-breadcrumb-item--separator"),class:t._$s(3,"c",t.separatorClass),attrs:{_i:3}}):a("text",{staticClass:t._$s(4,"sc","uni-breadcrumb-item--separator"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.separator)))])])},n=[]},d725:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=i},d7c1:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("d8d9"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_device",fields:[{_id:"new_device",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_device",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[],errorMessage:""}},computed:{fieldsMap:function(){var t="active_device"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,s.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(a){a._id===t.field&&(e=a.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){return[1,2,3,4,5,6,7,14,30].map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,a){var i=this;e&&(t=t.filter((function(t){return t.field===e}))),a&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(a)})));var n=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(i.field,".").concat(t.field,".device_count as ").concat("temp_"+t.field)})).join();return n},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"device_count",e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,n=e||[1,2,3,4,5,6,7,14,30],r="d",s=this.fields.map((function(t){return t._id}));a=a||s;var o=n.map((function(e){return a.map((function(a){return"retention.".concat(a,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));i&&o.push(i);var u=o.join();return u},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.key,this.keyName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);this.createStr("device_count",[i],[this.field]);var n=t.database();n.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(i)),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap,"d_".concat(i))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,n=t.result,s=(n.count,n.data),u={categories:[],series:[{name:"".concat(i,"\u5929\u540e").concat(a.fieldName),data:[]}]},c=o(s);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=(0,r.formatDate)(l.start_time,"day"),f=l["d_".concat(i)];u.series[0].data.push(f),u.categories.push(d)}}catch(p){c.e(p)}finally{c.f()}a.chartData=u})).catch((function(t){})).finally((function(){a.loading=!1}))},getTabelData:function(e){var a=this,i=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.field+"_count";this.createStr("user_rate","",[this.field],n);this.loading=!0;var s=t.database();s.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,n=i.count,s=i.data,u=o(s);try{for(u.s();!(e=u.n()).done;){var c=e.value;(0,r.mapfields)(a.fieldsMap,c,c)}}catch(l){u.e(l)}finally{u.f()}a.options.total=n,a.tableData=[],a.tableData=s})).catch((function(t){})).finally((function(){a.loading=!1}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},d8a9:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9009\u62e9\u65e5\u671f","uni-datetime-picker.selectTime":"\u9009\u62e9\u65f6\u95f4","uni-datetime-picker.selectDateTime":"\u9009\u62e9\u65e5\u671f\u65f6\u95f4","uni-datetime-picker.startDate":"\u5f00\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7ed3\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u5f00\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7ed3\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u786e\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u786e\u8ba4"}')},d8d9:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a"));var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",stat:0}],a=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=a).push.apply(t,(0,n.default)(e));var i=[1,2,3,4,5,6,7,14,30],r=i.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return a=a.concat(r),a};e.default=r},d949:function(t,e,a){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.chooseAndUploadFile=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};if("image"===t.type)return u(n(t),t);if("video"===t.type)return u(r(t),t);return u(s(t),t)},e.uploadCloudFiles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2?arguments[2]:void 0;t=JSON.parse(JSON.stringify(t));var n=t.length,r=0,s=this;return new Promise((function(o){while(r<e)u();function u(){var e=r++;if(e>=n)!t.find((function(t){return!t.url&&!t.errMsg}))&&o(t);else{var c=t[e],l=s.files.findIndex((function(t){return t.uuid===c.uuid}));c.url="",delete c.errMsg,a.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,onUploadProgress:function(t){t.index=l,i&&i(t)}}).then((function(t){c.url=t.fileID,c.index=l,e<n&&u()})).catch((function(t){c.errMsg=t.errMsg||t.message,c.index=l,e<n&&u()}))}}}))};var i="chooseAndUploadFile:fail";function n(t){var e=t.count,a=t.sizeType,n=void 0===a?["original","compressed"]:a,r=t.sourceType,s=t.extension;return new Promise((function(t,a){uni.chooseImage({count:e,sizeType:n,sourceType:r,extension:s,success:function(e){t(o(e,"image"))},fail:function(t){a({errMsg:t.errMsg.replace("chooseImage:fail",i)})}})}))}function r(t){var e=t.camera,a=t.compressed,n=t.maxDuration,r=t.sourceType,s=t.extension;return new Promise((function(t,u){uni.chooseVideo({camera:e,compressed:a,maxDuration:n,sourceType:r,extension:s,success:function(e){var a=e.tempFilePath,i=e.duration,n=e.size,r=e.height,s=e.width;t(o({errMsg:"chooseVideo:ok",tempFilePaths:[a],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:a,size:n,type:e.tempFile&&e.tempFile.type||"",width:s,height:r,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){u({errMsg:t.errMsg.replace("chooseVideo:fail",i)})}})}))}function s(e){var a=e.count,n=e.extension;return new Promise((function(e,r){var s=uni.chooseFile;if("undefined"!==typeof t&&"function"===typeof t.chooseMessageFile&&(s=t.chooseMessageFile),"function"!==typeof s)return r({errMsg:i+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});s({type:"all",count:a,extension:n,success:function(t){e(o(t))},fail:function(t){r({errMsg:t.errMsg.replace("chooseFile:fail",i)})}})}))}function o(t,e){return t.tempFiles.forEach((function(t,a){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+a+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function u(t,e){var a=e.onChooseFile;e.onUploadProgress;return t.then((function(t){if(a){var e=a(t);if("undefined"!==typeof e)return Promise.resolve(e).then((function(e){return"undefined"===typeof e?t:e}))}return t})).then((function(t){return!1===t?{errMsg:"chooseAndUploadFile:ok",tempFilePaths:[],tempFiles:[]}:t}))}}).call(this,a("fe07")["default"],a("a9ff")["default"])},d95c:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-table"),attrs:{_i:0}},[a("uni-table",{attrs:{border:!0,stripe:!0,_i:1}},[a("uni-tr",{attrs:{_i:2}},[a("uni-th",{attrs:{align:"center",_i:3}},[t._v("")]),a("uni-th",{attrs:{width:"100",align:"center",_i:4}},[t._v("")]),a("uni-th",{attrs:{width:"100",align:"center",_i:5}},[t._v("")]),a("uni-th",{attrs:{width:"100",align:"center",_i:6}},[t._v("")])],1),t._l(t._$s(7,"f",{forItems:t.logs}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(7,"f",{forIndex:n,key:i}),attrs:{_i:"7-"+r}},[a("uni-td",{attrs:{_i:"8-"+r}},[a("text",{staticClass:t._$s("9-"+r,"sc","err-msg"),attrs:{_i:"9-"+r}},[t._v(t._$s("9-"+r,"t0-0",t._s(e.info))+t._$s("9-"+r,"t0-1",t._s(e.err)))])]),a("uni-td",{attrs:{_i:"10-"+r}},[a("navigator",{staticClass:t._$s("11-"+r,"sc","err-route"),attrs:{url:t._$s("11-"+r,"a-url",e.route),_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(e.route)))])]),a("uni-td",{attrs:{_i:"12-"+r}},[a("text",[t._v(t._$s("13-"+r,"t0-0",t._s(e.time)))])]),a("uni-td",{attrs:{_i:"14-"+r}})],1)}))],2)],1)},r=[]},da1b:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("278c")),r=i(a("9523")),s=a("7c5a"),o=a("9585"),u=a("5a41");function c(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=[{title:"\u5d29\u6e83\u603b\u6570",field:"count",value:0,formatter:",",tooltip:"\u6307\u539f\u751f\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u5d29\u6e83\u7684\u603b\u6570"},{title:"\u5d29\u6e83\u7387",field:"count/app_launch_count",computed:"count/app_launch_count",formatter:"%",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u5d29\u6e83\u6570/\u539f\u751f\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],h=t.database(),m=[],_={ascending:"asc",descending:"desc"},g={data:function(){var t;return{fieldsMap:o.fieldsMap,query:{type:"crash",dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(p)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u5d29\u6e83\u6b21\u6570"},{_id:"errorRate",name:"\u5d29\u6e83\u7387"}],collectionList:"uni-stat-app-crash-logs",schemaQuery:"",where:this.tableData,orderby:"create_time desc",orderByFieldName:"",selectedIndexs:[],options:f((t={pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100],pageSize:20},(0,r.default)(t,"pageCurrent",1),(0,r.default)(t,"filterData",{}),t),u.enumConverter),errorMessage:"",exportExcel:{filename:"uni-stat-app-crash-logs.xls",type:"xls",fields:{appid:"appid",version:"version",platform:"platform",channel:"channel",sdk_version:"sdk_version",device_id:"device_id",device_net:"device_net",device_os:"device_os",device_os_version:"device_os_version",device_vendor:"device_vendor",device_model:"device_model",device_is_root:"device_is_root",device_os_name:"device_os_name",device_batt_level:"device_batt_level",device_batt_temp:"device_batt_temp",device_memory_use_size:"device_memory_use_size",device_memory_total_size:"device_memory_total_size",device_disk_use_size:"device_disk_use_size",device_disk_total_size:"device_disk_total_size",device_abis:"device_abis",app_count:"app_count",app_use_memory_size:"app_use_memory_size",app_webview_count:"app_webview_count",app_use_duration:"app_use_duration",app_run_fore:"app_run_fore",package_name:"package_name",package_version:"package_version",page_url:"page_url",error_msg:"error_msg",create_time:"create_time"}},exportExcelData:[]}},computed:{queryStr:function(){return(0,s.stringifyQuery)(this.query)},tableQuery:function(){var t=this.query,e=t.appid,a=t.platform_id,i=t.version_id,n=t.start_time,r=this.getPlatform(a),o=this.getVersion(i),u=(0,s.stringifyQuery)({appid:e,create_time:n,platform:r,version:o});return u},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,s.stringifyQuery)({appid:e,uni_platform:a,type:"native_app"});return i}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.queryStr),t.where=t.tableQuery,t.$nextTick((function(){t.$refs.udb&&t.$refs.udb.loadData()}),200)}),300),this.debounceGet()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},chartTab:function(t){this.getChartData(this.queryStr)}},onLoad:function(){this._filter={}},methods:{onqueryload:function(t){this.exportExcelData=t,this.tableData=t},getWhere:function(){var t=this.schemaQuery.trim();if(!t)return"";var e=new RegExp(t,"i");return m.map((function(t){return e+".test("+t+")"})).join(" || ")},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+_[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,u.filterToWhere)(this._filter,h.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))},useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,s.getTimeOfSomeDayAgo)(t),i=(0,s.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},getPlatform:function(t){var e=uni.getStorageSync("uni-admin-statTabsData"),a=e["platform-channel"],i=Array.isArray(a)&&a.find((function(e){return e._id===t}));return i&&i.code||""},getVersion:function(t){var e=[];this.$refs["app-versions"]&&"function"===typeof this.$refs["app-versions"].getLoadData&&(e=this.$refs["app-versions"].getLoadData());var a=Array.isArray(e)&&e.find((function(e){return e._id===t}));return a&&a.text||""},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(t),this.getChartData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getPanelData:function(e){var a=this,i=(0,s.stringifyQuery)(this.query,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-error-result").where(i).field("count as temp_count, app_launch_count as temp_app_launch_count, appid").groupBy("appid").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data,t.result.data[0]||{count:0,app_launch_count:0}),n=Object.assign({},a.query);delete n.type,a.getTotalLaunch((0,s.stringifyQuery)(n,!1,["uni_platform"])).then((function(t){var e=t.result.data[0];if(i){var n=e&&e.total_app_launch_count;i.app_launch_count=n,a.panelData=(0,s.mapfields)(p,i)}}))}))},getTotalLaunch:function(e){var a=t.database();return a.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getChartData:function(e){var a=this,i=(0,s.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var r=t.database(),o=(0,n.default)(this.query.start_time,2),u=o[0],l=o[1],d=(0,s.getAllDateCN)(new Date(u),new Date(l));r.collection("uni-stat-error-result").where(i).field("count as temp_count, app_launch_count as temp_app_launch_count, start_time").groupBy("start_time").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),n=[];d.forEach((function(t){var e=i.find((function(e){return e.start_time===t}));e?n.push(e):n.push({app_launch_count:0,count:0,start_time:t})}));var r={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]};if("errorCount"===a.chartTab){var o,u=r.series[0]={name:"\u5d29\u6e83\u6b21\u6570",data:[]},l=r.categories,f=c(n);try{for(f.s();!(o=f.n()).done;){var p=o.value,h=p.start_time,m=(0,s.formatDate)(h,"day"),_=p.count;l.push(m),u.data.push(_)}}catch(S){f.e(S)}finally{f.f()}a.chartData=r}else{var g,v=r.series[0]={name:"\u5d29\u6e83\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},y=r.categories,b=c(n);try{for(b.s();!(g=b.n()).done;){var x=g.value,w=x.count,C=x.app_launch_count,$=x.start_time,k=(0,s.formatDate)($,"day");y.push(k);var D=w/C;D=D?D.toFixed(2):0,v.data.push(D)}}catch(S){b.e(S)}finally{b.f()}a.chartData=r}})).finally((function(){}))}}};e.default=g}).call(this,a("a9ff")["default"])},da29:function(t,e,a){"use strict";a.r(e);var i=a("a813"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},db3d:function(t,e,a){"use strict";a.r(e);var i=a("02e8"),n=a("ac80");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},db85:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=i(a("c63b")),s=i(a("1f5c"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=t.database();c.command;function l(t){var e={};for(var a in r.default)t.includes(a)&&(e[a]=r.default[a]);return e}var d={components:{Icons:s.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:"",parent_id:"",permission:[],enable:null},rules:u({},l(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e)},methods:{submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,a=t.detail,i=a.value,n=a.errors;n||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),c.collection("opendb-admin-menus").doc(this.formDataId).update(i).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),c.collection("opendb-admin-menus").where({_id:t}).get().then((function(t){var a=t.result.data[0];a&&(e.formData=a)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=d}).call(this,a("a9ff")["default"])},dbef:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.text)?a("text",{staticClass:t._$s(0,"sc","uni-tag"),class:t._$s(0,"c",t.classes),style:t._$s(0,"s",t.customStyle),attrs:{_i:0},on:{click:t.onClick}},[t._v(t._$s(0,"t0-0",t._s(t.text)))]):t._e()},n=[]},dc03:function(t,e,a){"use strict";a.r(e);var i=a("afa4"),n=a("3a9e");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},dc39:function(t,e,a){"use strict";a.r(e);var i=a("445c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},dcbe:function(t,e,a){"use strict";a.r(e);var i=a("ef19"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dd5c:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=function(t,e){if(!e)return;return clearTimeout(e.timer),new c(t,e)};var n=i(a("9523")),r=i(a("970b")),s=i(a("5bc3"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=function(){function t(e,a){(0,r.default)(this,t),this.options=e,this.animation=uni.createAnimation(u({},e)),this.currentStepAnimates={},this.next=0,this.$=a}return(0,s.default)(t,[{key:"_nvuePushAnimates",value:function(t,e){var a=this.currentStepAnimates[this.next],i={};if(i=a||{styles:{},config:{}},l.includes(t)){i.styles.transform||(i.styles.transform="");var n="";"rotate"===t&&(n="deg"),i.styles.transform+="".concat(t,"(").concat(e+n,") ")}else i.styles[t]="".concat(e);this.currentStepAnimates[this.next]=i}},{key:"_animateRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.$.$refs["ani"].ref;if(a)return new Promise((function(i,n){nvueAnimation.transition(a,u({styles:t},e),(function(t){i()}))}))}},{key:"_nvueNextAnimate",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=t[a];if(n){var r=n.styles,s=n.config;this._animateRun(r,s).then((function(){a+=1,e._nvueNextAnimate(t,a,i)}))}else this.currentStepAnimates={},"function"===typeof i&&i(),this.isEnd=!0}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(t),this}},{key:"run",value:function(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof t&&t()}),this.$.durationTime)}}]),t}(),l=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];l.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((function(t){c.prototype[t]=function(){var e;return(e=this.animation)[t].apply(e,arguments),this}}))},ddea:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-table-tr"),attrs:{_i:0}},[t._$s(1,"i","selection"===t.selection)?a("view",{staticClass:t._$s(1,"sc","checkbox"),class:t._$s(1,"c",{"tr-table--border":t.border}),attrs:{_i:1}},[a("table-checkbox",{attrs:{checked:t.checked,indeterminate:t.indeterminate,disabled:t.disabled,_i:2},on:{checkboxSelected:t.checkboxSelected}})],1):t._e(),t._t("default",null,{_i:3})],2)},n=[]},df0e:function(t,e,a){"use strict";a.r(e);var i=a("6558"),n=a("892b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},df7c:function(t,e,a){(function(t){function a(t,e){for(var a=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),a++):a&&(t.splice(i,1),a--)}if(e)for(;a--;a)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var a=[],i=0;i<t.length;i++)e(t[i],i,t)&&a.push(t[i]);return a}e.resolve=function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=a(i(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===n(t,-1);return t=a(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,a){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var a=t.length-1;a>=0;a--)if(""!==t[a])break;return e>a?[]:t.slice(e,a-e+1)}t=e.resolve(t).substr(1),a=e.resolve(a).substr(1);for(var n=i(t.split("/")),r=i(a.split("/")),s=Math.min(n.length,r.length),o=s,u=0;u<s;u++)if(n[u]!==r[u]){o=u;break}var c=[];for(u=o;u<n.length;u++)c.push("..");return c=c.concat(r.slice(o)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),a=47===e,i=-1,n=!0,r=t.length-1;r>=1;--r)if(e=t.charCodeAt(r),47===e){if(!n){i=r;break}}else n=!1;return-1===i?a?"/":".":a&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var a=function(t){"string"!==typeof t&&(t+="");var e,a=0,i=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){a=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(a,i)}(t);return e&&a.substr(-1*e.length)===e&&(a=a.substr(0,a.length-e.length)),a},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,a=0,i=-1,n=!0,r=0,s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===i&&(n=!1,i=s+1),46===o?-1===e?e=s:1!==r&&(r=1):-1!==e&&(r=-1);else if(!n){a=s+1;break}}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===a+1?"":t.slice(e,i)};var n="b"==="ab".substr(-1)?function(t,e,a){return t.substr(e,a)}:function(t,e,a){return e<0&&(e=t.length+e),t.substr(e,a)}}).call(this,a("4362"))},e091:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-calendar"),attrs:{_i:0},on:{mouseleave:t.leaveCale}},[t._$s(1,"i",!t.insert&&t.show)?a("view",{staticClass:t._$s(1,"sc","uni-calendar__mask"),class:t._$s(1,"c",{"uni-calendar--mask-show":t.aniMaskShow}),attrs:{_i:1},on:{click:t.maskClick}}):t._e(),t._$s(2,"i",t.insert||t.show)?a("view",{staticClass:t._$s(2,"sc","uni-calendar__content"),class:t._$s(2,"c",{"uni-calendar--fixed":!t.insert,"uni-calendar--ani-show":t.aniMaskShow,"uni-calendar__content-mobile":t.aniMaskShow}),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-calendar__header"),class:t._$s(3,"c",{"uni-calendar__header-mobile":!t.insert}),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-calendar__header-btn-box"),attrs:{_i:4},on:{click:function(e){return e.stopPropagation(),t.changeMonth("pre")}}},[a("view",{staticClass:t._$s(5,"sc","uni-calendar__header-btn uni-calendar--left"),attrs:{_i:5}})]),a("picker",{attrs:{value:t._$s(6,"a-value",t.date),_i:6},on:{change:t.bindDateChange}},[a("text",{staticClass:t._$s(7,"sc","uni-calendar__header-text"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s((t.nowDate.year||"")+t.yearText+(t.nowDate.month||"")+t.monthText)))])]),a("view",{staticClass:t._$s(8,"sc","uni-calendar__header-btn-box"),attrs:{_i:8},on:{click:function(e){return e.stopPropagation(),t.changeMonth("next")}}},[a("view",{staticClass:t._$s(9,"sc","uni-calendar__header-btn uni-calendar--right"),attrs:{_i:9}})]),t._$s(10,"i",!t.insert)?a("view",{staticClass:t._$s(10,"sc","dialog-close"),attrs:{_i:10},on:{click:t.close}},[a("view",{staticClass:t._$s(11,"sc","dialog-close-plus"),attrs:{_i:11}}),a("view",{staticClass:t._$s(12,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:12}})]):t._e()]),a("view",{staticClass:t._$s(13,"sc","uni-calendar__box"),attrs:{_i:13}},[t._$s(14,"i",t.showMonth)?a("view",{staticClass:t._$s(14,"sc","uni-calendar__box-bg"),attrs:{_i:14}},[a("text",{staticClass:t._$s(15,"sc","uni-calendar__box-bg-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.nowDate.month)))])]):t._e(),a("view",{staticClass:t._$s(16,"sc","uni-calendar__weeks"),attrs:{_i:16}},[a("view",{staticClass:t._$s(17,"sc","uni-calendar__weeks-day"),attrs:{_i:17}},[a("text",{staticClass:t._$s(18,"sc","uni-calendar__weeks-day-text"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.SUNText)))])]),a("view",{staticClass:t._$s(19,"sc","uni-calendar__weeks-day"),attrs:{_i:19}},[a("text",{staticClass:t._$s(20,"sc","uni-calendar__weeks-day-text"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.MONText)))])]),a("view",{staticClass:t._$s(21,"sc","uni-calendar__weeks-day"),attrs:{_i:21}},[a("text",{staticClass:t._$s(22,"sc","uni-calendar__weeks-day-text"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.TUEText)))])]),a("view",{staticClass:t._$s(23,"sc","uni-calendar__weeks-day"),attrs:{_i:23}},[a("text",{staticClass:t._$s(24,"sc","uni-calendar__weeks-day-text"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.WEDText)))])]),a("view",{staticClass:t._$s(25,"sc","uni-calendar__weeks-day"),attrs:{_i:25}},[a("text",{staticClass:t._$s(26,"sc","uni-calendar__weeks-day-text"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.THUText)))])]),a("view",{staticClass:t._$s(27,"sc","uni-calendar__weeks-day"),attrs:{_i:27}},[a("text",{staticClass:t._$s(28,"sc","uni-calendar__weeks-day-text"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.FRIText)))])]),a("view",{staticClass:t._$s(29,"sc","uni-calendar__weeks-day"),attrs:{_i:29}},[a("text",{staticClass:t._$s(30,"sc","uni-calendar__weeks-day-text"),attrs:{_i:30}},[t._v(t._$s(30,"t0-0",t._s(t.SATText)))])])]),t._l(t._$s(31,"f",{forItems:t.weeks}),(function(e,i,n,r){return a("view",{key:t._$s(31,"f",{forIndex:n,key:i}),staticClass:t._$s("31-"+r,"sc","uni-calendar__weeks"),attrs:{_i:"31-"+r}},t._l(t._$s("32-"+r,"f",{forItems:e}),(function(e,i,n,s){return a("view",{key:t._$s("32-"+r,"f",{forIndex:n,key:i}),staticClass:t._$s("32-"+r+"-"+s,"sc","uni-calendar__weeks-item"),attrs:{_i:"32-"+r+"-"+s}},[a("calendar-item",{staticClass:t._$s("33-"+r+"-"+s,"sc","uni-calendar-item--hook"),attrs:{weeks:e,calendar:t.calendar,selected:t.selected,checkHover:t.range,_i:"33-"+r+"-"+s},on:{change:t.choiceDate,handleMouse:t.handleMouse}})],1)})),0)}))],2),t._$s(34,"i",!t.insert&&!t.range&&t.hasTime)?a("view",{staticClass:t._$s(34,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:34}},[a("view",{staticClass:t._$s(35,"sc","uni-date-changed--time-date"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.tempSingleDate?t.tempSingleDate:t.selectDateText)))]),a("time-picker",{staticClass:t._$s(36,"sc","time-picker-style"),attrs:{type:"time",start:t.timepickerStartTime,end:t.timepickerEndTime,disabled:!t.tempSingleDate,border:!1,"hide-second":t.hideSecond,_i:36},model:{value:t._$s(36,"v-model",t.time),callback:function(e){t.time=e},expression:"time"}})],1):t._e(),t._$s(37,"i",!t.insert&&t.range&&t.hasTime)?a("view",{staticClass:t._$s(37,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:37}},[a("view",{staticClass:t._$s(38,"sc","uni-date-changed--time-start"),attrs:{_i:38}},[a("view",{staticClass:t._$s(39,"sc","uni-date-changed--time-date"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.tempRange.before?t.tempRange.before:t.startDateText)))]),a("time-picker",{staticClass:t._$s(40,"sc","time-picker-style"),attrs:{type:"time",start:t.timepickerStartTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.before,_i:40},model:{value:t._$s(40,"v-model",t.timeRange.startTime),callback:function(e){t.$set(t.timeRange,"startTime",e)},expression:"timeRange.startTime"}})],1),a("view",[a("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:42}})],1),a("view",{staticClass:t._$s(43,"sc","uni-date-changed--time-end"),attrs:{_i:43}},[a("view",{staticClass:t._$s(44,"sc","uni-date-changed--time-date"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.tempRange.after?t.tempRange.after:t.endDateText)))]),a("time-picker",{staticClass:t._$s(45,"sc","time-picker-style"),attrs:{type:"time",end:t.timepickerEndTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.after,_i:45},model:{value:t._$s(45,"v-model",t.timeRange.endTime),callback:function(e){t.$set(t.timeRange,"endTime",e)},expression:"timeRange.endTime"}})],1)]):t._e(),t._$s(46,"i",!t.insert)?a("view",{staticClass:t._$s(46,"sc","uni-date-changed uni-date-btn--ok"),attrs:{_i:46}},[a("view",{staticClass:t._$s(47,"sc","uni-datetime-picker--btn"),attrs:{_i:47},on:{click:t.confirm}},[t._v(t._$s(47,"t0-0",t._s(t.confirmText)))])]):t._e()]):t._e()])},r=[]},e0e4:function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},e13e:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"\u5df2\u81ea\u52a8\u590d\u5236\u7f51\u5740\uff0c\u8bf7\u5728\u624b\u673a\u6d4f\u89c8\u5668\u91cc\u7c98\u8d34\u8be5\u7f51\u5740"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){this.isTel()?this.makePhoneCall(this.href.replace("tel:","")):plus.runtime.openURL(this.href)},makePhoneCall:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=i},e1b3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{uploadTasks:{type:Array,default:function(){return[]}},showProgress:{type:Boolean,default:!0}}};e.default=i},e23a:function(t,e,a){"use strict";a.r(e);var i=a("d6ea"),n=a("be8f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e2e5:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniNoticeBar:a("6e1e").default,uniStatTabs:a("4b14").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[t._$s(6,"i",t.showdbInit)?a("uni-notice-bar",{staticClass:t._$s(6,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u68c0\u6d4b\u5230\u60a8\u672a\u521d\u59cb\u5316db_init.json\uff0c\u8bf7\u5148\u53f3\u952euniCloud/database/db_init.json\u6587\u4ef6\uff0c\u6267\u884c\u521d\u59cb\u5316\u4e91\u6570\u636e\u5e93\uff0c\u5426\u5219\u5de6\u4fa7\u65e0\u6cd5\u663e\u793a\u83dc\u5355\u7b49\u6570\u636e","background-color":"#fef0f0",color:"#f56c6c",_i:6},on:{click:t.toAddAppId}}):t._e(),t._$s(7,"i",t.showAddAppId)?a("uni-notice-bar",{staticClass:t._$s(7,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u68c0\u6d4b\u5230\u60a8\u8fd8\u672a\u6dfb\u52a0\u5e94\u7528\uff0c\u70b9\u51fb\u524d\u5f80\u5e94\u7528\u7ba1\u7406\u6dfb\u52a0",_i:7},on:{click:t.toAddAppId}}):t._e(),t._$s(8,"i",!t.deviceTableData.length&&!t.userTableData.length&&!t.query.platform_id&&t.complete)?a("uni-notice-bar",{staticClass:t._$s(8,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u6682\u65e0\u6570\u636e, \u7edf\u8ba1\u76f8\u5173\u529f\u80fd\u9700\u5f00\u901a uni \u7edf\u8ba1\u540e\u624d\u80fd\u4f7f\u7528, \u5982\u672a\u5f00\u901a, \u70b9\u51fb\u67e5\u770b\u5177\u4f53\u6d41\u7a0b",_i:8},on:{click:function(e){return t.navTo("https://uniapp.dcloud.io/uni-stat-v2.html")}}}):t._e(),a("view",{staticClass:t._$s(9,"sc","uni-stat--x mb-m"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:10},model:{value:t._$s(10,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),a("view",{staticClass:t._$s(11,"sc","uni-stat--x p-m"),attrs:{_i:11}},[a("view",{staticClass:t._$s(12,"sc","uni-stat-card-header"),attrs:{_i:12}}),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:13}},[a("uni-tr",{attrs:{_i:14}},[t._l(t._$s(15,"f",{forItems:t.deviceTableFields}),(function(e,i,n,r){return[t._$s("16-"+r,"i",e.title)?a("uni-th",{key:t._$s(15,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"16-"+r}},[t._v(t._$s("16-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(17,"f",{forItems:t.deviceTableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(17,"f",{forIndex:n,key:i}),attrs:{_i:"17-"+r}},[t._l(t._$s("18-"+r,"f",{forItems:t.deviceTableFields}),(function(i,n,s,o){return[t._$s("19-"+r+"-"+o,"i","appid"===i.field)?a("uni-td",{key:t._$s("18-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_0"}),attrs:{align:"center",_i:"19-"+r+"-"+o}},[t._$s("20-"+r+"-"+o,"i",e.appid)?a("view",{staticClass:t._$s("20-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"20-"+r+"-"+o},on:{click:function(a){return t.navTo("/pages/uni-stat/device/overview/overview",e.appid)}}},[t._v(t._$s("20-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):a("view",{staticClass:t._$s("21-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"21-"+r+"-"+o},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):a("uni-td",{key:t._$s("18-"+r,"f",{forIndex:s,keyIndex:-1,key:n}),attrs:{align:"center",_i:"22-"+r+"-"+o}},[t._v(t._$s("22-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2)],1),a("view",{staticClass:t._$s(23,"sc","uni-stat--x p-m"),attrs:{_i:23}},[a("view",{staticClass:t._$s(24,"sc","uni-stat-card-header"),attrs:{_i:24}}),a("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:25}},[a("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.userTableFields}),(function(e,i,n,r){return[t._$s("28-"+r,"i",e.title)?a("uni-th",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.userTableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(29,"f",{forIndex:n,key:i}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.userTableFields}),(function(i,n,s,o){return[t._$s("31-"+r+"-"+o,"i","appid"===i.field)?a("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_0"}),attrs:{align:"center",_i:"31-"+r+"-"+o}},[t._$s("32-"+r+"-"+o,"i",e.appid)?a("view",{staticClass:t._$s("32-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"32-"+r+"-"+o},on:{click:function(a){return t.navTo("/pages/uni-stat/user/overview/overview",e.appid)}}},[t._v(t._$s("32-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):a("view",{staticClass:t._$s("33-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"33-"+r+"-"+o},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):a("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:-1,key:n}),attrs:{align:"center",_i:"34-"+r+"-"+o}},[t._v(t._$s("34-"+r+"-"+o,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2)],1)],1),a("fix-window",{attrs:{_i:35}})],1)},r=[]},e302:function(t,e,a){"use strict";a.r(e);var i=a("d725"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},e328:function(t,e,a){"use strict";a.r(e);var i=a("96f6"),n=a("738b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e38c:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default,uniDataCheckbox:a("86d4").default,showInfo:a("0e79").default,uniFilePicker:a("9c74").default,uniCard:a("aeaf").default,uniDateformat:a("6482").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])]),t._$s(5,"i",!t.isStable)?a("view",{staticClass:t._$s(5,"sc","uni-group"),attrs:{_i:5}},[a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:t.deletePackage}})]):t._e()]),a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:7}},[a("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:8}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:10}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:11},model:{value:t._$s(11,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:12}},[a("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u66f4\u65b0\u6807\u9898",_i:13},model:{value:t._$s(13,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:14}},[a("textarea",{staticClass:t._$s(15,"sc","uni-textarea-border"),attrs:{disabled:t._$s(15,"a-disabled",t.detailsState),value:t._$s(15,"a-value",t.formData.contents),_i:15},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),a("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:16}},[a("uni-data-checkbox",{attrs:{disabled:!0,multiple:!0,localdata:t.platformLocaldata,_i:17},model:{value:t._$s(17,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),a("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:18}},[a("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\u53f7",_i:19},model:{value:t._$s(19,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(20,"i",t.isWGT)?a("uni-forms-item",{key:"min_uni_version",attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:20}},[a("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:21},model:{value:t._$s(21,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),a("show-info",{attrs:{content:t.minUniVersionContent,_i:22}})],1):t._e(),t._$s(23,"i",!t.detailsState)?a("uni-forms-item",{attrs:{label:"\u5b58\u50a8\u9009\u62e9",_i:23}},[a("view",{staticClass:t._$s(24,"sc","flex"),attrs:{_i:24}},[a("radio-group",{attrs:{_i:25},on:{change:function(e){return t.uniFilePickerProvider=e.detail.value}}},[a("view",{staticClass:t._$s(26,"sc","flex"),attrs:{_i:26}},[a("label",[a("radio",{attrs:{checked:t._$s(28,"a-checked","unicloud"===t.uniFilePickerProvider),_i:28}}),a("text")]),a("label",[a("radio",{attrs:{checked:t._$s(31,"a-checked","extStorage"===t.uniFilePickerProvider),_i:31}}),a("text")])])]),a("text",{staticClass:t._$s(33,"sc","uni-sub-title"),attrs:{_i:33}}),a("text",{staticClass:t._$s(34,"sc","uni-sub-title"),attrs:{_i:34}}),a("text",{staticClass:t._$s(35,"sc","uni-sub-title"),attrs:{_i:35},on:{click:function(e){return t.toUrl("https://doc.dcloud.net.cn/uniCloud/ext-storage/service.html")}}})])]):t._e(),t._$s(36,"i","extStorage"===t.uniFilePickerProvider&&!t.detailsState)?a("uni-forms-item",{attrs:{label:"\u81ea\u5b9a\u4e49\u57df\u540d",_i:36}},[a("view",{staticClass:t._$s(37,"sc","flex"),attrs:{_i:37}},[a("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u6269\u5c55\u5b58\u50a8\u81ea\u5b9a\u4e49\u57df\u540d",maxlength:-1,_i:38},model:{value:t._$s(38,"v-model",t.domain),callback:function(e){t.domain=e},expression:"domain"}}),a("text",{staticClass:t._$s(39,"sc","uni-sub-title"),attrs:{_i:39}})],1)]):t._e(),t._$s(40,"i",!t.isiOS&&!t.detailsState)?a("uni-forms-item",{attrs:{label:"\u4e0a\u4f20"+t.fileExtname[0]+"\u5305",_i:40}},[a("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",provider:t.uniFilePickerProvider,_i:41},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(41,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[a("view",{staticClass:t._$s(42,"sc","flex"),attrs:{_i:42}},[a("button",{attrs:{_i:43},on:{click:t.selectFile}})])]),t._$s(44,"i",t.hasPackage)?a("text",[t._v(t._$s(44,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),a("uni-forms-item",{key:"url",attrs:{name:"url",label:t.isiOS?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",required:!0,_i:45}},[a("view",{staticClass:t._$s(46,"sc","flex"),attrs:{_i:46}},[a("view",{staticClass:t._$s(47,"sc","flex"),attrs:{_i:47}},[a("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u4e0b\u8f7d\u94fe\u63a5",maxlength:-1,_i:48},model:{value:t._$s(48,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}}),t._$s(49,"i",t.formData.url)?a("text",{attrs:{_i:49},on:{click:function(e){return t.toUrl(t.formData.url)}}}):t._e()],1),t._$s(50,"i",t.formData.url&&!t.detailsState)?a("text"):t._e()])]),t._$s(51,"i",!t.isiOS&&!t.isWGT&&t.formData.store_list.length)?a("uni-forms-item",{key:"store_list",attrs:{label:"Android\u5e94\u7528\u5e02\u573a",name:"store_list",labelWidth:"120",_i:51}},[a("view",t._l(t._$s(53,"f",{forItems:t.formData.store_list}),(function(e,i,n,r){return a("view",{key:t._$s(53,"f",{forIndex:n,key:e.id})},[a("uni-card",{attrs:{_i:"54-"+r}},[a("view",[a("checkbox-group",{attrs:{_i:"56-"+r},on:{change:function(t){var a=t.detail.value;e.enable=!!a.length}}},[a("label",{staticClass:t._$s("57-"+r,"sc","title_padding"),attrs:{_i:"57-"+r}},[a("checkbox",{attrs:{disabled:t._$s("58-"+r,"a-disabled",t.detailsState),checked:t._$s("58-"+r,"a-checked",e.enable),_i:"58-"+r}}),a("text")])])]),a("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"60-"+r}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"61-"+r},model:{value:t._$s("61-"+r,"v-model",e.name),callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("uni-forms-item",{attrs:{label:"Scheme",_i:"62-"+r}},[a("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"63-"+r},model:{value:t._$s("63-"+r,"v-model",e.scheme),callback:function(a){t.$set(e,"scheme",a)},expression:"item.scheme"}})],1),a("uni-forms-item",{attrs:{label:"\u4f18\u5148\u7ea7",_i:"64-"+r}},[a("uni-easyinput",{attrs:{disabled:t.detailsState,type:"number",_i:"65-"+r},model:{value:t._$s("65-"+r,"v-model",e.priority),callback:function(a){t.$set(e,"priority",a)},expression:"item.priority"}}),a("show-info",{attrs:{top:-100,left:-180,content:t.priorityContent,_i:"66-"+r}})],1)],1)],1)})),0)]):t._e(),t._$s(67,"i",t.isWGT)?a("uni-forms-item",{key:"is_silently",attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:67}},[a("switch",{attrs:{disabled:t._$s(68,"a-disabled",t.detailsState),checked:t._$s(68,"a-checked",t.formData.is_silently),_i:68},on:{change:function(e){t.binddata("is_silently",e.detail.value),t.formData.is_silently=e.detail.value}}}),a("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:69}})],1):t._e(),t._$s(70,"i",!t.isiOS)?a("uni-forms-item",{key:"is_mandatory",attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:70}},[a("switch",{attrs:{disabled:t._$s(71,"a-disabled",t.detailsState),checked:t._$s(71,"a-checked",t.formData.is_mandatory),_i:71},on:{change:function(e){t.binddata("is_mandatory",e.detail.value),t.formData.is_mandatory=e.detail.value}}}),a("show-info",{attrs:{width:"230",top:-30,content:t.mandatoryContent,_i:72}})],1):t._e(),a("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:73}},[a("switch",{attrs:{disabled:t._$s(74,"a-disabled",t.detailsState||t.isStable),checked:t._$s(74,"a-checked",t.formData.stable_publish),_i:74},on:{change:function(e){t.binddata("stable_publish",e.detail.value),t.formData.stable_publish=e.detail.value}}}),t._$s(75,"i",t.isStable)?a("show-info",{attrs:{top:-50,width:"350",content:t.stablePublishContent,_i:75}}):a("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:76}})],1),a("uni-forms-item",{attrs:{name:"create_date",label:"\u4e0a\u4f20\u65f6\u95f4",_i:77}},[a("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:t.formData.create_date,threshold:[0,0],_i:78}})],1),a("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(79,"v-show",!1),expression:"_$s(79,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:79}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:80},model:{value:t._$s(80,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),a("view",{staticClass:t._$s(81,"sc","uni-button-group"),attrs:{_i:81}},[t._$s(82,"i",t.detailsState)?a("button",{staticClass:t._$s(82,"sc","uni-button"),attrs:{_i:82},on:{click:function(e){t.detailsState=!1}}}):t._e(),t._$s(83,"i",!t.detailsState)?a("button",{staticClass:t._$s(83,"sc","uni-button"),attrs:{_i:83},on:{click:t.submit}}):t._e(),t._$s(84,"i",!t.detailsState)?a("button",{staticClass:t._$s(84,"sc","uni-button"),attrs:{_i:84},on:{click:t.cancelEdit}}):t._e(),a("navigator",{},[a("button",{staticClass:t._$s(86,"sc","uni-button"),attrs:{_i:86}})])])],1)],1)},r=[]},e39c:function(t,e,a){"use strict";a.r(e);var i=a("9c1e"),n=a("f904");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e3fa:function(t,e,a){"use strict";var i=a("4ea4"),n=i(a("9523"));a("2964"),a("a9ff");var r=i(a("fe05")),s=i(a("96c83")),o=i(a("55ef")),u=i(a("cbfe")),c=i(a("8bbf")),l=i(a("a925"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var f=uni.getLocale();c.default.config.productionTip=!1,c.default.use(l.default);var p=new l.default({locale:f,messages:u.default});c.default.use(o.default),r.default.mpType="app";var h=new c.default(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({i18n:p,store:s.default},r.default));h.$mount()},e464:function(t,e,a){"use strict";a.r(e);var i=a("81fe"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},e484:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("d107")),s=a("b452"),o=n(a("3015")),u=t.importObject("uni-id-co",{customUI:!0}),c={name:"set-pwd.vue",data:function(){return{uniIdRedirectUrl:"",loginType:"",logo:"/static/logo.png",focusNewPassword:!1,focusNewPassword2:!1,allowSkip:!1,formData:{code:"",captcha:"",newPassword:"",newPassword2:""},rules:r.default.getPwdRules("newPassword","newPassword2")}},computed:{userInfo:function(){return s.store.userInfo}},onReady:function(){this.$refs.form.setRules(this.rules)},onLoad:function(t){var e;this.uniIdRedirectUrl=t.uniIdRedirectUrl,this.loginType=t.loginType,o.default.setPasswordAfterLogin&&null!==(e=o.default.setPasswordAfterLogin)&&void 0!==e&&e.allowSkip&&(this.allowSkip=!0)},methods:{submit:function(){var t=this;if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsCode.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none"});this.$refs.form.validate().then((function(e){u.setPwd({password:t.formData.newPassword,code:t.formData.code,captcha:t.formData.captcha}).then((function(e){uni.showModal({content:"\u5bc6\u7801\u8bbe\u7f6e\u6210\u529f",showCancel:!1,success:function(){s.mutations.loginBack({uniIdRedirectUrl:t.uniIdRedirectUrl,loginType:t.loginType})}})})).catch((function(t){uni.showModal({content:t.message,showCancel:!1})}))})).catch((function(e){"uni-id-captcha-required"==e.errCode?t.$refs.popup.open():e.errMsg})).finally((function(e){t.formData.captcha=""}))},skip:function(){s.mutations.loginBack({uniIdRedirectUrl:this.uniIdRedirectUrl})}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},e497:function(t,e,a){"use strict";a.r(e);var i=a("b68f"),n=a("52a9");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e49d:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading1"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},e4ac:function(t,e,a){"use strict";a.r(e);var i=a("70a8"),n=a("c6d6");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e4cc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,a,i){var n,r,s=window,o="application/octet-stream",u=i||o,c=e,l=!a&&!i&&c,d=document.createElement("a"),f=function(t){return String(t)},p=s.Blob||s.MozBlob||s.WebKitBlob||f,h=a||"download";p=p.call?p.bind(s):Blob,"true"===String(this)&&(c=[c,u],u=c[0],c=c[1]);if(l&&l.length<2048&&(h=l.split("/").pop().split("?")[0],d.href=l,-1!==d.href.indexOf(l))){var m=new XMLHttpRequest;return m.open("GET",l,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,h,o)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&p!==f))return navigator.msSaveBlob?navigator.msSaveBlob(y(c),h):b(c);c=y(c),u=c.type||o}else if(/([\x80-\xff])/.test(c)){var _=0,g=new Uint8Array(c.length),v=g.length;for(_;_<v;++_)g[_]=c.charCodeAt(_);c=new p([g],{type:u})}function y(t){var e=t.split(/[:;,]/),a=e[1],i="base64"==e[2]?atob:decodeURIComponent,n=i(e.pop()),r=n.length,s=0,o=new Uint8Array(r);for(s;s<r;++s)o[s]=n.charCodeAt(s);return new p([o],{type:a})}function b(t,e){if("download"in d)return d.href=t,d.setAttribute("download",h),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===e&&setTimeout((function(){s.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var a=document.createElement("iframe");document.body.appendChild(a),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),a.src=t,setTimeout((function(){document.body.removeChild(a)}),333)}if(n=c instanceof p?c:new p([c],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(n,h);if(s.URL)b(s.URL.createObjectURL(n),!0);else{if("string"===typeof n||n.constructor===f)try{return b("data:"+u+";base64,"+s.btoa(n))}catch(x){return b("data:"+u+","+encodeURIComponent(n))}r=new FileReader,r.onload=function(t){b(this.result)},r.readAsDataURL(n)}return!0}},e50d:function(t,e,a){var i=a("7037")["default"];t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},e537:function(t,e,a){"use strict";a.r(e);var i=a("5ddd"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},e5da:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-data-select",mixins:[t.mixinDatacom||{}],props:{localdata:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},emptyTips:{type:String,default:"\u65e0\u9009\u9879"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0},disabled:{type:Boolean,default:!1},format:{type:String,default:""}},data:function(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[],cacheKey:"uni-data-select-lastSelectedValue"}},created:function(){var t=this;this.debounceGet=this.debounce((function(){t.query()}),300),this.collection&&!this.localdata.length&&this.debounceGet()},computed:{typePlaceholder:function(){var t=this.placeholder,e={"opendb-stat-app-versions":"\u7248\u672c","opendb-app-channels":"\u6e20\u9053","opendb-app-list":"\u5e94\u7528"}[this.collection];return e?t+e:t},valueCom:function(){return this.value}},watch:{localdata:{immediate:!0,handler:function(t,e){Array.isArray(t)&&e!==t&&(this.mixinDatacomResData=t)}},valueCom:function(t,e){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler:function(t){t.length&&this.initDefVal()}}},methods:{debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null;return function(){for(var i=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];a&&clearTimeout(a),a=setTimeout((function(){t.apply(i,r)}),e)}},query:function(){this.mixinDatacomEasyGet()},onMixinDatacomPropsChange:function(){this.collection&&this.debounceGet()},initDefVal:function(){var t="";if(!this.valueCom&&0!==this.valueCom||this.isDisabled(this.valueCom)){var e;if(this.collection&&(e=this.getCache()),e||0===e)t=e;else{var a="";this.defItem>0&&this.defItem<=this.mixinDatacomResData.length&&(a=this.mixinDatacomResData[this.defItem-1].value),t=a}(t||0===t)&&this.emit(t)}else t=this.valueCom;var i=this.mixinDatacomResData.find((function(e){return e.value===t}));this.current=i?this.formatItemName(i):""},isDisabled:function(t){var e=!1;return this.mixinDatacomResData.forEach((function(a){a.value===t&&(e=a.disable)})),e},clearVal:function(){this.emit(""),this.collection&&this.removeCache()},change:function(t){t.disable||(this.showSelector=!1,this.current=this.formatItemName(t),this.emit(t.value))},emit:function(t){this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("change",t),this.collection&&this.setCache(t)},toggleSelector:function(){this.disabled||(this.showSelector=!this.showSelector)},formatItemName:function(t){var e=t.text,a=t.value,i=t.channel_code;if(i=i?"(".concat(i,")"):"",this.format){var n="";for(var r in n=this.format,t)n=n.replace(new RegExp("{".concat(r,"}"),"g"),t[r]);return n}return this.collection.indexOf("app-list")>0?"".concat(e,"(").concat(a,")"):e||"\u672a\u547d\u540d".concat(i)},getLoadData:function(){return this.mixinDatacomResData},getCurrentCacheKey:function(){return this.collection},getCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),e=uni.getStorageSync(this.cacheKey)||{};return e[t]},setCache:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentCacheKey(),a=uni.getStorageSync(this.cacheKey)||{};a[e]=t,uni.setStorageSync(this.cacheKey,a)},removeCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),e=uni.getStorageSync(this.cacheKey)||{};delete e[t],uni.setStorageSync(this.cacheKey,e)}}};e.default=a}).call(this,a("a9ff")["default"])},e652:function(t,e,a){"use strict";a.r(e);var i=a("9cb8"),n=a("003d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"39559fc8",null,!1,i["a"],void 0);e["default"]=o.exports},e6c4:function(t,e,a){"use strict";a.r(e);var i=a("0bf8"),n=a("5c02");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"f7cd1ae2",null,!1,i["a"],void 0);e["default"]=o.exports},e71c:function(t,e,a){"use strict";a.r(e);var i=a("a4b3"),n=a("3d42");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e776:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7e\u7684tagid",required:!0,_i:2}},[a("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u6807\u7b7etagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),a("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[a("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),a("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[a("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),a("navigator",{},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},e8ce:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniAdminCacheKey=void 0;e.uniAdminCacheKey={theme:"uni-admin-theme"}},e950:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u6e20\u9053\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u6e20\u9053\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},e97d:function(t,e,a){"use strict";var i=a("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.initUniIdPageStore=function(t){t.prototype.$uniIdPagesStore=n};var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var a=r(e);if(a&&a.has(t))return a.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=s?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}n.default=t,a&&a.set(t,n);return n}(a("b452"));function r(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(r=function(t){return t?a:e})(t)}},e998:function(t,e,a){"use strict";a.r(e);var i=a("e2e5"),n=a("f1ee");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},e9c5:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b9d0")),r={name:"uniSubMenu",mixins:[n.default],props:{index:{type:[String,Object],default:function(){return""}},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#f5f5f5"}},data:function(){return{height:0,oldheight:0,isOpen:!1,textColor:"#303133"}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.subChildrens.findIndex((function(e){return e===t}));this.$menuParent.subChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.childrens=[],this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.textColor=this.$menuParent.textColor,this.$subMenu=this.rootMenu.SubMenu,this.$menuParent&&this.$menuParent.subChildrens.push(this)},select:function(){this.disabled||this.$menuParent.selectMenu(this)},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1}}};e.default=r},ea02:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"pr\xe9c\xe9dente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"}')},ea20:function(t,e,a){"use strict";a.r(e);var i=a("1484"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ea53:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initUtil=function(t){t.prototype.$formatDate=i.formatDate,t.prototype.$formatBytes=n};var i=a("0edc");function n(t){var e=["B","KB","MB","GB","TB"];if(0==t)return"n/a";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return 0==a?t+" "+e[a]:(t/Math.pow(1024,a)).toFixed(1)+" "+e[a]}},ea5c:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("ba04"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),queryId:"",updateValue:"",channelData:[],errorMessage:""}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{pageTo:function(t){uni.redirectTo({url:t})},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var a=this;if(this.query.appid){this.errorMessage="",e=(0,r.stringifyQuery)(this.query,null,["uni_platform"]);var i=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=(0,r.stringifyQuery)({appid:this.query.appid}),c=n.collection("uni-stat-page-details").where(u).getTemp(),l=n.collection("uni-stat-page-detail-result").where(e).getTemp();n.collection(l,c).field("".concat((0,r.stringifyField)(s.default),", stat_date, page_detail_id")).groupBy("page_detail_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("visit_times desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,n=e.data;a.options.total=i,a.tableData=[];var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.page_detail_id;if(Array.isArray(d)){delete l.page_detail_id;var f=d[0];if(f&&Object.keys(f).length)for(var p in f)"_id"!==p&&(l[p]=f[p])}(0,r.mapfields)(s.default,l,l),a.tableData.push(l)}}catch(h){c.e(h)}finally{c.f()}})).catch((function(t){})).finally((function(){a.loading=!1}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getPanelData:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),i=JSON.parse(JSON.stringify(s.default));i=i.filter((function(t){return"visit_devices"!==t.field}));var n=t.database();n.collection("uni-stat-page-detail-result").where(a).field((0,r.stringifyField)(i)).groupBy("appid").groupField((0,r.stringifyGroupField)(i)).orderBy("start_time desc").get().then((function(t){var a=t.result.data[0];e.panelData=[],e.panelData=(0,r.mapfields)(i,a)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=t.database();uni.showLoading({title:"\u8bf7\u6c42\u4e2d..."}),i.collection("uni-stat-page-details").where({page_link:this.queryId}).update({page_title:a.trim()}).then((function(t){t.result.updated?(uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getTableData()):uni.showToast({title:"\u4fee\u6539\u5931\u8d25",icon:"none"})})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},eaac:function(t,e,a){"use strict";a.r(e);var i=a("010f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},eae8:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b9d0")),r={name:"uniMenuItem",mixins:[n.default],props:{index:{type:[String,Object],default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1,activeTextColor:"#42B983",textColor:"#303133",activeBackgroundColor:""}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.itemChildrens.findIndex((function(e){return e===t}));this.$menuParent.itemChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.$subMenu=this.rootMenu.SubMenu,this.activeTextColor=this.$menuParent.activeTextColor,this.textColor=this.$menuParent.textColor,this.activeBackgroundColor=this.$menuParent.activeBackgroundColor,this.$menuParent&&(this.$menuParent.itemChildrens.push(this),this.$menuParent.isActive(this))},onClickItem:function(t){this.disabled||(this.$menuParent.closeOtherActive(this),this.active=!0,this.indexPath.unshift(this.index),this.indexPath.reverse(),"init"!==t&&this.$menuParent.select(this.index,this.indexPath))}}};e.default=r},eb15:function(t,e,a){"use strict";a.r(e);var i=a("8492"),n=a("8626");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"55cc0cd1",null,!1,i["a"],void 0);e["default"]=o.exports},ebc2:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u663e\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f7d...","uni-load-more.contentnomore":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"}')},ebf6:function(t,e,a){"use strict";a.r(e);var i=a("11a1"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ec10:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniIcons:a("c494").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[a("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),a("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),a("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[a("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[a("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:21}})],1)])],1),a("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[a("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[a("uni-icons",{attrs:{type:"info",_i:24}})],1),a("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[a("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,i,n,r){return[t._$s("28-"+r,"i",e.title)?a("uni-th",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:i+"_"+i+"_0"}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,i,n,r){return a("uni-tr",{key:t._$s(29,"f",{forIndex:n,key:i}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(i,n,s,o){return[t._$s("31-"+r+"-"+o,"i",i.title)?a("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),class:t._$s("31-"+r+"-"+o,"c",/[d|w|m]_\d/.test(i.field)&&[e[i.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+o}},[t._v(t._$s("31-"+r+"-"+o,"t0-0",t._s(e[i.field]?e[i.field]:"")))]):t._e()]}))],2)}))],2),a("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),a("fix-window",{attrs:{_i:34}})],1)},r=[]},ec56:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("93ea")),r=a("37dc"),s=i(a("4419")),o=(0,r.initVueI18n)(s.default),u=o.t,c={name:"uniPopupDialog",mixins:[n.default],emits:["confirm","close"],props:{inputType:{type:String,default:"text"},value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:function(){return{dialogType:"error",focus:!1,val:""}},computed:{okText:function(){return this.confirmText||u("uni-popup.ok")},closeText:function(){return this.cancelText||u("uni-popup.cancel")},placeholderText:function(){return this.placeholder||u("uni-popup.placeholder")},titleText:function(){return this.title||u("uni-popup.title")}},watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog:function(){this.$emit("close"),this.beforeClose||this.popup.close()},close:function(){this.popup.close()}}};e.default=c},ec57:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("c494").default,uniBadge:a("0c79").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-list-item"),class:t._$s(0,"c",{"uni-list-item--disabled":t.disabled}),style:t._$s(0,"s",{"background-color":t.customStyle.backgroundColor}),attrs:{"hover-class":t._$s(0,"a-hover-class",!t.clickable&&!t.link||t.disabled||t.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.isFirstChild)?a("view",{staticClass:t._$s(1,"sc","border--left"),class:t._$s(1,"c",{"uni-list--border":t.border}),attrs:{_i:1}}):t._e(),a("view",{staticClass:t._$s(2,"sc","uni-list-item__container"),class:t._$s(2,"c",{"container--right":t.showArrow||t.link,"flex--direction":"column"===t.direction}),style:t._$s(2,"s",{paddingTop:t.padding.top,paddingLeft:t.padding.left,paddingRight:t.padding.right,paddingBottom:t.padding.bottom}),attrs:{_i:2}},[t._t("header",[a("view",{staticClass:t._$s(4,"sc","uni-list-item__header"),attrs:{_i:4}},[t._$s(5,"i",t.thumb)?a("view",{staticClass:t._$s(5,"sc","uni-list-item__icon"),attrs:{_i:5}},[a("image",{staticClass:t._$s(6,"sc","uni-list-item__icon-img"),class:t._$s(6,"c",["uni-list--"+t.thumbSize]),attrs:{src:t._$s(6,"a-src",t.thumb),_i:6}})]):t._$s(7,"e",t.showExtraIcon)?a("view",{staticClass:t._$s(7,"sc","uni-list-item__icon"),attrs:{_i:7}},[a("uni-icons",{attrs:{customPrefix:t.extraIcon.customPrefix,color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,_i:8}})],1):t._e()])],{_i:3}),t._t("body",[a("view",{staticClass:t._$s(10,"sc","uni-list-item__content"),class:t._$s(10,"c",{"uni-list-item__content--center":t.thumb||t.showExtraIcon||t.showBadge||t.showSwitch}),attrs:{_i:10}},[t._$s(11,"i",t.title)?a("text",{staticClass:t._$s(11,"sc","uni-list-item__content-title"),class:t._$s(11,"c",[0!==t.ellipsis&&t.ellipsis<=2?"uni-ellipsis-"+t.ellipsis:""]),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.title)))]):t._e(),t._$s(12,"i",t.note)?a("text",{staticClass:t._$s(12,"sc","uni-list-item__content-note"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.note)))]):t._e()])],{_i:9}),t._t("footer",[t._$s(14,"i",t.rightText||t.showBadge||t.showSwitch)?a("view",{staticClass:t._$s(14,"sc","uni-list-item__extra"),class:t._$s(14,"c",{"flex--justify":"column"===t.direction}),attrs:{_i:14}},[t._$s(15,"i",t.rightText)?a("text",{staticClass:t._$s(15,"sc","uni-list-item__extra-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.rightText)))]):t._e(),t._$s(16,"i",t.showBadge)?a("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,"custom-style":t.badgeStyle,_i:16}}):t._e(),t._$s(17,"i",t.showSwitch)?a("switch",{attrs:{disabled:t._$s(17,"a-disabled",t.disabled),checked:t._$s(17,"a-checked",t.switchChecked),_i:17},on:{change:t.onSwitchChange}}):t._e()],1):t._e()],{_i:13})],2),t._$s(18,"i",t.showArrow||t.link)?a("uni-icons",{staticClass:t._$s(18,"sc","uni-icon-wrapper"),attrs:{size:16,color:"#bbb",type:"arrowright",_i:18}}):t._e()],1)},r=[]},ec59:function(t,e,a){"use strict";a.r(e);var i=a("7c22"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ecf0:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"cloud-image",emits:["click"],props:{mode:{type:String,default:function(){return"widthFix"}},src:{default:function(){return""}},width:{type:String,default:function(){return"100rpx"}},height:{type:String,default:function(){return"100rpx"}}},watch:{src:{handler:function(e){var a=this;e&&"cloud://"==e.substring(0,8)?t.getTempFileURL({fileList:[e]}).then((function(t){a.cSrc=t.fileList[0].tempFileURL})):this.cSrc=e},immediate:!0}},methods:{onClick:function(){this.$emit("click")}},data:function(){return{cSrc:!1}}};e.default=a}).call(this,a("a9ff")["default"])},ed67:function(t,e,a){"use strict";a.r(e);var i=a("e776"),n=a("244d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},ed6d:function(t,e,a){var i=a("4a4b");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},edc2:function(t,e,a){"use strict";a.r(e);var i=a("46f2"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ee46:function(t,e,a){"use strict";a.r(e);var i=a("1e83"),n=a("b4d4");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},eec6:function(t,e,a){"use strict";a.r(e);var i=a("641d"),n=a("5e22");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},ef19:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("430d");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var a in r.validator)t.includes(a)&&(e[a]=r.validator[a]);return e}var l={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return u.collection("uni-id-tag").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),e.getOpenerEventChannel().emit("refreshCheckboxData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))}}};e.default=l}).call(this,a("a9ff")["default"])},ef93:function(t,e,a){"use strict";a.r(e);var i=a("6900"),n=a("8a20");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},efa1:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art\ufffd\ufffdculo/P\ufffd\ufffdgina"}')},f005:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t.database(),i=["user_id.username","user_id.nickname","type","ip"],n={data:function(){return{collectionList:[a.collection("uni-id-log").field("type, ip, create_date, user_id").getTemp(),a.collection("uni-id-users").field("_id, username,nickname").getTemp()],query:"",where:"",orderby:"create_date desc",options:{pageSize:20,pageCurrent:1}}},methods:{getWhere:function(){var t,e=this.query.trim();if(!e)return"";try{t=new RegExp(e,"i")}catch(a){return void uni.showToast({title:"\u8bf7\u52ff\u8f93\u5165\u7b49\u4e0d\u6ee1\u8db3\u6b63\u5219\u683c\u5f0f\u7684\u7b26\u53f7",icon:"none"})}return i.map((function(e){return t+".test("+e+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t){var e=this;uni.navigateTo({url:t,events:{refreshData:function(){e.loadData()}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)}}};e.default=n}).call(this,a("a9ff")["default"])},f092:function(t,e,a){"use strict";a.r(e);var i=a("56b9"),n=a("bdd2");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},f0a1:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,uniStatTable:a("4d70").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"datetimerange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),a("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[a("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[a("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),a("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[a("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[a("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:20}})],1)])]),a("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[a("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),a("fix-window",{attrs:{_i:23}})],1)},r=[]},f0c5:function(t,e,a){"use strict";function i(t,e,a,i,n,r,s,o,u,c){var l,d="function"===typeof t?t.options:t;if(u){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var p in u)f.call(u,p)&&!f.call(d.components,p)&&(d.components[p]=u[p])}if(c&&("function"===typeof c.beforeCreate&&(c.beforeCreate=[c.beforeCreate]),(c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(d.mixins||(d.mixins=[])).push(c)),e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(d.functional){d._injectStyles=l;var h=d.render;d.render=function(t,e){return l.call(e),h(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:d}}a.d(e,"a",(function(){return i}))},f0e4:function(t,e){t.exports=function(t,e){if(null==t)return{};var a,i,n={},r=Object.keys(t);for(i=0;i<r.length;i++)a=r[i],e.indexOf(a)>=0||(n[a]=t[a]);return n},t.exports.__esModule=!0,t.exports["default"]=t.exports},f19b:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("f200"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},defaultChart:{field:"new_user_count",name:"\u65b0\u589e\u7528\u6237"},channelData:[],errorMessage:""}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,r.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,a,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a,i;a=(0,r.getTimeOfSomeDayAgo)(t),i=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,a){this.currentChartTab=t,this.getChartData(this.query,t,a)},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.currentChartTab),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e,a){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",c={categories:[],series:[{name:n,data:[]}]};e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var l=t.database();"day"===a?l.collection(this.tableName).where(e).field("".concat((0,r.stringifyField)(s.default,u),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,u)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data);i.chartData=[];var n,s=o(a);try{for(s.s();!(n=s.n()).done;){var l=n.value,d=(0,r.formatDate)(l.start_time,"day"),f=l[u];c.series[0].data.push(f),c.categories.push(d)}}catch(p){s.e(p)}finally{s.f()}i.chartData=c})).catch((function(t){})):this.getRangeCountData(e,a).then((function(t){var e=a;"week"===a&&(a="isoWeek");var n=t.result,s=(n.count,n.data);i.chartData=[];var l,d=o(s);try{for(d.s();!(l=d.n()).done;){var f=l.value,p=+new Date(f.year,0)+(6048e5*Number(f[a])-1),h=(0,r.formatDate)(p,e),m=f[a+"_"+u];m&&(c.series[0].data.push(m),c.categories.push(h))}}catch(_){d.e(_)}finally{d.f()}i.chartData=c}))},getTabelData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_user_count",n=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]),this.loading=!0;var u=t.database();u.collection(this.tableName).where(e).field("".concat((0,r.stringifyField)(s.default,i),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,i)).orderBy("start_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var i=t.result,n=i.count,u=i.data,c=u,l=n,d=[],f=[];a.getRangeCountData(e,"week").then((function(t){var i=t.result,n=(i.count,i.data);d=n,a.getRangeCountData(e,"month").then((function(t){var e=t.result,i=(e.count,e.data);f=i;var n,u=a.mapWithWeekAndMonth(c,d,f),p=o(u);try{for(p.s();!(n=p.n()).done;){var h=n.value;(0,r.mapfields)(s.default,h,h)}}catch(m){p.e(m)}finally{p.f()}a.tableData=[],a.options.total=l,a.tableData=u})).finally((function(){a.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_user_count";"week"===a&&(a="isoWeek");this.options.pageCurrent;var n=t.database();return n.collection(this.tableName).where(e).field("".concat(i,", start_time, ").concat(a,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(a,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(a)).groupField("sum(".concat(i,") as ").concat(a,"_").concat(i)).orderBy("year asc, ".concat(a," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",r=o(t);try{for(r.s();!(i=r.n()).done;){var s,u=i.value,c=new Date(u.start_time),l=c.getUTCFullYear(),d=c.getMonth()+1,f=this.getWeekNumber(c),p=o(e);try{for(p.s();!(s=p.n()).done;){var h=s.value;h.isoWeek===f&&h.year===l&&(u["isoWeek_".concat(n)]=h["week_".concat(n)])}}catch(v){p.e(v)}finally{p.f()}var m,_=o(a);try{for(_.s();!(m=_.n()).done;){var g=m.value;g.month===d&&g.year===l&&(u["month_".concat(n)]=g["month_".concat(n)])}}catch(v){_.e(v)}finally{_.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)},getChannelData:function(e,a){var i=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),a=a||this.query.platform_id,a&&(r.platform_id=a);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,a=t.result.data,n=[];if(a.length>0)for(var r in a)e=a[r].channel_name?a[r].channel_name:"\u9ed8\u8ba4",a[r].platform_id.length>0&&(e=a[r].platform_id[0].name+"-"+e),n.push({value:a[r]._id,text:e});i.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},f1b3:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[a("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[a("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[a("uni-easyinput",{attrs:{placeholder:"\u6743\u9650\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},on:{input:function(e){return t.binddata("permission_id",e.detail.value)}},model:{value:t._$s(3,"v-model",t.formData.permission_id),callback:function(e){t.$set(t.formData,"permission_id",e)},expression:"formData.permission_id"}})],1),a("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),a("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),a("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[a("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),a("navigator",{},[a("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},f1ee:function(t,e,a){"use strict";a.r(e);var i=a("5489"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f200:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_user_count/week_active_user_count",computed:"active_user_count/week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_user_count/month_active_user_count",computed:"active_user_count/month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}]},f204:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-table-scroll"),class:t._$s(0,"c",{"table--border":t.border,"border-none":!t.noData}),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-table"),class:t._$s(1,"c",{"table--stripe":t.stripe}),style:t._$s(1,"s",{"min-width":t.minWidth+"px"}),attrs:{_i:1}},[t._t("default",null,{_i:2}),t._$s(3,"i",t.noData)?a("view",{staticClass:t._$s(3,"sc","uni-table-loading"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-table-text"),class:t._$s(4,"c",{"empty-border":t.border}),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.emptyText)))])]):t._e(),t._$s(5,"i",t.loading)?a("view",{staticClass:t._$s(5,"sc","uni-table-mask"),class:t._$s(5,"c",{"empty-border":t.border}),attrs:{_i:5}},[a("div",{staticClass:t._$s(6,"sc","uni-table--loader"),attrs:{_i:6}})]):t._e()],2)])},n=[]},f220:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsMap=void 0;e.fieldsMap=[{title:"\u6d3b\u8dc3\u8bbe\u5907\u6570",field:"activity_device_count",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u8bbf\u95ee\u8bbe\u5907\u6570\uff0c\u4e00\u53f0\u8bbe\u5907\u591a\u6b21\u8bbf\u95ee\u88ab\u8ba1\u4e3a\u4e00\u53f0\uff08\u5305\u542b\u672a\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"},{title:"\u6d3b\u8dc3\u7528\u6237\u6570",field:"activity_user_count",tooltip:"\u6d3b\u8dc3\u7528\u6237\u6570\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u8bbf\u95ee\u4eba\u6570\uff0c\u4e00\u4eba\u591a\u6b21\u8bbf\u95ee\u88ab\u8ba1\u4e3a\u4e00\u4eba\uff08\u53ea\u7edf\u8ba1\u5df2\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"},{title:"\u652f\u4ed8\u7528\u6237\u6570",field:"pay_user_count",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u4eba\u6570\uff08\u4e0d\u5254\u9664\u9000\u6b3e\u8ba2\u5355\uff09\uff08\u53ea\u7edf\u8ba1\u5df2\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"}]},f27b:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),a("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),a("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[a("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-permissions",field:"permission_id,permission_name,comment,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[a("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"11-"+n}},[a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"permission_id")},"sort-change":function(e){return t.sortChange(e,"permission_id")}}},[t._v("\u6743\u9650\u6807\u8bc6")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"permission_name")},"sort-change":function(e){return t.sortChange(e,"permission_name")}}},[t._v("\u6743\u9650\u540d\u79f0")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center",_i:"16-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("17-"+n,"f",{forItems:r}),(function(e,r,s,o){return a("uni-tr",{key:i._$s("17-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"17-"+n+o}},[a("uni-td",{attrs:{align:"center",_i:"18-"+n+o}},[t._v(i._$s("18-"+n+o,"t0-0",t._s(e.permission_id)))]),a("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(i._$s("19-"+n+o,"t0-0",t._s(e.permission_name)))]),a("uni-td",{attrs:{align:"center",_i:"20-"+n+o}},[t._v(i._$s("20-"+n+o,"t0-0",t._s(e.comment)))]),a("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+n+o}})],1),a("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[a("view",{staticClass:i._$s("24-"+n+o,"sc","uni-group"),attrs:{_i:"24-"+n+o}},[a("button",{staticClass:i._$s("25-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"25-"+n+o},on:{click:function(a){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("25-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),a("button",{staticClass:i._$s("26-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"26-"+n+o},on:{click:function(a){return t.confirmDelete(e._id)}}},[t._v(i._$s("26-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),a("view",{staticClass:i._$s("27-"+n,"sc","uni-pagination-box"),attrs:{_i:"27-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"28-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("28-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("fix-window",{attrs:{_i:29}})],1)},r=[]},f2d6:function(t,e,a){"use strict";a.r(e);var i=a("1a57"),n=a("9460");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},f2ef:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-menu-item"),class:t._$s(0,"c",{"is-active":t.active,"is-disabled":t.disabled}),style:t._$s(0,"s",{paddingLeft:t.paddingLeft,"background-color":t.active?t.activeBackgroundColor:""}),attrs:{_i:0},on:{click:t.onClickItem}},[t._t("default",null,{_i:1})],2)},n=[]},f309:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading2",data:function(){return{}}}},f5a3:function(t,e,a){"use strict";a.r(e);var i=a("1631"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f5a9:function(t,e,a){"use strict";(function(t,i,n){var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(a("a34a")),o=r(a("c973")),u=t.database(),c=(u.collection("uni-id-users"),t.importObject("uni-id-co")),l={emits:["success"],computed:{},data:function(){return{}},methods:{beforeGetphonenumber:function(){return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){uni.showLoading({mask:!0}),i.checkSession({success:function(){e(),uni.hideLoading()},fail:function(){i.login({success:function(i){var n=i.code;t.importObject("uni-id-co",{customUI:!0}).loginByWeixin({code:n}).then((function(t){e()})).catch((function(t){a()})).finally((function(t){uni.hideLoading()}))},fail:function(t){a()}})}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},bindMobileByMpWeixin:function(t){var e=this;return(0,o.default)(s.default.mark((function a(){return s.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("getPhoneNumber:ok"!=t.detail.errMsg){a.next=6;break}return a.next=3,e.beforeGetphonenumber();case 3:c.bindMobileByMpWeixin(t.detail).then((function(t){e.$emit("success")})).finally((function(t){e.closeMe()})),a.next=7;break;case 6:e.closeMe();case 7:case"end":return a.stop()}}),a)})))()},open:function(){var t=this;return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.popup.open();case 1:case"end":return e.stop()}}),e)})))()},closeMe:function(t){this.$refs.popup.close()}}};e.default=l}).call(this,a("a9ff")["default"],a("fe07")["default"],a("0de9")["default"])},f5c2:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7c5a"),s=n(a("a0f4b"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count",errorMessage:""}},computed:{chartTabs:function(){var t=[];return s.default.forEach((function(e){var a=e.field,i=e.title,n=e.hasOwnProperty("value");a&&i&&n&&t.push({_id:a,name:i})})),t},queryStr:function(){return(0,r.stringifyQuery)(this.query,!0)},dimension:function(){return(0,r.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,a=t.uni_platform,i=(0,r.stringifyQuery)({appid:e,uni_platform:a});return i}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.queryStr)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,a,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var a=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[a,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.queryStr)},changeChartTab:function(t,e,a){this.getChartData(this.queryStr,t,a)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(t),this.getChartData(t),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab;this.options.pageCurrent;e=JSON.parse(JSON.stringify(this.query)),e.dimension="day";var n=(0,r.stringifyQuery)(e,!1,["uni_platform"]),u=t.database();u.collection("uni-stat-result").where(n).field("".concat((0,r.stringifyField)(s.default,i),",start_time,channel_id")).groupBy("channel_id,start_time").groupField((0,r.stringifyGroupField)(s.default,i)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,n=(e.count,e.data),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},c=u.categories;if("hour"===a.dimension)for(var l=0;l<24;++l){var d=l<10?"0"+l:l,f="".concat(d,":00 ~ ").concat(d,":59");c.push(f)}var p=[];n.forEach((function(t){p.indexOf(t.channel_id)<0&&p.push(t.channel_id)}));var h=[];a.getChannels().then((function(t){h=t.result.data})).finally((function(){p.forEach((function(t,e){var l=h.find((function(e){return e._id===t})),d=u.series[e]={name:l&&l.channel_name||"\u672a\u77e5",data:[]};if("hour"===a.dimension)for(var f=0;f<24;++f)d.data[f]=0;var p=s.default.filter((function(t){return t.field===i}));p=JSON.parse(JSON.stringify(p)),delete p[0].value,p[0].formatter="";var m,_=o(n);try{for(_.s();!(m=_.n()).done;){var g=m.value;(0,r.mapfields)(p,g,g);var v=g.start_time,y=(0,r.formatDate)(v,a.dimension),b=g[i],x=c.indexOf(y);t===g.channel_id&&(x<0?(c.push(y),d.data.push(b)):d.data[x]=b)}}catch(w){_.e(w)}finally{_.f()}})),a.chartData=u}))})).catch((function(t){})).finally((function(){a.loading=!1}))},getChannels:function(){var e=t.database();return e.collection("uni-stat-app-channels").get()},getTabelData:function(e){var a=this,i=this.options.pageCurrent;this.loading=!0;var n=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),u=t.database();u.collection("uni-stat-result").where(n).field("".concat((0,r.stringifyField)(s.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("new_device_count","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,n=e.data;a.getChannels().then((function(t){var e,a=t.result.data,i=o(n);try{var r=function(){var t=e.value;a.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(i.s();!(e=i.n()).done;)r()}catch(s){i.e(s)}finally{i.f()}})).finally((function(){var t,e=o(n);try{for(e.s();!(t=e.n()).done;){var u=t.value;(0,r.mapfields)(s.default,u,u)}}catch(c){e.e(c)}finally{e.f()}a.tableData=[],a.options.total=i,a.tableData=n}))})).catch((function(t){})).finally((function(){a.loading=!1}))},getPanelData:function(){var e=this,a=JSON.parse(JSON.stringify(this.query));a.dimension="day";var i=(0,r.stringifyQuery)(a,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(i).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc").get().then((function(t){var i=t.result.data[0];i&&(i.total_devices=0),r.getFieldTotal.call(e,a),e.panelData=[],e.panelData=(0,r.mapfields)(s.default,i)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})}}};e.default=c}).call(this,a("a9ff")["default"],a("0de9")["default"])},f5f3:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniStatTabs:a("4b14").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),a("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),a("view",{staticClass:t._$s(7,"sc","uni-stat--x"),attrs:{_i:7}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:8},on:{change:t.platformChange},model:{value:t._$s(8,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(9,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?a("uni-data-select",{staticClass:t._$s(9,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),a("statPanelTotal",{attrs:{query:t.query,_i:10}}),a("statPanelToday",{attrs:{query:t.query,_i:11}}),a("trendChart",{attrs:{query:t.query,_i:12}})],1),a("fix-window",{attrs:{_i:13}})],1)},r=[]},f634:function(t,e,a){"use strict";a.r(e);var i=a("c7da"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f6b0:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("448a")),r=i(a("7037")),s=a("37dc"),o=i(a("11d2")),u=(0,s.initVueI18n)(o.default),c=u.t,l={load:"load",error:"error"},d={add:"add",replace:"replace"},f={auto:"auto",onready:"onready",manual:"manual"},p=["pageCurrent","pageSize","spaceInfo","collection","action","field","getcount","orderby","where","groupby","groupField","distinct"],h={name:"UniClouddb",props:{options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String,Object],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},pageIndistinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{loading:!1,hasMore:!1,dataList:this.getone?void 0:[],paginationInternal:{},errorMessage:""}},computed:{collectionArgs:function(){return Array.isArray(this.collection)?this.collection:[this.collection]},isLookup:function(){return Array.isArray(this.collection)&&this.collection.length>1||"string"===typeof this.collection&&this.collection.indexOf(",")>-1}},created:function(){var t=this;this._isEnded=!1,this.paginationInternal={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return p.forEach((function(a){e.push(t[a])})),e}),(function(e,a){if(t.paginationInternal.size=t.pageSize,e[0]!==a[0]&&(t.paginationInternal.current=t.pageCurrent),t.loadtime!==f.manual){for(var i=!1,n=2;n<e.length;n++)if(e[n]!==a[n]){i=!0;break}i&&(t.clear(),t.reset()),t._execLoadData()}})),this.manual||this.loadtime!==f.auto||this.loadData()},methods:{loadData:function(t,e){var a=null,i=!1;"object"===(0,r.default)(t)?(t.clear&&(this.pageData===d.replace?this.clear():i=t.clear,this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(a=e)):"function"===typeof t&&(a=t),this._execLoadData(a,i)},loadMore:function(){this._isEnded||this.loading||(this.pageData===d.add&&this.paginationInternal.current++,this._execLoadData())},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.dataList=[]},reset:function(){this.paginationInternal.current=1},add:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.action,n=a.showToast,r=void 0===n||n,s=a.toastTitle,o=a.success,u=a.fail,l=a.complete,d=a.needConfirm,f=void 0===d||d,p=a.needLoading,h=void 0===p||p,m=a.loadingTitle,_=void 0===m?"":m;h&&uni.showLoading({title:_});var g=t.database(this.spaceInfo);i&&(g=g.action(i)),g.collection(this.getMainCollection()).add(e).then((function(t){o&&o(t),r&&uni.showToast({title:s||c("uniCloud.component.add.success")})})).catch((function(t){u&&u(t),f&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){h&&uni.hideLoading(),l&&l()}))},remove:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.action,n=a.success,r=a.fail,s=a.complete,o=a.confirmTitle,u=a.confirmContent,l=a.needConfirm,d=void 0===l||l,f=a.needLoading,p=void 0===f||f,h=a.loadingTitle,m=void 0===h?"":h;t&&t.length&&(d?uni.showModal({title:o||c("uniCloud.component.remove.showModal.title"),content:u||c("uniCloud.component.remove.showModal.content"),showCancel:!0,success:function(a){a.confirm&&e._execRemove(t,i,n,r,s,d,p,m)}}):this._execRemove(t,i,n,r,s,d,p,m))},update:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.action,r=i.showToast,s=void 0===r||r,o=i.toastTitle,u=i.success,l=i.fail,d=i.complete,f=i.needConfirm,p=void 0===f||f,h=i.needLoading,m=void 0===h||h,_=i.loadingTitle,g=void 0===_?"":_;m&&uni.showLoading({title:g});var v=t.database(this.spaceInfo);return n&&(v=v.action(n)),v.collection(this.getMainCollection()).doc(e).update(a).then((function(t){u&&u(t),s&&uni.showToast({title:o||c("uniCloud.component.update.success")})})).catch((function(t){l&&l(t),p&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){m&&uni.hideLoading(),d&&d()}))},getMainCollection:function(){if("string"===typeof this.collection)return this.collection.split(",")[0];var t=JSON.parse(JSON.stringify(this.collection[0]));return t.$db[0].$param[0]},getTemp:function(){var e,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=t.database(this.spaceInfo);this.action&&(i=i.action(this.action)),i=(e=i).collection.apply(e,(0,n.default)(this.collectionArgs)),this.foreignKey&&(i=i.foreignKey(this.foreignKey)),this.where&&Object.keys(this.where).length&&(i=i.where(this.where)),this.field&&(i=i.field(this.field)),this.groupby&&(i=i.groupBy(this.groupby)),this.groupField&&(i=i.groupField(this.groupField)),!0===this.distinct&&(i=i.distinct()),this.orderby&&(i=i.orderBy(this.orderby));var r=this.paginationInternal,s=r.current,o=r.size,u={};this.getcount&&(u.getCount=this.getcount);var c={limitLevel:this.limitlevel,startWith:this.startwith};return this.gettree&&(u.getTree=c),this.gettreepath&&(u.getTreePath=c),i=i.skip(o*(s-1)).limit(o),a?(i=i.getTemp(u),i.udb=this):i=i.get(u),i},setResult:function(t){0===t.code?this._execLoadDataSuccess(t):this._execLoadDataFail(new Error(t.message))},_execLoadData:function(t,e){var a=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(i){a.loading=!1,a._execLoadDataSuccess(i.result,t,e)})).catch((function(e){a.loading=!1,a._execLoadDataFail(e,t)})))},_execLoadDataSuccess:function(t,e,a){var i=t.data,r=t.count;this._isEnded=void 0!==r?this.paginationInternal.current*this.paginationInternal.size>=r:i.length<this.pageSize,this.hasMore=!this._isEnded;var s,o=this.getone?i.length?i[0]:void 0:i;(this.getcount&&(this.paginationInternal.count=r),e&&e(o,this._isEnded,this.paginationInternal),this._dispatchEvent(l.load,o),this.getone||this.pageData===d.replace)?this.dataList=o:a?this.dataList=o:(s=this.dataList).push.apply(s,(0,n.default)(o))},_execLoadDataFail:function(t,e){this.errorMessage=t,e&&e(),this.$emit(l.error,t)},_getExec:function(){return this.getTemp(!1)},_execRemove:function(e,a,i,n,r,s,o,u){var c=this;if(this.collection&&e){var l=Array.isArray(e)?e:[e];if(l.length){o&&uni.showLoading({mask:!0,title:u});var f=t.database(this.spaceInfo),p=f.command,h=f;a&&(h=h.action(a)),h.collection(this.getMainCollection()).where({_id:p.in(l)}).remove().then((function(t){i&&i(t.result),c.pageData===d.replace?c.refresh():c.removeData(l)})).catch((function(t){n&&n(t),s&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){o&&uni.hideLoading(),r&&r()}))}}},removeData:function(t){for(var e=t.slice(0),a=this.dataList,i=a.length-1;i>=0;i--){var n=e.indexOf(a[i]._id);n>=0&&(a.splice(i,1),e.splice(n,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded,this.paginationInternal):this.$emit(t,e,this._isEnded,this.paginationInternal)}}};e.default=h}).call(this,a("a9ff")["default"])},f7b6:function(t,e,a){"use strict";a.r(e);var i=a("fde9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f808:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={login:{url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"},index:{url:"/pages/index/index"},error:{url:"/pages/error/404"},navBar:{logo:"/static/logo.png",langs:[{text:"\u4e2d\u6587\u7b80\u4f53",lang:"zh-Hans"},{text:"\u4e2d\u6587\u7e41\u9ad4",lang:"zh-Hant"},{text:"English",lang:"en"}],themes:[{text:"\u9ed8\u8ba4",value:"default"},{text:"\u7eff\u67d4",value:"green"}],debug:{enable:!1,engine:[{name:"\u767e\u5ea6",url:"https://www.baidu.com/baidu?wd=ERR_MSG"},{name:"\u8c37\u6b4c",url:"https://www.google.com/search?q=ERR_MSG"}]}},sideBar:{staticMenu:[{menu_id:"demo",text:"\u9759\u6001\u529f\u80fd\u6f14\u793a",icon:"admin-icons-kaifashili",url:"",children:[{menu_id:"icons",text:"\u56fe\u6807",icon:"admin-icons-icon",value:"/pages/demo/icons/icons"},{menu_id:"table",text:"\u8868\u683c",icon:"admin-icons-table",value:"/pages/demo/table/table"}]},{menu_id:"admim-doc-pulgin",text:"\u6587\u6863\u4e0e\u63d2\u4ef6",icon:"admin-icons-eco",url:"",children:[{menu_id:"admin-doc",icon:"admin-icons-doc",text:"uni-admin \u6846\u67b6\u6587\u6863",value:"https://uniapp.dcloud.net.cn/uniCloud/admin"},{menu_id:"stat-doc",icon:"admin-icons-help",text:"uni \u7edf\u8ba1\u6559\u7a0b",value:"https://uniapp.dcloud.net.cn/uni-stat-v2.html"},{menu_id:"admin-pulgin",icon:"admin-icons-pulgin",text:"uni-admin \u63d2\u4ef6",value:"https://ext.dcloud.net.cn/?cat1=7&cat2=74"}]}]},uniStat:{}}},f904:function(t,e,a){"use strict";a.r(e);var i=a("53e5"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f94c:function(t,e,a){"use strict";a.r(e);var i=a("b5eb"),n=a("1a25");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},f971:function(t,e,a){"use strict";a.r(e);var i=a("a032"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},f9e2:function(t,e,a){"use strict";a.r(e);var i=a("ca39"),n=a("33fb");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},fad3:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("278c")),r={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:function(){return{}}},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"",color:"#000000",size:20,customPrefix:""}}},border:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{padding:"",backgroundColor:"#FFFFFF"}}},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler:function(t){"number"==typeof t&&(t+="");var e=t.split(" ");if(1===e.length){var a=e[0];this.padding={top:a,right:a,bottom:a,left:a}}else if(2===e.length){var i=(0,n.default)(e,2),r=i[0],s=i[1];this.padding={top:r,right:s,bottom:r,left:s}}else if(4===e.length){var o=(0,n.default)(e,4),u=o[0],c=o[1],l=o[2],d=o[3];this.padding={top:u,right:c,bottom:l,left:d}}},immediate:!0}},data:function(){return{isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}},mounted:function(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange:function(t){this.$emit("switchChange",t.detail)},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(t){var e=this,a={url:this.to,success:function(t){e.$emit("click",{data:t})},fail:function(t){e.$emit("click",{data:t})}};switch(t){case"navigateTo":uni.navigateTo(a);break;case"redirectTo":uni.redirectTo(a);break;case"reLaunch":uni.reLaunch(a);break;case"switchTab":uni.switchTab(a);break;default:uni.navigateTo(a)}}}};e.default=r},fb00:function(t,e,a){"use strict";a.r(e);var i=a("f19b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},fb56:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,uniDataSelect:a("b3de").default,uniDatetimePicker:a("96c8").default,qiunDataCharts:a("068b").default,fixWindow:a("51f1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),a("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),a("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),a("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[a("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),a("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),a("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,i,n,r){return a("view",{key:t._$s(13,"f",{forIndex:n,key:i}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[a("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[i].title)))]),a("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[i],echartsH5:!0,echartsApp:!0,_i:"15-"+r}})],1)})),0)]),a("fix-window",{attrs:{_i:16}})],1)},r=[]},fcfb:function(t,e,a){"use strict";a.r(e);var i=a("53b8"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},fd7e:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:a("ee46").default,downloadExcel:a("c0d7").default,uniStatTabs:a("4b14").default,unicloudDb:a("960d").default,uniTable:a("60c8").default,uniTr:a("3513").default,uniTh:a("4e52").default,uniTd:a("d284").default,uniDateformat:a("6482").default,uniPagination:a("eb15").default,uniPopup:a("6a38").default,uniForms:a("2abe").default,uniFormsItem:a("19b1").default,uniEasyinput:a("5fc7").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[a("uni-stat-breadcrumb",{attrs:{_i:3}})],1),a("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[a("button",{staticClass:t._$s(5,"sc","uni-button"),attrs:{_i:5},on:{click:t.search}}),a("download-excel",{staticClass:t._$s(6,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:6}},[a("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}})])],1)]),a("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[a("view",{staticClass:t._$s(9,"sc","uni-stat--x"),attrs:{_i:9}},[a("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:10},on:{change:t.platformChange},model:{value:t._$s(10,"v-model",t.query.platform),callback:function(e){t.$set(t.query,"platform",e)},expression:"query.platform"}})],1),a("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"user_id,nickname,provider,provider_pay_type,uni_platform,status,type,order_no,out_trade_no,transaction_id,device_id,client_ip,openid,description,err_msg,total_fee,refund_fee,refund_count,refund_list,provider_appid,appid,user_order_success,create_date,pay_date,notify_date,cancel_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:11},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[a("uni-table",{ref:"table",staticStyle:{"min-height":"900px"},attrs:{loading:o,emptyText:u.message||o?"\u8bf7\u6c42\u4e2d...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"",_i:"12-"+n},on:{"selection-change":t.selectionChange}},[a("uni-tr",{attrs:{_i:"13-"+n}},[a("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("\u5e8f\u53f7")]),a("uni-th",{ref:"user_id",attrs:{align:"center",filterDefaultValue:t.filterDefaultValueUserId,"filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"user_id")},"sort-change":function(e){return t.sortChange(e,"user_id")}}},[t._v("\u7528\u6237")]),a("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.provider_localdata,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider")}}},[t._v("\u652f\u4ed8\u4f9b\u5e94\u5546")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider_pay_type")},"sort-change":function(e){return t.sortChange(e,"provider_pay_type")}}},[t._v("\u652f\u4ed8\u65b9\u5f0f")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"18-"+n},on:{"filter-change":function(e){return t.filterChange(e,"uni_platform")},"sort-change":function(e){return t.sortChange(e,"uni_platform")}}},[t._v("\u5e94\u7528\u5e73\u53f0")]),a("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.status_localdata,_i:"19-"+n},on:{"filter-change":function(e){return t.filterChange(e,"status")}}},[t._v("\u8ba2\u5355\u72b6\u6001")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"20-"+n},on:{"filter-change":function(e){return t.filterChange(e,"type")},"sort-change":function(e){return t.sortChange(e,"type")}}},[t._v("\u8ba2\u5355\u7c7b\u578b")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"21-"+n},on:{"filter-change":function(e){return t.filterChange(e,"order_no")},"sort-change":function(e){return t.sortChange(e,"order_no")}}},[t._v("\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"22-"+n},on:{"filter-change":function(e){return t.filterChange(e,"out_trade_no")},"sort-change":function(e){return t.sortChange(e,"out_trade_no")}}},[t._v("\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"23-"+n},on:{"filter-change":function(e){return t.filterChange(e,"transaction_id")},"sort-change":function(e){return t.sortChange(e,"transaction_id")}}},[t._v("\u4ea4\u6613\u5355\u53f7")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"24-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u652f\u4ed8\u63cf\u8ff0")]),a("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"25-"+n},on:{"filter-change":function(e){return t.filterChange(e,"total_fee",.01)},"sort-change":function(e){return t.sortChange(e,"total_fee")}}},[t._v("\u8ba2\u5355\u652f\u4ed8\u91d1\u989d")]),a("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"26-"+n},on:{"filter-change":function(e){return t.filterChange(e,"refund_fee",.01)},"sort-change":function(e){return t.sortChange(e,"refund_fee")}}},[t._v("\u8ba2\u5355\u9000\u6b3e\u91d1\u989d")]),a("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"27-"+n},on:{"filter-change":function(e){return t.filterChange(e,"refund_count")},"sort-change":function(e){return t.sortChange(e,"refund_count")}}},[t._v("\u5f53\u524d\u9000\u6b3e\u7b14\u6570")]),a("uni-th",{attrs:{align:"center",sortable:!0,_i:"28-"+n},on:{"sort-change":function(e){return t.sortChange(e,"user_order_success")}}},[t._v("\u56de\u8c03\u72b6\u6001")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"29-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"30-"+n},on:{"filter-change":function(e){return t.filterChange(e,"pay_date")},"sort-change":function(e){return t.sortChange(e,"pay_date")}}},[t._v("\u652f\u4ed8\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"31-"+n},on:{"filter-change":function(e){return t.filterChange(e,"cancel_date")},"sort-change":function(e){return t.sortChange(e,"cancel_date")}}},[t._v("\u53d6\u6d88\u65f6\u95f4")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"32-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider_appid")},"sort-change":function(e){return t.sortChange(e,"provider_appid")}}},[t._v("\u5f00\u653e\u5e73\u53f0appid")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"33-"+n},on:{"filter-change":function(e){return t.filterChange(e,"appid")},"sort-change":function(e){return t.sortChange(e,"appid")}}},[t._v("DCloud AppId")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"34-"+n},on:{"filter-change":function(e){return t.filterChange(e,"device_id")},"sort-change":function(e){return t.sortChange(e,"device_id")}}},[t._v("\u8bbe\u5907ID")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"35-"+n},on:{"filter-change":function(e){return t.filterChange(e,"client_ip")},"sort-change":function(e){return t.sortChange(e,"client_ip")}}},[t._v("\u5ba2\u6237\u7aefIP")]),a("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"36-"+n},on:{"filter-change":function(e){return t.filterChange(e,"openid")},"sort-change":function(e){return t.sortChange(e,"openid")}}},[t._v("openid")])],1),t._l(i._$s("37-"+n,"f",{forItems:r}),(function(e,r,o,u){return a("uni-tr",{key:i._$s("37-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"37-"+n+u}},[a("uni-td",{attrs:{align:"center",_i:"38-"+n+u}},[t._v(i._$s("38-"+n+u,"t0-0",t._s(parseInt(r+1+(s.current-1)*s.size))))]),a("uni-td",{attrs:{align:"center",_i:"39-"+n+u}},[a("text",{staticClass:i._$s("40-"+n+u,"sc","text-btn"),attrs:{_i:"40-"+n+u},on:{click:function(a){return t.pageToUser(e)}}},[t._v(i._$s("40-"+n+u,"t0-0",t._s(t.nameFormat(e))))])]),a("uni-td",{attrs:{align:"center",_i:"41-"+n+u}},[t._v(i._$s("41-"+n+u,"t0-0",t._s(c.provider_valuetotext[e.provider])))]),a("uni-td",{attrs:{align:"center",_i:"42-"+n+u}},[t._v(i._$s("42-"+n+u,"t0-0",t._s(e.provider_pay_type)))]),a("uni-td",{attrs:{align:"center",_i:"43-"+n+u}},[t._v(i._$s("43-"+n+u,"t0-0",t._s(e.uni_platform)))]),a("uni-td",{attrs:{align:"center",_i:"44-"+n+u}},[t._v(i._$s("44-"+n+u,"t0-0",t._s(c.status_valuetotext[e.status])))]),a("uni-td",{attrs:{align:"center",_i:"45-"+n+u}},[t._v(i._$s("45-"+n+u,"t0-0",t._s(e.type)))]),a("uni-td",{attrs:{align:"center",_i:"46-"+n+u}},[t._v(i._$s("46-"+n+u,"t0-0",t._s(e.order_no)))]),a("uni-td",{attrs:{align:"center",_i:"47-"+n+u}},[t._v(i._$s("47-"+n+u,"t0-0",t._s(e.out_trade_no)))]),a("uni-td",{attrs:{align:"center",_i:"48-"+n+u}},[t._v(i._$s("48-"+n+u,"t0-0",t._s(e.transaction_id)))]),a("uni-td",{attrs:{align:"center",_i:"49-"+n+u}},[t._v(i._$s("49-"+n+u,"t0-0",t._s(e.description)))]),a("uni-td",{attrs:{align:"center",_i:"50-"+n+u}},[t._v(i._$s("50-"+n+u,"t0-0",t._s((.01*e.total_fee).toFixed(2))))]),a("uni-td",{attrs:{align:"center",_i:"51-"+n+u}},[t._v(i._$s("51-"+n+u,"t0-0",t._s((.01*e.refund_fee).toFixed(2))))]),a("uni-td",{attrs:{align:"center",_i:"52-"+n+u}},[t._v(i._$s("52-"+n+u,"t0-0",t._s(e.refund_count)))]),a("uni-td",{attrs:{align:"center",_i:"53-"+n+u}},[i._$s("54-"+n+u,"i",!0===e.user_order_success)?a("view",{staticStyle:{color:"#18bc37"},attrs:{_i:"54-"+n+u}},[t._v("\u2714\u6b63\u5e38")]):i._$s("55-"+u,"e",[-1,0].indexOf(e.status)>-1)?a("view",{attrs:{_i:"55-"+u}},[t._v("-")]):a("view",{staticStyle:{color:"#e43d33"},attrs:{_i:"56-"+u}},[t._v("\u25cf\u5f02\u5e38")])]),a("uni-td",{attrs:{align:"center",_i:"57-"+n+u}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"58-"+n+u}})],1),a("uni-td",{attrs:{align:"center",_i:"59-"+n+u}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.pay_date,_i:"60-"+n+u}})],1),a("uni-td",{attrs:{align:"center",_i:"61-"+n+u}},[a("uni-dateformat",{attrs:{threshold:[0,0],date:e.cancel_date,_i:"62-"+n+u}})],1),a("uni-td",{attrs:{align:"center",_i:"63-"+n+u}},[t._v(i._$s("63-"+n+u,"t0-0",t._s(e.provider_appid)))]),a("uni-td",{attrs:{align:"center",_i:"64-"+n+u}},[t._v(i._$s("64-"+n+u,"t0-0",t._s(e.appid)))]),a("uni-td",{attrs:{align:"center",_i:"65-"+n+u}},[t._v(i._$s("65-"+n+u,"t0-0",t._s(e.device_id)))]),a("uni-td",{attrs:{align:"center",_i:"66-"+n+u}},[t._v(i._$s("66-"+n+u,"t0-0",t._s(e.client_ip)))]),a("uni-td",{attrs:{align:"center",_i:"67-"+n+u}},[t._v(i._$s("67-"+n+u,"t0-0",t._s(e.openid)))])],1)}))],2),a("view",{staticClass:i._$s("68-"+n,"sc","uni-pagination-box"),attrs:{_i:"68-"+n}},[a("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"69-"+n},on:{change:t.onPageChanged},model:{value:t._$s("69-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),a("uni-popup",{ref:"popup",attrs:{type:"center",animation:!1,_i:70}},[a("view",[a("view"),a("uni-forms",{ref:"refundForm",attrs:{modelValue:t.refundFormData,"label-position":"left",labelWidth:"100px",rules:t.refundFormRules,_i:73}},[a("uni-forms-item",{attrs:{label:"\u9000\u6b3e\u91d1\u989d",name:"refund_fee",_i:74}},[a("uni-easyinput",{attrs:{type:"text",placeholder:"\u8bf7\u8f93\u5165\u9000\u6b3e\u91d1\u989d",clearable:!1,_i:75},model:{value:t._$s(75,"v-model",t.refundFormData.refund_fee),callback:function(e){t.$set(t.refundFormData,"refund_fee",t._n(e))},expression:"refundFormData.refund_fee"}}),a("view",[t._v(t._$s(76,"t0-0",t._s(t.refundFormData.max_refund_fee)))])],1),a("uni-forms-item",{attrs:{label:"\u9000\u6b3e\u539f\u56e0",name:"refund_desc",_i:77}},[a("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u9000\u6b3e\u539f\u56e0",clearable:!1,_i:78},model:{value:t._$s(78,"v-model",t.refundFormData.refund_desc),callback:function(e){t.$set(t.refundFormData,"refund_desc",e)},expression:"refundFormData.refund_desc"}})],1),a("button",{attrs:{_i:79},on:{click:function(e){return t.confirmRefund(t.refundFormData)}}})],1)],1)])],1)},r=[]},fda0:function(t,e,a){"use strict";a.r(e);var i=a("5a38"),n=a("827f");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},fde9:function(t,e,a){"use strict";(function(t,i){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("a34a")),s=n(a("c973")),o=a("b452"),u={data:function(){return{isPC:!1}},props:{width:{type:String,default:function(){return"50px"}},height:{type:String,default:function(){return"50px"}},border:{type:Boolean,default:function(){return!1}}},mounted:function(){return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{hasLogin:function(){return o.store.hasLogin},userInfo:function(){return o.store.userInfo},avatar_file:function(){return o.store.userInfo.avatar_file}},methods:{setAvatarFile:function(t){o.mutations.updateUserInfo({avatar_file:t})},bindchooseavatar:function(e){var a=this;return(0,s.default)(r.default.mark((function i(){var n,s,o,u,c;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.detail.avatarUrl,s={extname:n.split(".")[n.split(".").length-1],name:"",url:""},o=a.userInfo._id+""+Date.now(),s.name=o,i.prev=4,uni.showLoading({title:"\u66f4\u65b0\u4e2d",mask:!0}),i.next=8,t.uploadFile({filePath:n,cloudPath:o,fileType:"image"});case 8:u=i.sent,c=u.fileID,s.url=c,uni.hideLoading(),i.next=17;break;case 14:i.prev=14,i.t0=i["catch"](4),i.t0;case 17:a.setAvatarFile(s);case 19:case"end":return i.stop()}}),i,null,[[4,14]])})))()},uploadAvatarImg:function(e){var a=this;if(!this.hasLogin)return uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"});uni.chooseImage({count:1,crop:{quality:100,width:600,height:600,resize:!0},success:function(){var e=(0,s.default)(r.default.mark((function e(i){var n,s,o,u,c,l;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.tempFiles[0],s={extname:n.path.split(".")[n.path.split(".").length-1]},o=i.tempFilePaths[0],u=a.userInfo._id+""+Date.now(),s.name=u,uni.showLoading({title:"\u66f4\u65b0\u4e2d",mask:!0}),e.next=6,t.uploadFile({filePath:o,cloudPath:u,fileType:"image"});case 6:c=e.sent,l=c.fileID,s.url=l,uni.hideLoading(),a.setAvatarFile(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}}};e.default=u}).call(this,a("a9ff")["default"],a("0de9")["default"])},fe05:function(t,e,a){"use strict";a.r(e);var i=a("01a3");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var r=a("f0c5"),s=Object(r["a"])(i["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);e["default"]=s.exports},fe07:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=function(t){return t},e.Component=function(e){var a=function(e){var a=e.data,i=e.options,n=e.methods,r=e.behaviors,s=e.lifetimes,o=e.observers,l=e.relations,d=e.properties,p=e.pageLifetimes,h=e.externalClasses,m={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return c(m),u(a,m),function(t,e){if(!t)return;e.mpOptions.options=t}(i,m),$(n,m),O(r,m),function(t,e){if(!t)return;k(t,e)}(s,m),function(t,e){if(!t)return;var a=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){a.push({paths:P(e),observer:t[e]})}))}(o,m),function(e,a){if(!e)return;Object.keys(e).forEach((function(a){var i=e[a];i.name=a,i.target=i.target?String(i.target):function(t,e){0===e.indexOf("/")&&(t="");var a=t.split("/"),i=e.split("/");a.pop();while(i.length){var n=i.shift();""!==n&&"."!==n&&(".."!==n?a.push(n):a.pop())}return a.join("/")}(t.__wxRoute,a)})),a.mpOptions.relations=e}(l,m),C(d,m),function(t,e){if(!t)return;x.forEach((function(a){var i=t[a];f(i)&&(e[b[a]]=i)}))}(p,m),function(t,e){if(!t)return;Array.isArray(t)||(t=[t]);e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null));t.forEach((function(t){e.mpOptions.properties[g(t)]={type:String,value:""}}))}(h,m),k(e,m),S(e),m}(e);a.mixins.unshift(K),a.mpOptions.path=t.__wxRoute,function(t){t.onServiceAttached||(t.onServiceAttached=[]);t.onServiceAttached.push((function(){E(this,"linked")}))}(a),t.__wxComponents[t.__wxRoute]=a},e.Page=function(e){var a=function(t){var e={mixins:[],mpOptions:{}};return c(e),u(t.data,e),function(t,e){var a=Object.create(null);Object.keys(t).forEach((function(e){var i=t[e];f(i)&&-1===w.indexOf(e)&&(a[e]=i)})),e.methods=a}(t,e),function(t,e){Object.keys(t).forEach((function(a){-1!==w.indexOf(a)&&(e[a]=t[a])}))}(t,e),e}(e);a.mixins.unshift(K),a.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=a},e.nextTick=e.default=void 0;var n,r=i(a("9523")),s=i(a("278c")),o=i(a("8bbf"));function u(t,e){t&&(e.mpOptions.data=t)}function c(e){e.components=t.__wxVueOptions.components}var l=Object.prototype.toString,d=Object.prototype.hasOwnProperty;function f(t){return"function"===typeof t}function p(t){return"[object Object]"===l.call(t)}function h(t,e){return d.call(t,e)}function m(){}var _=/-(\w)/g,g=function(t){var e=Object.create(null);return function(a){var i=e[a];return i||(e[a]=t(a))}}((function(t){return t.replace(_,(function(t,e){return e?e.toUpperCase():""}))})),v={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},y=Object.keys(v),b={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},x=Object.keys(b),w=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function C(t,e){t&&(e.mpOptions.properties=t)}function $(t,e){t&&(t.$emit&&delete t.$emit,e.methods=t)}function k(t,e){y.forEach((function(a){h(t,a)&&(e[v[a]]||(e[v[a]]=[])).push(t[a])}))}var D={"wx://form-field":{},"wx://component-export":{}};function S(t,e){(function(t){var e=t.behaviors,a=t.definitionFilter,i=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?D[e]:e,e.definitionFilter&&(i.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),f(a));})(t)}var T={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;h(e,"name")||(e.name={type:String}),h(e,"value")||(e.value={type:String})}}};function O(t,e){t&&t.forEach((function(t){"string"===typeof t?T[t]&&e.mixins.push(T[t]):e.mixins.push(function(t){var e=t.data,a=t.methods,i=t.behaviors,n=t.properties,r={watch:{},mpOptions:{mpObservers:[]}};return u(e,r),$(a,r),O(i,r),C(n,r),k(t,r),S(t),r}(t))}))}function P(t){return t.split(",").map((function(t){return function(t){return t.split(".")}(t)}))}function M(t,e,a,i){if(e){var n="_$".concat(t,"Handlers");(i[n]||(i[n]=[])).push((function(){e.call(i,a)}))}}function A(t,e,a){var i=t.name,n=a._$relationNodes||(a._$relationNodes=Object.create(null));(n[i]||(n[i]=[])).push(e),M("linked",t["linked"],e,a)}function I(t,e,a){M("unlinked",t["unlinked"],e,a)}function j(t,e,a){var i=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!i)return[];var n=Object.keys(i).find((function(t){var n=i[t];return n.target===e&&n.type===a}));return n?[i[n],t]:[]}function F(t,e,a){var i=a(t,t.$options.mpOptions.path),n=(0,s.default)(i,2),r=n[0],o=n[1];r&&(A(r,t,o),A(e,o,t),I(r,t,o),I(e,o,t))}function L(t){var e=t.$options.mpOptions||{},a=e.relations;a&&Object.keys(a).forEach((function(e){(function(t,e){var a=t.type;"parent"===a?F(e,t,(function(t,e){return j(t.$parent,e,"child")})):"ancestor"===a&&F(e,t,(function(t,e){var a=t.$parent;while(a){var i=j(a,e,"descendant");if(i.length)return i;a=a.$parent}return[]}))})(a[e],t)}))}function E(t,e){var a=t["_$".concat(e,"Handlers")];a&&a.forEach((function(t){return t()}))}var q={enumerable:!0,configurable:!0,get:m,set:m};function R(t,e,a){q.get=function(){return this[e][a]},q.set=function(t){this[e][a]=t},Object.defineProperty(t,a,q)}function N(t,e){var a=this;p(t)&&(Object.keys(t).forEach((function(e){(function(t,e,a){var i=t.replace(/\[(\d+?)\]/g,".$1").split(".");return i.reduce((function(t,a,n){if(n!==i.length-1)return"undefined"===typeof t[a]&&(t[a]={}),t[a];t[a]=e}),a),1===i.length})(e,t[e],a.data)&&!h(a,e)&&R(a,"__data__",e)})),this.$forceUpdate(),f(e)&&this.$nextTick(e))}var B=Object.prototype.toString,z=function(t){return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,i=B.call(a);if("[object Array]"===i)return e=a.slice(0),e;if("[object Object]"===i){for(var n in a)e[n]=t(e[n],a[n]);return e}if("[object Date]"===i)return new Date(a.getTime());if("[object RegExp]"===i){var r=String(a),s=r.lastIndexOf("/");return new RegExp(r.slice(1,s),r.slice(s+1))}return a}("[object Array]"===B.call(t)?[]:{},t)},W=(n={},(0,r.default)(n,String,""),(0,r.default)(n,Number,0),(0,r.default)(n,Boolean,!1),(0,r.default)(n,Object,null),(0,r.default)(n,Array,[]),(0,r.default)(n,null,null),n);function U(t){return W[t]}function V(t){return p(t)?t.type:t}function H(t,e,a,i){var n=a[t];if(void 0!==n){var r=e[t],s=V(r);n=G(n,s);var o=r&&r.observer;return o&&setTimeout((function(){Q(o,i,n)}),4),n}return function(t){return p(t)?h(t,"value")?t.value:U(t.type):U(t)}(e[t])}function G(t,e){return e===Boolean?!!t:e===String?String(t):t}function Q(t,e,a,i){try{"function"===typeof t?t.call(e,a,i):"string"===typeof t&&"function"===typeof e[t]&&e[t](a,i)}catch(n){}}function J(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,a=t.$options.propsData;a&&e&&Object.keys(e).forEach((function(i){h(a,i)&&(t[i]=G(a[i],V(e[i])))}))}function Y(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t["__data__"]=e;var a={get:function(){return t["__data__"]},set:function(e){t["__data__"]=e}};Object.defineProperties(t,{data:a,properties:a}),t.setData=N,function(t,e){var a=t.$options.mpOptions.properties;if(a){var i=z(t.$options.propsData)||{},n=function(n){var r=!!p(a[n])&&a[n].observer,s=H(n,a,i,t);Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){var a=s;e===s||e!==e&&s!==s||(s=Array.isArray(e)?e.slice(0):e,r&&Q(r,t,e,a),t.$forceUpdate())}})};for(var r in a)n(r)}}(t,e),Object.keys(e).forEach((function(e){R(t,"__data__",e)}))}var K={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=m},created:function(){Y(this),function(t){var e=t.$emit;t.triggerEvent=function(a,i,n){var r={dataset:t.$el.dataset},s={target:r,currentTarget:r,detail:i,preventDefault:m,stopPropagation:m};e.call(t,a,s)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=J}(this),L(this)},mounted:function(){(function(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(a){var i=e[a];if(i.mounted){var n=t[a],r=i.handler;"string"===typeof r&&(r=t[r]),r&&r.call(t,n,n)}}))})(this)},destroyed:function(){E(this,"unlinked")}};t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var X=o.default.nextTick;e.nextTick=X;var Z=uni.__$wx__,tt=Z;e.default=tt}).call(this,a("c8ba"))},ff02:function(t,e,a){"use strict";a.r(e);var i=a("c068"),n=a("b247");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=o.exports},ffd2:function(t,e,a){"use strict";(function(t){var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9523")),r=a("7c48");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=t.database(),c=["title","path"],l={ascending:"asc",descending:"desc"},d={data:function(){return{collectionList:"uni-stat-pages",appid:"",query:"",where:"",orderby:"",orderByFieldName:"",selectedIndexs:[],errorMessage:"",options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-stat-pages.xls",type:"xls",fields:{title:"title",path:"path"}},exportExcelData:[],pageInfo:{_id:"",page_rules:[]},editRulePopup:{loading:!1,tips:"\u9875\u9762\u89c4\u5219\u8bf4\u660e\uff1a\n1. \u7528\u4e8e\u751f\u6210\u5185\u5bb9\u7edf\u8ba1 url \u7684\u89c4\u5219\u3002\u901a\u8fc7\u8bbe\u7f6e\u9875\u9762\u6709\u6548\u53c2\u6570\uff0c\u901a\u8fc7\u5e26\u53c2\u6570\u7684 url \u5bf9\u5185\u5bb9\u8fdb\u884c\u6807\u8bc6\u3002\u4f8b\u5982\u6709\u4e00\u4e2a\u8be6\u60c5\u9875\u9762\u7684\u8bf7\u6c42\u6709\u4e09\u4e2a\u53c2\u6570 page/detail/detail?id=1&type=1&t=1565943419\uff0c\u5176\u4e2d t \u4e3a\u65f6\u95f4\u6233\u6216\u968f\u673a\u6570\uff0c\u5219 id \u548c type \u4e3a\u6709\u6548\u53c2\u6570\uff0c\u9700\u8981\u5728\u9875\u9762\u89c4\u5219 page/detail/detail \u4e2d\u6dfb\u52a0 id,type \u8fd9\u4e24\u4e2a\u53c2\u6570\u3002\n2. \u6bcf\u6761\u89c4\u5219\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u53c2\u6570\uff0c\u8fdb\u884c\u5339\u914d\u65f6\uff0c\u6bcf\u6761\u89c4\u5219\u5355\u72ec\u751f\u6548\u3002\n3. \u6bcf\u4e2a\u9875\u9762\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u89c4\u5219\uff08\u6700\u591a 5 \u4e2a\u89c4\u5219\uff09\uff0c\u8fdb\u884c\u5339\u914d\u65f6\uff0c\u540e\u6dfb\u52a0\u7684\u89c4\u5219\u4f18\u5148\u7ea7\u8f83\u9ad8\n4. \u76ee\u524d\u7684\u5339\u914d\u89c4\u5219\u53ea\u80fd\u5904\u7406\u901a\u8fc7 url \u663e\u5f0f\u4f20\u9012\u53c2\u6570\uff0c\u4e14\u53c2\u6570\u5f62\u5f0f\u4e3a\u4e0a\u8ff0\u793a\u4f8b\u4e2d\u7684\u952e\u503c\u5bf9\u683c\u5f0f\u3002",isAddParam:!1,addParamInfo:{index1:"",value:""}}}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.appListRef&&(this.appid=this.$refs.appListRef.getCache(),this.search())},methods:{onqueryload:function(t){this.exportExcelData=t},getWhere:function(){var t=this.query.trim(),e="";if(t){var a=new RegExp(t,"i");e=c.map((function(t){return a+".test("+t+")"})).join(" || ")}return this.appid&&(e=t?"appid=='".concat(this.appid,"' && (").concat(e,")"):"appid=='".concat(this.appid,"'")),e},search:function(){var t=this;this.errorMessage="";var e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var a=this;uni.navigateTo({url:t,events:{refreshData:function(){a.loadData(e)}}})},sortChange:function(t,e){var a=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){a.$refs.udb.loadData()}))},filterChange:function(t,e){var a=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,r.filterToWhere)(this._filter,u.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))},editRule:function(t){this.$refs.editRulePopup.open(),t.page_rules&&t.page_rules.length||(t.page_rules=[[]]),this.pageInfo={_id:t._id,page_rules:JSON.parse(JSON.stringify(t.page_rules))}},addRulesItem:function(){this.pageInfo.page_rules.unshift([])},deleteRulesItem:function(t){this.pageInfo.page_rules.splice(t,1)},addParamItem:function(t){this.editRulePopup.isAddParam=!0,this.editRulePopup.addParamInfo.value="",this.editRulePopup.addParamInfo.index1=t},confirmAddParamItem:function(t){this.editRulePopup.addParamInfo.value&&this.pageInfo.page_rules[t].push(this.editRulePopup.addParamInfo.value),this.editRulePopup.isAddParam=!1},deleteParamItem:function(t,e){this.pageInfo.page_rules[t].splice(e,1)},closeEditRulePopup:function(){this.$refs.editRulePopup.close()},saveRule:function(){var t=this;this.editRulePopup.loading=!0;var e=JSON.parse(JSON.stringify(this.pageInfo.page_rules));e=e.filter((function(t){return t.length>0})),this.$refs.udb.update(this.pageInfo._id,{page_rules:e},{showToast:!1,needLoading:!1,success:function(){t.$refs.udb.dataList.forEach((function(a){a._id===t.pageInfo._id&&(a.page_rules=e)})),t.closeEditRulePopup()},complete:function(){t.editRulePopup.loading=!1}})}}};e.default=d}).call(this,a("a9ff")["default"])}},[["e3fa","app-config"]]]);